function ET(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Em(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var nw={exports:{}},hd={},rw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),TT=Symbol.for("react.portal"),NT=Symbol.for("react.fragment"),_T=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),PT=Symbol.for("react.suspense"),IT=Symbol.for("react.memo"),RT=Symbol.for("react.lazy"),qy=Symbol.iterator;function LT(t){return t===null||typeof t!="object"?null:(t=qy&&t[qy]||t["@@iterator"],typeof t=="function"?t:null)}var iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sw=Object.assign,ow={};function jo(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||iw}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lw(){}lw.prototype=jo.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||iw}var Tm=Cm.prototype=new lw;Tm.constructor=Cm;sw(Tm,jo.prototype);Tm.isPureReactComponent=!0;var Ky=Array.isArray,aw=Object.prototype.hasOwnProperty,Nm={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)aw.call(e,r)&&!uw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ea,type:t,key:s,ref:o,props:i,_owner:Nm.current}}function DT(t,e){return{$$typeof:Ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ea}function zT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jy=/\/+/g;function uf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zT(""+t.key):e.toString(36)}function Nu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ea:case TT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uf(o,0):r,Ky(i)?(n="",t!=null&&(n=t.replace(Jy,"$&/")+"/"),Nu(i,e,n,"",function(u){return u})):i!=null&&(_m(i)&&(i=DT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ky(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+uf(s,l);o+=Nu(s,e,n,a,i)}else if(a=LT(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+uf(s,l++),o+=Nu(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(t,e,n){if(t==null)return t;var r=[],i=0;return Nu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},_u={transition:null},$T={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Nm};function dw(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Ua,forEach:function(t,e,n){Ua(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ua(t,function(){e++}),e},toArray:function(t){return Ua(t,function(e){return e})||[]},only:function(t){if(!_m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=jo;de.Fragment=NT;de.Profiler=AT;de.PureComponent=Cm;de.StrictMode=_T;de.Suspense=PT;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;de.act=dw;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Nm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)aw.call(e,a)&&!uw.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ea,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:MT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OT,_context:t},t.Consumer=t};de.createElement=cw;de.createFactory=function(t){var e=cw.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:jT,render:t}};de.isValidElement=_m;de.lazy=function(t){return{$$typeof:RT,_payload:{_status:-1,_result:t},_init:FT}};de.memo=function(t,e){return{$$typeof:IT,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};de.unstable_act=dw;de.useCallback=function(t,e){return $t.current.useCallback(t,e)};de.useContext=function(t){return $t.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};de.useEffect=function(t,e){return $t.current.useEffect(t,e)};de.useId=function(){return $t.current.useId()};de.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return $t.current.useMemo(t,e)};de.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};de.useRef=function(t){return $t.current.useRef(t)};de.useState=function(t){return $t.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return $t.current.useTransition()};de.version="18.3.1";rw.exports=de;var N=rw.exports;const _e=Em(N),BT=ET({__proto__:null,default:_e},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=N,HT=Symbol.for("react.element"),VT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,qT=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KT={key:!0,ref:!0,__self:!0,__source:!0};function fw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WT.call(e,r)&&!KT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HT,type:t,key:s,ref:o,props:i,_owner:qT.current}}hd.Fragment=VT;hd.jsx=fw;hd.jsxs=fw;nw.exports=hd;var p=nw.exports,hw={exports:{}},hn={},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var k=$.length;$.push(K);e:for(;0<k;){var G=k-1>>>1,ye=$[G];if(0<i(ye,K))$[G]=K,$[k]=ye,k=G;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],k=$.pop();if(k!==K){$[0]=k;e:for(var G=0,ye=$.length,b=ye>>>1;G<b;){var Fe=2*(G+1)-1,me=$[Fe],xe=Fe+1,Ut=$[xe];if(0>i(me,k))xe<ye&&0>i(Ut,me)?($[G]=Ut,$[xe]=k,G=xe):($[G]=me,$[Fe]=k,G=Fe);else if(xe<ye&&0>i(Ut,k))$[G]=Ut,$[xe]=k,G=xe;else break e}}return K}function i($,K){var k=$.sortIndex-K.sortIndex;return k!==0?k:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=$)r(u),K.sortIndex=K.expirationTime,e(a,K);else break;K=n(u)}}function E($){if(g=!1,w($),!m)if(n(a)!==null)m=!0,we(C);else{var K=n(u);K!==null&&ke(E,K.startTime-$)}}function C($,K){m=!1,g&&(g=!1,y(M),M=-1),h=!0;var k=f;try{for(w(K),d=n(a);d!==null&&(!(d.expirationTime>K)||$&&!D());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var ye=G(d.expirationTime<=K);K=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(a)&&r(a),w(K)}else r(a);d=n(a)}if(d!==null)var b=!0;else{var Fe=n(u);Fe!==null&&ke(E,Fe.startTime-K),b=!1}return b}finally{d=null,f=k,h=!1}}var S=!1,O=null,M=-1,L=5,_=-1;function D(){return!(t.unstable_now()-_<L)}function U(){if(O!==null){var $=t.unstable_now();_=$;var K=!0;try{K=O(!0,$)}finally{K?re():(S=!1,O=null)}}else S=!1}var re;if(typeof x=="function")re=function(){x(U)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ee=he.port2;he.port1.onmessage=U,re=function(){ee.postMessage(null)}}else re=function(){v(U,0)};function we($){O=$,S||(S=!0,re())}function ke($,K){M=v(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,we(C))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var k=f;f=K;try{return $()}finally{f=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var k=f;f=$;try{return K()}finally{f=k}},t.unstable_scheduleCallback=function($,K,k){var G=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=k+ye,$={id:c++,callback:K,priorityLevel:$,startTime:k,expirationTime:ye,sortIndex:-1},k>G?($.sortIndex=k,e(u,$),n(a)===null&&$===n(u)&&(g?(y(M),M=-1):g=!0,ke(E,k-G))):($.sortIndex=ye,e(a,$),m||h||(m=!0,we(C))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var K=f;return function(){var k=f;f=K;try{return $.apply(this,arguments)}finally{f=k}}}})(mw);pw.exports=mw;var JT=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=N,dn=JT;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gw=new Set,Wl={};function ks(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(Wl[t]=e,t=0;t<e.length;t++)gw.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=Object.prototype.hasOwnProperty,QT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gy={},Qy={};function YT(t){return Rh.call(Qy,t)?!0:Rh.call(Gy,t)?!1:QT.test(t)?Qy[t]=!0:(Gy[t]=!0,!1)}function XT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZT(t,e,n,r){if(e===null||typeof e>"u"||XT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Om);mt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Om);mt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Om);mt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mm(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZT(e,n,i,r)&&(n=null),r||i===null?YT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),zh=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),vw=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function Jo(t){return t===null||typeof t!="object"?null:(t=Yy&&t[Yy]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,cf;function hl(t){if(cf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cf=e&&e[1]||""}return`
`+cf+t}var df=!1;function ff(t,e){if(!t||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{df=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hl(t):""}function eN(t){switch(t.tag){case 5:return hl(t.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return t=ff(t.type,!1),t;case 11:return t=ff(t.type.render,!1),t;case 1:return t=ff(t.type,!0),t;default:return""}}function Fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Hs:return"Portal";case Lh:return"Profiler";case jm:return"StrictMode";case Dh:return"Suspense";case zh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xw:return(t.displayName||"Context")+".Consumer";case yw:return(t._context.displayName||"Context")+".Provider";case Pm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Im:return e=t.displayName||null,e!==null?e:Fh(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Fh(t(e))}catch{}}return null}function tN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(e);case 8:return e===jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nN(t){var e=ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=nN(t))}function kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $h(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bw(t,e){e=e.checked,e!=null&&Mm(t,"checked",e,!1)}function Bh(t,e){bw(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uh(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uh(t,e,n){(e!=="number"||Ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pl=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(pl(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function Sw(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wa,Cw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){rN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function Tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function Nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iN=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wh(t,e){if(e){if(iN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jh=null,io=null,so=null;function n0(t){if(t=Na(t)){if(typeof Jh!="function")throw Error(I(280));var e=t.stateNode;e&&(e=xd(e),Jh(t.stateNode,t.type,e))}}function _w(t){io?so?so.push(t):so=[t]:io=t}function Aw(){if(io){var t=io,e=so;if(so=io=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function Ow(t,e){return t(e)}function Mw(){}var hf=!1;function jw(t,e,n){if(hf)return t(e,n);hf=!0;try{return Ow(t,e,n)}finally{hf=!1,(io!==null||so!==null)&&(Mw(),Aw())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Gh=!1;if(Mr)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Gh=!1}function sN(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Sl=!1,Ju=null,Gu=!1,Qh=null,oN={onError:function(t){Sl=!0,Ju=t}};function lN(t,e,n,r,i,s,o,l,a){Sl=!1,Ju=null,sN.apply(oN,arguments)}function aN(t,e,n,r,i,s,o,l,a){if(lN.apply(this,arguments),Sl){if(Sl){var u=Ju;Sl=!1,Ju=null}else throw Error(I(198));Gu||(Gu=!0,Qh=u)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(bs(t)!==t)throw Error(I(188))}function uN(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r0(i),t;if(s===r)return r0(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Iw(t){return t=uN(t),t!==null?Rw(t):null}function Rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rw(t);if(e!==null)return e;t=t.sibling}return null}var Lw=dn.unstable_scheduleCallback,i0=dn.unstable_cancelCallback,cN=dn.unstable_shouldYield,dN=dn.unstable_requestPaint,Ve=dn.unstable_now,fN=dn.unstable_getCurrentPriorityLevel,Lm=dn.unstable_ImmediatePriority,Dw=dn.unstable_UserBlockingPriority,Qu=dn.unstable_NormalPriority,hN=dn.unstable_LowPriority,zw=dn.unstable_IdlePriority,pd=null,ar=null;function pN(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:yN,mN=Math.log,gN=Math.LN2;function yN(t){return t>>>=0,t===0?32:31-(mN(t)/gN|0)|0}var qa=64,Ka=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ml(l):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function xN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=xN(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Yh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fw(){var t=qa;return qa<<=1,!(qa&4194240)&&(qa=64),t}function pf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function wN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function $w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bw,zm,Uw,Hw,Vw,Xh=!1,Ja=[],ci=null,di=null,fi=null,Jl=new Map,Gl=new Map,Zr=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function Qo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Na(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bN(t,e,n,r,i){switch(e){case"focusin":return ci=Qo(ci,t,e,n,r,i),!0;case"dragenter":return di=Qo(di,t,e,n,r,i),!0;case"mouseover":return fi=Qo(fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,Qo(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,Qo(Gl.get(s)||null,t,e,n,r,i)),!0}return!1}function Ww(t){var e=Qi(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=Pw(n),e!==null){t.blockedOn=e,Vw(t.priority,function(){Uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kh=r,n.target.dispatchEvent(r),Kh=null}else return e=Na(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){Au(t)&&n.delete(e)}function SN(){Xh=!1,ci!==null&&Au(ci)&&(ci=null),di!==null&&Au(di)&&(di=null),fi!==null&&Au(fi)&&(fi=null),Jl.forEach(o0),Gl.forEach(o0)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,SN)))}function Ql(t){function e(i){return Yo(i,t)}if(0<Ja.length){Yo(Ja[0],t);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Yo(ci,t),di!==null&&Yo(di,t),fi!==null&&Yo(fi,t),Jl.forEach(e),Gl.forEach(e),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&Zr.shift()}var oo=Rr.ReactCurrentBatchConfig,Xu=!0;function EN(t,e,n,r){var i=Se,s=oo.transition;oo.transition=null;try{Se=1,Fm(t,e,n,r)}finally{Se=i,oo.transition=s}}function CN(t,e,n,r){var i=Se,s=oo.transition;oo.transition=null;try{Se=4,Fm(t,e,n,r)}finally{Se=i,oo.transition=s}}function Fm(t,e,n,r){if(Xu){var i=Zh(t,e,n,r);if(i===null)Ef(t,e,r,Zu,n),s0(t,r);else if(bN(i,t,e,n,r))r.stopPropagation();else if(s0(t,r),e&4&&-1<kN.indexOf(t)){for(;i!==null;){var s=Na(i);if(s!==null&&Bw(s),s=Zh(t,e,n,r),s===null&&Ef(t,e,r,Zu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ef(t,e,r,null,n)}}var Zu=null;function Zh(t,e,n,r){if(Zu=null,t=Rm(r),t=Qi(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zu=t,null}function qw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fN()){case Lm:return 1;case Dw:return 4;case Qu:case hN:return 16;case zw:return 536870912;default:return 16}default:return 16}}var ii=null,$m=null,Ou=null;function Kw(){if(Ou)return Ou;var t,e=$m,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ou=i.slice(t,1<r?1-r:void 0)}function Mu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function l0(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ga:l0,this.isPropagationStopped=l0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=pn(Po),Ta=ze({},Po,{view:0,detail:0}),TN=pn(Ta),mf,gf,Xo,md=ze({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(mf=t.screenX-Xo.screenX,gf=t.screenY-Xo.screenY):gf=mf=0,Xo=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:gf}}),a0=pn(md),NN=ze({},md,{dataTransfer:0}),_N=pn(NN),AN=ze({},Ta,{relatedTarget:0}),yf=pn(AN),ON=ze({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=pn(ON),jN=ze({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PN=pn(jN),IN=ze({},Po,{data:0}),u0=pn(IN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DN[t])?!!e[t]:!1}function Um(){return zN}var FN=ze({},Ta,{key:function(t){if(t.key){var e=RN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(t){return t.type==="keypress"?Mu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$N=pn(FN),BN=ze({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=pn(BN),UN=ze({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),HN=pn(UN),VN=ze({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),WN=pn(VN),qN=ze({},md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=pn(qN),JN=[9,13,27,32],Hm=Mr&&"CompositionEvent"in window,El=null;Mr&&"documentMode"in document&&(El=document.documentMode);var GN=Mr&&"TextEvent"in window&&!El,Jw=Mr&&(!Hm||El&&8<El&&11>=El),d0=" ",f0=!1;function Gw(t,e){switch(t){case"keyup":return JN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function QN(t,e){switch(t){case"compositionend":return Qw(e);case"keypress":return e.which!==32?null:(f0=!0,d0);case"textInput":return t=e.data,t===d0&&f0?null:t;default:return null}}function YN(t,e){if(Ws)return t==="compositionend"||!Hm&&Gw(t,e)?(t=Kw(),Ou=$m=ii=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jw&&e.locale!=="ko"?null:e.data;default:return null}}var XN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XN[t.type]:e==="textarea"}function Yw(t,e,n,r){_w(r),e=ec(e,"onChange"),0<e.length&&(n=new Bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Yl=null;function ZN(t){ak(t,0)}function gd(t){var e=Js(t);if(kw(e))return t}function e_(t,e){if(t==="change")return e}var Xw=!1;if(Mr){var xf;if(Mr){var vf="oninput"in document;if(!vf){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),vf=typeof p0.oninput=="function"}xf=vf}else xf=!1;Xw=xf&&(!document.documentMode||9<document.documentMode)}function m0(){Cl&&(Cl.detachEvent("onpropertychange",Zw),Yl=Cl=null)}function Zw(t){if(t.propertyName==="value"&&gd(Yl)){var e=[];Yw(e,Yl,t,Rm(t)),jw(ZN,e)}}function t_(t,e,n){t==="focusin"?(m0(),Cl=e,Yl=n,Cl.attachEvent("onpropertychange",Zw)):t==="focusout"&&m0()}function n_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(Yl)}function r_(t,e){if(t==="click")return gd(e)}function i_(t,e){if(t==="input"||t==="change")return gd(e)}function s_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:s_;function Xl(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rh.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function ek(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ek(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tk(){for(var t=window,e=Ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ku(t.document)}return e}function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o_(t){var e=tk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ek(n.ownerDocument.documentElement,n)){if(r!==null&&Vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=y0(n,s);var o=y0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l_=Mr&&"documentMode"in document&&11>=document.documentMode,qs=null,ep=null,Tl=null,tp=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||qs==null||qs!==Ku(r)||(r=qs,"selectionStart"in r&&Vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Xl(Tl,r)||(Tl=r,r=ec(ep,"onSelect"),0<r.length&&(e=new Bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qs)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},wf={},nk={};Mr&&(nk=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function yd(t){if(wf[t])return wf[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nk)return wf[t]=e[n];return t}var rk=yd("animationend"),ik=yd("animationiteration"),sk=yd("animationstart"),ok=yd("transitionend"),lk=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){lk.set(t,e),ks(e,[t])}for(var kf=0;kf<v0.length;kf++){var bf=v0[kf],a_=bf.toLowerCase(),u_=bf[0].toUpperCase()+bf.slice(1);Ni(a_,"on"+u_)}Ni(rk,"onAnimationEnd");Ni(ik,"onAnimationIteration");Ni(sk,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(ok,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function w0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aN(r,e,void 0,t),t.currentTarget=null}function ak(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;w0(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;w0(i,l,u),s=a}}}if(Gu)throw t=Qh,Gu=!1,Qh=null,t}function Oe(t,e){var n=e[op];n===void 0&&(n=e[op]=new Set);var r=t+"__bubble";n.has(r)||(uk(e,t,2,!1),n.add(r))}function Sf(t,e,n){var r=0;e&&(r|=4),uk(n,t,r,e)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Ya]){t[Ya]=!0,gw.forEach(function(n){n!=="selectionchange"&&(c_.has(n)||Sf(n,!1,t),Sf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ya]||(e[Ya]=!0,Sf("selectionchange",!1,e))}}function uk(t,e,n,r){switch(qw(e)){case 1:var i=EN;break;case 4:i=CN;break;default:i=Fm}n=i.bind(null,e,n,t),i=void 0,!Gh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ef(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qi(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}jw(function(){var u=s,c=Rm(n),d=[];e:{var f=lk.get(t);if(f!==void 0){var h=Bm,m=t;switch(t){case"keypress":if(Mu(n)===0)break e;case"keydown":case"keyup":h=$N;break;case"focusin":m="focus",h=yf;break;case"focusout":m="blur",h=yf;break;case"beforeblur":case"afterblur":h=yf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=a0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HN;break;case rk:case ik:case sk:h=MN;break;case ok:h=WN;break;case"scroll":h=TN;break;case"wheel":h=KN;break;case"copy":case"cut":case"paste":h=PN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=c0}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var x=u,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Kl(x,y),E!=null&&g.push(ea(x,E,w)))),v)break;x=x.return}0<g.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Kh&&(m=n.relatedTarget||n.fromElement)&&(Qi(m)||m[jr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Qi(m):null,m!==null&&(v=bs(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=a0,E="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=c0,E="onPointerLeave",y="onPointerEnter",x="pointer"),v=h==null?f:Js(h),w=m==null?f:Js(m),f=new g(E,x+"leave",h,n,c),f.target=v,f.relatedTarget=w,E=null,Qi(c)===u&&(g=new g(y,x+"enter",m,n,c),g.target=w,g.relatedTarget=v,E=g),v=E,h&&m)t:{for(g=h,y=m,x=0,w=g;w;w=js(w))x++;for(w=0,E=y;E;E=js(E))w++;for(;0<x-w;)g=js(g),x--;for(;0<w-x;)y=js(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=js(g),y=js(y)}g=null}else g=null;h!==null&&k0(d,f,h,g,!1),m!==null&&v!==null&&k0(d,v,m,g,!0)}}e:{if(f=u?Js(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=e_;else if(h0(f))if(Xw)C=i_;else{C=n_;var S=t_}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=r_);if(C&&(C=C(t,u))){Yw(d,C,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Uh(f,"number",f.value)}switch(S=u?Js(u):window,t){case"focusin":(h0(S)||S.contentEditable==="true")&&(qs=S,ep=u,Tl=null);break;case"focusout":Tl=ep=qs=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,x0(d,n,c);break;case"selectionchange":if(l_)break;case"keydown":case"keyup":x0(d,n,c)}var O;if(Hm)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ws?Gw(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Jw&&n.locale!=="ko"&&(Ws||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ws&&(O=Kw()):(ii=c,$m="value"in ii?ii.value:ii.textContent,Ws=!0)),S=ec(u,M),0<S.length&&(M=new u0(M,t,null,n,c),d.push({event:M,listeners:S}),O?M.data=O:(O=Qw(n),O!==null&&(M.data=O)))),(O=GN?QN(t,n):YN(t,n))&&(u=ec(u,"onBeforeInput"),0<u.length&&(c=new u0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}ak(d,e)})}function ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,n),s!=null&&r.unshift(ea(t,s,i)),s=Kl(t,e),s!=null&&r.push(ea(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Kl(n,s),a!=null&&o.unshift(ea(n,a,l))):i||(a=Kl(n,s),a!=null&&o.push(ea(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var d_=/\r\n?/g,f_=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(d_,`
`).replace(f_,"")}function Xa(t,e,n){if(e=b0(e),b0(t)!==e&&n)throw Error(I(425))}function tc(){}var np=null,rp=null;function ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,h_=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,p_=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(m_)}:sp;function m_(t){setTimeout(function(){throw t})}function Cf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ql(e)}function hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),or="__reactFiber$"+Io,ta="__reactProps$"+Io,jr="__reactContainer$"+Io,op="__reactEvents$"+Io,g_="__reactListeners$"+Io,y_="__reactHandles$"+Io;function Qi(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E0(t);t!==null;){if(n=t[or])return n;t=E0(t)}return e}t=n,n=t.parentNode}return null}function Na(t){return t=t[or]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function xd(t){return t[ta]||null}var lp=[],Gs=-1;function _i(t){return{current:t}}function je(t){0>Gs||(t.current=lp[Gs],lp[Gs]=null,Gs--)}function Ae(t,e){Gs++,lp[Gs]=t.current,t.current=e}var Ci={},Ct=_i(Ci),Xt=_i(!1),ds=Ci;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function nc(){je(Xt),je(Ct)}function C0(t,e,n){if(Ct.current!==Ci)throw Error(I(168));Ae(Ct,e),Ae(Xt,n)}function ck(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,tN(t)||"Unknown",i));return ze({},n,r)}function rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,ds=Ct.current,Ae(Ct,t),Ae(Xt,Xt.current),!0}function T0(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=ck(t,e,ds),r.__reactInternalMemoizedMergedChildContext=t,je(Xt),je(Ct),Ae(Ct,t)):je(Xt),Ae(Xt,n)}var Cr=null,vd=!1,Tf=!1;function dk(t){Cr===null?Cr=[t]:Cr.push(t)}function x_(t){vd=!0,dk(t)}function Ai(){if(!Tf&&Cr!==null){Tf=!0;var t=0,e=Se;try{var n=Cr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,vd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),Lw(Lm,Ai),i}finally{Se=e,Tf=!1}}return null}var Qs=[],Ys=0,ic=null,sc=0,kn=[],bn=0,fs=null,Tr=1,Nr="";function Ui(t,e){Qs[Ys++]=sc,Qs[Ys++]=ic,ic=t,sc=e}function fk(t,e,n){kn[bn++]=Tr,kn[bn++]=Nr,kn[bn++]=fs,fs=t;var r=Tr;t=Nr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Hn(e)+i|n<<i|r,Nr=s+t}else Tr=1<<s|n<<i|r,Nr=t}function Wm(t){t.return!==null&&(Ui(t,1),fk(t,1,0))}function qm(t){for(;t===ic;)ic=Qs[--Ys],Qs[Ys]=null,sc=Qs[--Ys],Qs[Ys]=null;for(;t===fs;)fs=kn[--bn],kn[bn]=null,Nr=kn[--bn],kn[bn]=null,Tr=kn[--bn],kn[bn]=null}var un=null,an=null,Re=!1,Bn=null;function hk(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Tr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function ap(t){return(t.mode&1)!==0&&(t.flags&128)===0}function up(t){if(Re){var e=an;if(e){var n=e;if(!N0(t,e)){if(ap(t))throw Error(I(418));e=hi(n.nextSibling);var r=un;e&&N0(t,e)?hk(r,n):(t.flags=t.flags&-4097|2,Re=!1,un=t)}}else{if(ap(t))throw Error(I(418));t.flags=t.flags&-4097|2,Re=!1,un=t}}}function _0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Za(t){if(t!==un)return!1;if(!Re)return _0(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ip(t.type,t.memoizedProps)),e&&(e=an)){if(ap(t))throw pk(),Error(I(418));for(;e;)hk(t,e),e=hi(e.nextSibling)}if(_0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?hi(t.stateNode.nextSibling):null;return!0}function pk(){for(var t=an;t;)t=hi(t.nextSibling)}function xo(){an=un=null,Re=!1}function Km(t){Bn===null?Bn=[t]:Bn.push(t)}var v_=Rr.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A0(t){var e=t._init;return e(t._payload)}function mk(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=yi(y,x),y.index=0,y.sibling=null,y}function s(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,E){return x===null||x.tag!==6?(x=Pf(w,y.mode,E),x.return=y,x):(x=i(x,w),x.return=y,x)}function a(y,x,w,E){var C=w.type;return C===Vs?c(y,x,w.props.children,E,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kr&&A0(C)===x.type)?(E=i(x,w.props),E.ref=Zo(y,x,w),E.return=y,E):(E=zu(w.type,w.key,w.props,null,y.mode,E),E.ref=Zo(y,x,w),E.return=y,E)}function u(y,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=If(w,y.mode,E),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function c(y,x,w,E,C){return x===null||x.tag!==7?(x=is(w,y.mode,E,C),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pf(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ha:return w=zu(x.type,x.key,x.props,null,y.mode,w),w.ref=Zo(y,null,x),w.return=y,w;case Hs:return x=If(x,y.mode,w),x.return=y,x;case Kr:var E=x._init;return d(y,E(x._payload),w)}if(pl(x)||Jo(x))return x=is(x,y.mode,w,null),x.return=y,x;eu(y,x)}return null}function f(y,x,w,E){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(y,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ha:return w.key===C?a(y,x,w,E):null;case Hs:return w.key===C?u(y,x,w,E):null;case Kr:return C=w._init,f(y,x,C(w._payload),E)}if(pl(w)||Jo(w))return C!==null?null:c(y,x,w,E,null);eu(y,w)}return null}function h(y,x,w,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,l(x,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ha:return y=y.get(E.key===null?w:E.key)||null,a(x,y,E,C);case Hs:return y=y.get(E.key===null?w:E.key)||null,u(x,y,E,C);case Kr:var S=E._init;return h(y,x,w,S(E._payload),C)}if(pl(E)||Jo(E))return y=y.get(w)||null,c(x,y,E,C,null);eu(x,E)}return null}function m(y,x,w,E){for(var C=null,S=null,O=x,M=x=0,L=null;O!==null&&M<w.length;M++){O.index>M?(L=O,O=null):L=O.sibling;var _=f(y,O,w[M],E);if(_===null){O===null&&(O=L);break}t&&O&&_.alternate===null&&e(y,O),x=s(_,x,M),S===null?C=_:S.sibling=_,S=_,O=L}if(M===w.length)return n(y,O),Re&&Ui(y,M),C;if(O===null){for(;M<w.length;M++)O=d(y,w[M],E),O!==null&&(x=s(O,x,M),S===null?C=O:S.sibling=O,S=O);return Re&&Ui(y,M),C}for(O=r(y,O);M<w.length;M++)L=h(O,y,M,w[M],E),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?M:L.key),x=s(L,x,M),S===null?C=L:S.sibling=L,S=L);return t&&O.forEach(function(D){return e(y,D)}),Re&&Ui(y,M),C}function g(y,x,w,E){var C=Jo(w);if(typeof C!="function")throw Error(I(150));if(w=C.call(w),w==null)throw Error(I(151));for(var S=C=null,O=x,M=x=0,L=null,_=w.next();O!==null&&!_.done;M++,_=w.next()){O.index>M?(L=O,O=null):L=O.sibling;var D=f(y,O,_.value,E);if(D===null){O===null&&(O=L);break}t&&O&&D.alternate===null&&e(y,O),x=s(D,x,M),S===null?C=D:S.sibling=D,S=D,O=L}if(_.done)return n(y,O),Re&&Ui(y,M),C;if(O===null){for(;!_.done;M++,_=w.next())_=d(y,_.value,E),_!==null&&(x=s(_,x,M),S===null?C=_:S.sibling=_,S=_);return Re&&Ui(y,M),C}for(O=r(y,O);!_.done;M++,_=w.next())_=h(O,y,M,_.value,E),_!==null&&(t&&_.alternate!==null&&O.delete(_.key===null?M:_.key),x=s(_,x,M),S===null?C=_:S.sibling=_,S=_);return t&&O.forEach(function(U){return e(y,U)}),Re&&Ui(y,M),C}function v(y,x,w,E){if(typeof w=="object"&&w!==null&&w.type===Vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ha:e:{for(var C=w.key,S=x;S!==null;){if(S.key===C){if(C=w.type,C===Vs){if(S.tag===7){n(y,S.sibling),x=i(S,w.props.children),x.return=y,y=x;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kr&&A0(C)===S.type){n(y,S.sibling),x=i(S,w.props),x.ref=Zo(y,S,w),x.return=y,y=x;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===Vs?(x=is(w.props.children,y.mode,E,w.key),x.return=y,y=x):(E=zu(w.type,w.key,w.props,null,y.mode,E),E.ref=Zo(y,x,w),E.return=y,y=E)}return o(y);case Hs:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=If(w,y.mode,E),x.return=y,y=x}return o(y);case Kr:return S=w._init,v(y,x,S(w._payload),E)}if(pl(w))return m(y,x,w,E);if(Jo(w))return g(y,x,w,E);eu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=Pf(w,y.mode,E),x.return=y,y=x),o(y)):n(y,x)}return v}var vo=mk(!0),gk=mk(!1),oc=_i(null),lc=null,Xs=null,Jm=null;function Gm(){Jm=Xs=lc=null}function Qm(t){var e=oc.current;je(oc),t._currentValue=e}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){lc=t,Jm=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Jm!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(lc===null)throw Error(I(308));Xs=t,lc.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var Yi=null;function Ym(t){Yi===null?Yi=[t]:Yi.push(t)}function yk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ym(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jr=!1;function Xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ym(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dm(t,n)}}function O0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ac(t,e,n,r){var i=t.updateQueue;Jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,h=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,g=l;switch(f=e,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=ze({},d,f);break e;case 2:Jr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=d):c=c.next=h,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ps|=o,t.lanes=o,t.memoizedState=d}}function M0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var _a={},ur=_i(_a),na=_i(_a),ra=_i(_a);function Xi(t){if(t===_a)throw Error(I(174));return t}function Zm(t,e){switch(Ae(ra,e),Ae(na,t),Ae(ur,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vh(e,t)}je(ur),Ae(ur,e)}function wo(){je(ur),je(na),je(ra)}function vk(t){Xi(ra.current);var e=Xi(ur.current),n=Vh(e,t.type);e!==n&&(Ae(na,t),Ae(ur,n))}function eg(t){na.current===t&&(je(ur),je(na))}var Le=_i(0);function uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nf=[];function tg(){for(var t=0;t<Nf.length;t++)Nf[t]._workInProgressVersionPrimary=null;Nf.length=0}var Pu=Rr.ReactCurrentDispatcher,_f=Rr.ReactCurrentBatchConfig,hs=0,De=null,Ge=null,tt=null,cc=!1,Nl=!1,ia=0,w_=0;function vt(){throw Error(I(321))}function ng(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function rg(t,e,n,r,i,s){if(hs=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?E_:C_,t=n(r,i),Nl){s=0;do{if(Nl=!1,ia=0,25<=s)throw Error(I(301));s+=1,tt=Ge=null,e.updateQueue=null,Pu.current=T_,t=n(r,i)}while(Nl)}if(Pu.current=dc,e=Ge!==null&&Ge.next!==null,hs=0,tt=Ge=De=null,cc=!1,e)throw Error(I(300));return t}function ig(){var t=ia!==0;return ia=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=t:tt=tt.next=t,tt}function Mn(){if(Ge===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=tt===null?De.memoizedState:tt.next;if(e!==null)tt=e,Ge=t;else{if(t===null)throw Error(I(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?De.memoizedState=tt=t:tt=tt.next=t}return tt}function sa(t,e){return typeof e=="function"?e(t):e}function Af(t){var e=Mn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((hs&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,De.lanes|=c,ps|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,qn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Of(t){var e=Mn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wk(){}function kk(t,e){var n=De,r=Mn(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,sg(Ek.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,oa(9,Sk.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(I(349));hs&30||bk(n,e,i)}return i}function bk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sk(t,e,n,r){e.value=n,e.getSnapshot=r,Ck(e)&&Tk(t)}function Ek(t,e,n){return n(function(){Ck(e)&&Tk(t)})}function Ck(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function Tk(t){var e=Pr(t,1);e!==null&&Vn(e,t,1,-1)}function j0(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},e.queue=t,t=t.dispatch=S_.bind(null,De,t),[e.memoizedState,t]}function oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Nk(){return Mn().memoizedState}function Iu(t,e,n,r){var i=tr();De.flags|=t,i.memoizedState=oa(1|e,n,void 0,r===void 0?null:r)}function wd(t,e,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&ng(r,o.deps)){i.memoizedState=oa(e,n,s,r);return}}De.flags|=t,i.memoizedState=oa(1|e,n,s,r)}function P0(t,e){return Iu(8390656,8,t,e)}function sg(t,e){return wd(2048,8,t,e)}function _k(t,e){return wd(4,2,t,e)}function Ak(t,e){return wd(4,4,t,e)}function Ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mk(t,e,n){return n=n!=null?n.concat([t]):null,wd(4,4,Ok.bind(null,e,t),n)}function og(){}function jk(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ng(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pk(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ng(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ik(t,e,n){return hs&21?(qn(n,e)||(n=Fw(),De.lanes|=n,ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function k_(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=_f.transition;_f.transition={};try{t(!1),e()}finally{Se=n,_f.transition=r}}function Rk(){return Mn().memoizedState}function b_(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lk(t))Dk(e,n);else if(n=yk(t,e,n,r),n!==null){var i=It();Vn(n,t,r,i),zk(n,e,r)}}function S_(t,e,n){var r=gi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lk(t))Dk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,qn(l,o)){var a=e.interleaved;a===null?(i.next=i,Ym(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=yk(t,e,i,r),n!==null&&(i=It(),Vn(n,t,r,i),zk(n,e,r))}}function Lk(t){var e=t.alternate;return t===De||e!==null&&e===De}function Dk(t,e){Nl=cc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dm(t,n)}}var dc={readContext:On,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},E_={readContext:On,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:P0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4194308,4,Ok.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iu(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b_.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:j0,useDebugValue:og,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=j0(!1),e=t[0];return t=k_.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=tr();if(Re){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),rt===null)throw Error(I(349));hs&30||bk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,P0(Ek.bind(null,r,s,t),[t]),r.flags|=2048,oa(9,Sk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=rt.identifierPrefix;if(Re){var n=Nr,r=Tr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C_={readContext:On,useCallback:jk,useContext:On,useEffect:sg,useImperativeHandle:Mk,useInsertionEffect:_k,useLayoutEffect:Ak,useMemo:Pk,useReducer:Af,useRef:Nk,useState:function(){return Af(sa)},useDebugValue:og,useDeferredValue:function(t){var e=Mn();return Ik(e,Ge.memoizedState,t)},useTransition:function(){var t=Af(sa)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:wk,useSyncExternalStore:kk,useId:Rk,unstable_isNewReconciler:!1},T_={readContext:On,useCallback:jk,useContext:On,useEffect:sg,useImperativeHandle:Mk,useInsertionEffect:_k,useLayoutEffect:Ak,useMemo:Pk,useReducer:Of,useRef:Nk,useState:function(){return Of(sa)},useDebugValue:og,useDeferredValue:function(t){var e=Mn();return Ge===null?e.memoizedState=t:Ik(e,Ge.memoizedState,t)},useTransition:function(){var t=Of(sa)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:wk,useSyncExternalStore:kk,useId:Rk,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=gi(t),s=Ar(r,i);s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Vn(e,t,i,r),ju(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=gi(t),s=Ar(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Vn(e,t,i,r),ju(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=gi(t),i=Ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=pi(t,i,r),e!==null&&(Vn(e,t,r,n),ju(e,t,r))}};function I0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function Fk(t,e,n){var r=!1,i=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=Zt(e)?ds:Ct.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function R0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function fp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=Zt(e)?ds:Ct.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kd.enqueueReplaceState(i,i.state,null),ac(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=eN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function $k(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hc||(hc=!0,Sp=r),hp(t,e)},n}function Bk(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hp(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B_.bind(null,t,e,n),e.then(t,t))}function D0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var __=Rr.ReactCurrentOwner,Yt=!1;function jt(t,e,n,r){e.child=t===null?gk(e,null,n,r):vo(e,t.child,n,r)}function F0(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=rg(t,e,n,r,s,i),n=ig(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(Re&&n&&Wm(e),e.flags|=1,jt(t,e,r,i),e.child)}function $0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Uk(t,e,s,r,i)):(t=zu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=yi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Uk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return pp(t,e,n,r,i)}function Hk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(eo,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(eo,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(eo,on),on|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(eo,on),on|=r;return jt(t,e,i,n),e.child}function Vk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pp(t,e,n,r,i){var s=Zt(n)?ds:Ct.current;return s=yo(e,s),lo(e,i),n=rg(t,e,n,r,s,i),r=ig(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(Re&&r&&Wm(e),e.flags|=1,jt(t,e,n,i),e.child)}function B0(t,e,n,r,i){if(Zt(n)){var s=!0;rc(e)}else s=!1;if(lo(e,i),e.stateNode===null)Ru(t,e),Fk(e,n,r),fp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=Zt(n)?ds:Ct.current,u=yo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&R0(e,o,r,u),Jr=!1;var f=e.memoizedState;o.state=f,ac(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Xt.current||Jr?(typeof c=="function"&&(dp(e,n,c,r),a=e.memoizedState),(l=Jr||I0(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:zn(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=On(a):(a=Zt(n)?ds:Ct.current,a=yo(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&R0(e,o,r,a),Jr=!1,f=e.memoizedState,o.state=f,ac(e,r,o,i);var m=e.memoizedState;l!==d||f!==m||Xt.current||Jr?(typeof h=="function"&&(dp(e,n,h,r),m=e.memoizedState),(u=Jr||I0(e,n,u,r,f,m,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mp(t,e,n,r,s,i)}function mp(t,e,n,r,i,s){Vk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&T0(e,n,!1),Ir(t,e,s);r=e.stateNode,__.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vo(e,t.child,null,s),e.child=vo(e,null,l,s)):jt(t,e,l,s),e.memoizedState=r.state,i&&T0(e,n,!0),e.child}function Wk(t){var e=t.stateNode;e.pendingContext?C0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C0(t,e.context,!1),Zm(t,e.containerInfo)}function U0(t,e,n,r,i){return xo(),Km(i),e.flags|=256,jt(t,e,n,r),e.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function qk(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Le,i&1),t===null)return up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ed(o,r,0,null),t=is(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yp(n),e.memoizedState=gp,t):lg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return A_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=yi(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=yi(l,s):(s=is(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gp,r}return s=t.child,t=s.sibling,r=yi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lg(t,e){return e=Ed({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&Km(r),vo(e,t.child,null,n),t=lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mf(Error(I(422))),tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ed({mode:"visible",children:r.children},i,0,null),s=is(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vo(e,t.child,null,o),e.child.memoizedState=yp(o),e.memoizedState=gp,s);if(!(e.mode&1))return tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=Mf(s,r,void 0),tu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Yt||l){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),Vn(r,t,i,-1))}return hg(),r=Mf(Error(I(421))),tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=hi(i.nextSibling),un=e,Re=!0,Bn=null,t!==null&&(kn[bn++]=Tr,kn[bn++]=Nr,kn[bn++]=fs,Tr=t.id,Nr=t.overflow,fs=e),e=lg(e,r.children),e.flags|=4096,e)}function H0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function jf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Kk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H0(t,n,e);else if(t.tag===19)H0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jf(e,!0,n,null,s);break;case"together":jf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O_(t,e,n){switch(e.tag){case 3:Wk(e),xo();break;case 5:vk(e);break;case 1:Zt(e.type)&&rc(e);break;case 4:Zm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(oc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?qk(t,e,n):(Ae(Le,Le.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Ae(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Kk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,Hk(t,e,n)}return Ir(t,e,n)}var Jk,xp,Gk,Qk;Jk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xp=function(){};Gk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(ur.current);var s=null;switch(n){case"input":i=$h(t,i),r=$h(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Hh(t,i),r=Hh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tc)}Wh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Oe("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Qk=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M_(t,e,n){var r=e.pendingProps;switch(qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Zt(e.type)&&nc(),wt(e),null;case 3:return r=e.stateNode,wo(),je(Xt),je(Ct),tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(Tp(Bn),Bn=null))),xp(t,e),wt(e),null;case 5:eg(e);var i=Xi(ra.current);if(n=e.type,t!==null&&e.stateNode!=null)Gk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return wt(e),null}if(t=Xi(ur.current),Za(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[or]=e,r[ta]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)Oe(gl[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Xy(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":e0(r,s),Oe("invalid",r)}Wh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,l,t),i=["children",""+l]):Wl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Va(r),Zy(r,s,!0);break;case"textarea":Va(r),t0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ew(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[or]=e,t[ta]=r,Jk(t,e,!1,!1),e.stateNode=t;e:{switch(o=qh(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)Oe(gl[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":Xy(t,r),i=$h(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":e0(t,r),i=Hh(t,r),Oe("invalid",t);break;default:i=r}Wh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Nw(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Cw(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ql(t,a):typeof a=="number"&&ql(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wl.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Oe("scroll",t):a!=null&&Mm(t,s,a,o))}switch(n){case"input":Va(t),Zy(t,r,!1);break;case"textarea":Va(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)Qk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Xi(ra.current),Xi(ur.current),Za(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(s=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return wt(e),null;case 13:if(je(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&an!==null&&e.mode&1&&!(e.flags&128))pk(),xo(),e.flags|=98560,s=!1;else if(s=Za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[or]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Bn!==null&&(Tp(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Ye===0&&(Ye=3):hg())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return wo(),xp(t,e),t===null&&Zl(e.stateNode.containerInfo),wt(e),null;case 10:return Qm(e.type._context),wt(e),null;case 17:return Zt(e.type)&&nc(),wt(e),null;case 19:if(je(Le),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=uc(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>bo&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=uc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return wt(e),null}else 2*Ve()-s.renderingStartTime>bo&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Le.current,Ae(Le,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function j_(t,e){switch(qm(e),e.tag){case 1:return Zt(e.type)&&nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),je(Xt),je(Ct),tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eg(e),null;case 13:if(je(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Le),null;case 4:return wo(),null;case 10:return Qm(e.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var nu=!1,bt=!1,P_=typeof WeakSet=="function"?WeakSet:Set,H=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function vp(t,e,n){try{n()}catch(r){Be(t,e,r)}}var V0=!1;function I_(t,e){if(np=Xu,t=tk(),Vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(rp={focusedElem:t,selectionRange:n},Xu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:zn(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(E){Be(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return m=V0,V0=!1,m}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vp(e,n,s)}i=i.next}while(i!==r)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yk(t){var e=t.alternate;e!==null&&(t.alternate=null,Yk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[ta],delete e[op],delete e[g_],delete e[y_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xk(t){return t.tag===5||t.tag===3||t.tag===4}function W0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tc));else if(r!==4&&(t=t.child,t!==null))for(kp(t,e,n),t=t.sibling;t!==null;)kp(t,e,n),t=t.sibling}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}var ct=null,Fn=!1;function Br(t,e,n){for(n=n.child;n!==null;)Zk(t,e,n),n=n.sibling}function Zk(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(pd,n)}catch{}switch(n.tag){case 5:bt||Zs(n,e);case 6:var r=ct,i=Fn;ct=null,Br(t,e,n),ct=r,Fn=i,ct!==null&&(Fn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(Fn?(t=ct,n=n.stateNode,t.nodeType===8?Cf(t.parentNode,n):t.nodeType===1&&Cf(t,n),Ql(t)):Cf(ct,n.stateNode));break;case 4:r=ct,i=Fn,ct=n.stateNode.containerInfo,Fn=!0,Br(t,e,n),ct=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vp(n,e,o),i=i.next}while(i!==r)}Br(t,e,n);break;case 1:if(!bt&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,e,l)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Br(t,e,n),bt=r):Br(t,e,n);break;default:Br(t,e,n)}}function q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P_),e.forEach(function(r){var i=H_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,Fn=!1;break e;case 3:ct=l.stateNode.containerInfo,Fn=!0;break e;case 4:ct=l.stateNode.containerInfo,Fn=!0;break e}l=l.return}if(ct===null)throw Error(I(160));Zk(s,o,i),ct=null,Fn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eb(e,t),e=e.sibling}function eb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Xn(t),r&4){try{_l(3,t,t.return),bd(3,t)}catch(g){Be(t,t.return,g)}try{_l(5,t,t.return)}catch(g){Be(t,t.return,g)}}break;case 1:Ln(e,t),Xn(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Ln(e,t),Xn(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{ql(i,"")}catch(g){Be(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&bw(i,s),qh(l,o);var u=qh(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Nw(i,d):c==="dangerouslySetInnerHTML"?Cw(i,d):c==="children"?ql(i,d):Mm(i,c,d,u)}switch(l){case"input":Bh(i,s);break;case"textarea":Sw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ro(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ro(i,!!s.multiple,s.defaultValue,!0):ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[ta]=s}catch(g){Be(t,t.return,g)}}break;case 6:if(Ln(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Be(t,t.return,g)}}break;case 3:if(Ln(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(g){Be(t,t.return,g)}break;case 4:Ln(e,t),Xn(t);break;case 13:Ln(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cg=Ve())),r&4&&q0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||c,Ln(e,t),bt=u):Ln(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(f=H,h=f.child,f.tag){case 0:case 11:case 14:case 15:_l(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Be(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(f.memoizedState!==null){J0(d);continue}}h!==null?(h.return=f,H=h):J0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Tw("display",o))}catch(g){Be(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Be(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ln(e,t),Xn(t),r&4&&q0(t);break;case 21:break;default:Ln(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xk(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ql(i,""),r.flags&=-33);var s=W0(t);bp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=W0(t);kp(t,l,o);break;default:throw Error(I(161))}}catch(a){Be(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R_(t,e,n){H=t,tb(t)}function tb(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nu;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||bt;l=nu;var u=bt;if(nu=o,(bt=a)&&!u)for(H=i;H!==null;)o=H,a=o.child,o.tag===22&&o.memoizedState!==null?G0(i):a!==null?(a.return=o,H=a):G0(i);for(;s!==null;)H=s,tb(s),s=s.sibling;H=i,nu=l,bt=u}K0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):K0(t)}}function K0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ql(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}bt||e.flags&512&&wp(e)}catch(f){Be(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function J0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function G0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(a){Be(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Be(e,i,a)}}var s=e.return;try{wp(e)}catch(a){Be(e,s,a)}break;case 5:var o=e.return;try{wp(e)}catch(a){Be(e,o,a)}}}catch(a){Be(e,e.return,a)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var L_=Math.ceil,fc=Rr.ReactCurrentDispatcher,ag=Rr.ReactCurrentOwner,Nn=Rr.ReactCurrentBatchConfig,ge=0,rt=null,Ke=null,pt=0,on=0,eo=_i(0),Ye=0,la=null,ps=0,Sd=0,ug=0,Al=null,Jt=null,cg=0,bo=1/0,br=null,hc=!1,Sp=null,mi=null,ru=!1,si=null,pc=0,Ol=0,Ep=null,Lu=-1,Du=0;function It(){return ge&6?Ve():Lu!==-1?Lu:Lu=Ve()}function gi(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:v_.transition!==null?(Du===0&&(Du=Fw()),Du):(t=Se,t!==0||(t=window.event,t=t===void 0?16:qw(t.type)),t):1}function Vn(t,e,n,r){if(50<Ol)throw Ol=0,Ep=null,Error(I(185));Ca(t,n,r),(!(ge&2)||t!==rt)&&(t===rt&&(!(ge&2)&&(Sd|=n),Ye===4&&ei(t,pt)),en(t,r),n===1&&ge===0&&!(e.mode&1)&&(bo=Ve()+500,vd&&Ai()))}function en(t,e){var n=t.callbackNode;vN(t,e);var r=Yu(t,t===rt?pt:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?x_(Q0.bind(null,t)):dk(Q0.bind(null,t)),p_(function(){!(ge&6)&&Ai()}),n=null;else{switch($w(r)){case 1:n=Lm;break;case 4:n=Dw;break;case 16:n=Qu;break;case 536870912:n=zw;break;default:n=Qu}n=ub(n,nb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nb(t,e){if(Lu=-1,Du=0,ge&6)throw Error(I(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=Yu(t,t===rt?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mc(t,r);else{e=r;var i=ge;ge|=2;var s=ib();(rt!==t||pt!==e)&&(br=null,bo=Ve()+500,rs(t,e));do try{F_();break}catch(l){rb(t,l)}while(!0);Gm(),fc.current=s,ge=i,Ke!==null?e=0:(rt=null,pt=0,e=Ye)}if(e!==0){if(e===2&&(i=Yh(t),i!==0&&(r=i,e=Cp(t,i))),e===1)throw n=la,rs(t,0),ei(t,r),en(t,Ve()),n;if(e===6)ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!D_(i)&&(e=mc(t,r),e===2&&(s=Yh(t),s!==0&&(r=s,e=Cp(t,s))),e===1))throw n=la,rs(t,0),ei(t,r),en(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:Hi(t,Jt,br);break;case 3:if(ei(t,r),(r&130023424)===r&&(e=cg+500-Ve(),10<e)){if(Yu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sp(Hi.bind(null,t,Jt,br),e);break}Hi(t,Jt,br);break;case 4:if(ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L_(r/1960))-r,10<r){t.timeoutHandle=sp(Hi.bind(null,t,Jt,br),r);break}Hi(t,Jt,br);break;case 5:Hi(t,Jt,br);break;default:throw Error(I(329))}}}return en(t,Ve()),t.callbackNode===n?nb.bind(null,t):null}function Cp(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=mc(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&Tp(e)),t}function Tp(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function D_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e){for(e&=~ug,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function Q0(t){if(ge&6)throw Error(I(327));ao();var e=Yu(t,0);if(!(e&1))return en(t,Ve()),null;var n=mc(t,e);if(t.tag!==0&&n===2){var r=Yh(t);r!==0&&(e=r,n=Cp(t,r))}if(n===1)throw n=la,rs(t,0),ei(t,e),en(t,Ve()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,Jt,br),en(t,Ve()),null}function dg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(bo=Ve()+500,vd&&Ai())}}function ms(t){si!==null&&si.tag===0&&!(ge&6)&&ao();var e=ge;ge|=1;var n=Nn.transition,r=Se;try{if(Nn.transition=null,Se=1,t)return t()}finally{Se=r,Nn.transition=n,ge=e,!(ge&6)&&Ai()}}function fg(){on=eo.current,je(eo)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h_(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:wo(),je(Xt),je(Ct),tg();break;case 5:eg(r);break;case 4:wo();break;case 13:je(Le);break;case 19:je(Le);break;case 10:Qm(r.type._context);break;case 22:case 23:fg()}n=n.return}if(rt=t,Ke=t=yi(t.current,null),pt=on=e,Ye=0,la=null,ug=Sd=ps=0,Jt=Al=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function rb(t,e){do{var n=Ke;try{if(Gm(),Pu.current=dc,cc){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cc=!1}if(hs=0,tt=Ge=De=null,Nl=!1,ia=0,ag.current=null,n===null||n.return===null){Ye=1,la=e,Ke=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=pt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=D0(o);if(h!==null){h.flags&=-257,z0(h,o,l,s,e),h.mode&1&&L0(s,u,e),e=h,a=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(a),e.updateQueue=g}else m.add(a);break e}else{if(!(e&1)){L0(s,u,e),hg();break e}a=Error(I(426))}}else if(Re&&l.mode&1){var v=D0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),z0(v,o,l,s,e),Km(ko(a,l));break e}}s=a=ko(a,l),Ye!==4&&(Ye=2),Al===null?Al=[s]:Al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=$k(s,a,e);O0(s,y);break e;case 1:l=a;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mi===null||!mi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Bk(s,l,e);O0(s,E);break e}}s=s.return}while(s!==null)}ob(n)}catch(C){e=C,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function ib(){var t=fc.current;return fc.current=dc,t===null?dc:t}function hg(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(ps&268435455)&&!(Sd&268435455)||ei(rt,pt)}function mc(t,e){var n=ge;ge|=2;var r=ib();(rt!==t||pt!==e)&&(br=null,rs(t,e));do try{z_();break}catch(i){rb(t,i)}while(!0);if(Gm(),ge=n,fc.current=r,Ke!==null)throw Error(I(261));return rt=null,pt=0,Ye}function z_(){for(;Ke!==null;)sb(Ke)}function F_(){for(;Ke!==null&&!cN();)sb(Ke)}function sb(t){var e=ab(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?ob(t):Ke=e,ag.current=null}function ob(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=j_(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,Ke=null;return}}else if(n=M_(n,e,on),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Ye===0&&(Ye=5)}function Hi(t,e,n){var r=Se,i=Nn.transition;try{Nn.transition=null,Se=1,$_(t,e,n,r)}finally{Nn.transition=i,Se=r}return null}function $_(t,e,n,r){do ao();while(si!==null);if(ge&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wN(t,s),t===rt&&(Ke=rt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,ub(Qu,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=Se;Se=1;var l=ge;ge|=4,ag.current=null,I_(t,n),eb(n,t),o_(rp),Xu=!!np,rp=np=null,t.current=n,R_(n),dN(),ge=l,Se=o,Nn.transition=s}else t.current=n;if(ru&&(ru=!1,si=t,pc=i),s=t.pendingLanes,s===0&&(mi=null),pN(n.stateNode),en(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,t=Sp,Sp=null,t;return pc&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===Ep?Ol++:(Ol=0,Ep=t):Ol=0,Ai(),null}function ao(){if(si!==null){var t=$w(pc),e=Nn.transition,n=Se;try{if(Nn.transition=null,Se=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,pc=0,ge&6)throw Error(I(331));var i=ge;for(ge|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:_l(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var f=c.sibling,h=c.return;if(Yk(c),c===u){H=null;break}if(f!==null){f.return=h,H=f;break}H=h}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_l(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,H=y;break e}H=s.return}}var x=t.current;for(H=x;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=x;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bd(9,l)}}catch(C){Be(l,l.return,C)}if(l===o){H=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,H=E;break e}H=l.return}}if(ge=i,Ai(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(pd,t)}catch{}r=!0}return r}finally{Se=n,Nn.transition=e}}return!1}function Y0(t,e,n){e=ko(n,e),e=$k(t,e,1),t=pi(t,e,1),e=It(),t!==null&&(Ca(t,1,e),en(t,e))}function Be(t,e,n){if(t.tag===3)Y0(t,t,n);else for(;e!==null;){if(e.tag===3){Y0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=ko(n,t),t=Bk(e,t,1),e=pi(e,t,1),t=It(),e!==null&&(Ca(e,1,t),en(e,t));break}}e=e.return}}function B_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(pt&n)===n&&(Ye===4||Ye===3&&(pt&130023424)===pt&&500>Ve()-cg?rs(t,0):ug|=n),en(t,e)}function lb(t,e){e===0&&(t.mode&1?(e=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):e=1);var n=It();t=Pr(t,e),t!==null&&(Ca(t,e,n),en(t,n))}function U_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lb(t,n)}function H_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),lb(t,n)}var ab;ab=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,O_(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Re&&e.flags&1048576&&fk(e,sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ru(t,e),t=e.pendingProps;var i=yo(e,Ct.current);lo(e,n),i=rg(null,e,r,t,i,n);var s=ig();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(s=!0,rc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xm(e),i.updater=kd,e.stateNode=i,i._reactInternals=e,fp(e,r,t,n),e=mp(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Wm(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ru(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W_(r),t=zn(r,t),i){case 0:e=pp(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=F0(null,e,r,t,n);break e;case 14:e=$0(null,e,r,zn(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),B0(t,e,r,i,n);case 3:e:{if(Wk(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xk(t,e),ac(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(I(423)),e),e=U0(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(I(424)),e),e=U0(t,e,r,n,i);break e}else for(an=hi(e.stateNode.containerInfo.firstChild),un=e,Re=!0,Bn=null,n=gk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=Ir(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return vk(e),t===null&&up(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ip(r,i)?o=null:s!==null&&ip(r,s)&&(e.flags|=32),Vk(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&up(e),null;case 13:return qk(t,e,n);case 4:return Zm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vo(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),F0(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(oc,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!Xt.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ar(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),cp(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=On(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),$0(t,e,r,i,n);case 15:return Uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Ru(t,e),e.tag=1,Zt(r)?(t=!0,rc(e)):t=!1,lo(e,n),Fk(e,r,i),fp(e,r,i,n),mp(null,e,r,!0,t,n);case 19:return Kk(t,e,n);case 22:return Hk(t,e,n)}throw Error(I(156,e.tag))};function ub(t,e){return Lw(t,e)}function V_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new V_(t,e,n,r)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W_(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pm)return 11;if(t===Im)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vs:return is(n.children,i,s,e);case jm:o=8,i|=8;break;case Lh:return t=Cn(12,n,e,i|2),t.elementType=Lh,t.lanes=s,t;case Dh:return t=Cn(13,n,e,i),t.elementType=Dh,t.lanes=s,t;case zh:return t=Cn(19,n,e,i),t.elementType=zh,t.lanes=s,t;case vw:return Ed(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yw:o=10;break e;case xw:o=9;break e;case Pm:o=11;break e;case Im:o=14;break e;case Kr:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function is(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Ed(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=vw,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function If(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mg(t,e,n,r,i,s,o,l,a){return t=new q_(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(s),t}function K_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cb(t){if(!t)return Ci;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Zt(n))return ck(t,n,e)}return e}function db(t,e,n,r,i,s,o,l,a){return t=mg(n,r,!0,t,i,s,o,l,a),t.context=cb(null),n=t.current,r=It(),i=gi(n),s=Ar(r,i),s.callback=e??null,pi(n,s,i),t.current.lanes=i,Ca(t,i,r),en(t,r),t}function Cd(t,e,n,r){var i=e.current,s=It(),o=gi(i);return n=cb(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(i,e,o),t!==null&&(Vn(t,i,o,s),ju(t,i,o)),o}function gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gg(t,e){X0(t,e),(t=t.alternate)&&X0(t,e)}var fb=typeof reportError=="function"?reportError:function(t){console.error(t)};function yg(t){this._internalRoot=t}Td.prototype.render=yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Cd(t,e,null,null)};Td.prototype.unmount=yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){Cd(null,t,null,null)}),e[jr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zr.length&&e!==0&&e<Zr[n].priority;n++);Zr.splice(n,0,t),n===0&&Ww(t)}};function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function J_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gc(o);s.call(u)}}var o=db(e,r,t,0,null,!1,!1,"",Z0);return t._reactRootContainer=o,t[jr]=o.current,Zl(t.nodeType===8?t.parentNode:t),ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=gc(a);l.call(u)}}var a=mg(t,0,!1,null,null,!1,!1,"",Z0);return t._reactRootContainer=a,t[jr]=a.current,Zl(t.nodeType===8?t.parentNode:t),ms(function(){Cd(e,a,n,r)}),a}function _d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=gc(o);l.call(a)}}Cd(e,o,t,i)}else o=J_(n,e,t,i,r);return gc(o)}Bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(Dm(e,n|1),en(e,Ve()),!(ge&6)&&(bo=Ve()+500,Ai()))}break;case 13:ms(function(){var r=Pr(t,1);if(r!==null){var i=It();Vn(r,t,1,i)}}),gg(t,1)}};zm=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=It();Vn(e,t,134217728,n)}gg(t,134217728)}};Uw=function(t){if(t.tag===13){var e=gi(t),n=Pr(t,e);if(n!==null){var r=It();Vn(n,t,e,r)}gg(t,e)}};Hw=function(){return Se};Vw=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Jh=function(t,e,n){switch(e){case"input":if(Bh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xd(r);if(!i)throw Error(I(90));kw(r),Bh(r,i)}}}break;case"textarea":Sw(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};Ow=dg;Mw=ms;var G_={usingClientEntryPoint:!1,Events:[Na,Js,xd,_w,Aw,dg]},tl={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q_={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Iw(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{pd=iu.inject(Q_),ar=iu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(e))throw Error(I(200));return K_(t,e,null,n)};hn.createRoot=function(t,e){if(!xg(t))throw Error(I(299));var n=!1,r="",i=fb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mg(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new yg(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Iw(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return ms(t)};hn.hydrate=function(t,e,n){if(!Nd(e))throw Error(I(200));return _d(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!xg(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=db(e,null,t,1,n??null,i,!1,s,o),t[jr]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Td(e)};hn.render=function(t,e,n){if(!Nd(e))throw Error(I(200));return _d(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(I(40));return t._reactRootContainer?(ms(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};hn.unstable_batchedUpdates=dg;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return _d(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function hb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hb)}catch(t){console.error(t)}}hb(),hw.exports=hn;var vg=hw.exports;const Y_=Em(vg);var pb,ex=vg;pb=ex.createRoot,ex.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const tx="popstate";function X_(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Np("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yc(i)}return e2(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z_(){return Math.random().toString(36).substr(2,8)}function nx(t,e){return{usr:t.state,key:t.key,idx:e}}function Np(t,e,n,r){return n===void 0&&(n=null),aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ro(e):e,{state:n,key:e&&e.key||r||Z_()})}function yc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=oi.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(aa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=oi.Pop;let v=c(),y=v==null?null:v-u;u=v,a&&a({action:l,location:g.location,delta:y})}function f(v,y){l=oi.Push;let x=Np(g.location,v,y);u=c()+1;let w=nx(x,u),E=g.createHref(x);try{o.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&a&&a({action:l,location:g.location,delta:1})}function h(v,y){l=oi.Replace;let x=Np(g.location,v,y);u=c();let w=nx(x,u),E=g.createHref(x);o.replaceState(w,"",E),s&&a&&a({action:l,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:yc(v);return x=x.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return t(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(tx,d),a=v,()=>{i.removeEventListener(tx,d),a=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(v){return o.go(v)}};return g}var rx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rx||(rx={}));function t2(t,e,n){return n===void 0&&(n="/"),n2(t,e,n)}function n2(t,e,n,r){let i=typeof e=="string"?Ro(e):e,s=wg(i.pathname||"/",n);if(s==null)return null;let o=gb(t);r2(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=m2(s);l=f2(o[a],u)}return l}function gb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(We(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=xi([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gb(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:c2(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of yb(s.path))i(s,o,a)}),e}function yb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yb(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function r2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i2=/^:[\w-]+$/,s2=3,o2=2,l2=1,a2=10,u2=-2,ix=t=>t==="*";function c2(t,e){let n=t.split("/"),r=n.length;return n.some(ix)&&(r+=u2),e&&(r+=o2),n.filter(i=>!ix(i)).reduce((i,s)=>i+(i2.test(s)?s2:s===""?l2:a2),r)}function d2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=h2({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:xi([s,d.pathname]),pathnameBase:v2(xi([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=xi([s,d.pathnameBase]))}return o}function h2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[d];return h&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function p2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ro(t):t;return{pathname:n?n.startsWith("/")?n:y2(n,e):e,search:w2(r),hash:k2(i)}}function y2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(t,e){let n=x2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ro(t):(i=aa({},t),We(!i.pathname||!i.pathname.includes("?"),Rf("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),Rf("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),Rf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=g2(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),v2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xb=["post","put","patch","delete"];new Set(xb);const S2=["get",...xb];new Set(S2);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(this,arguments)}const Sg=N.createContext(null),E2=N.createContext(null),Oi=N.createContext(null),Ad=N.createContext(null),Lr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),vb=N.createContext(null);function C2(t,e){let{relative:n}=e===void 0?{}:e;Lo()||We(!1);let{basename:r,navigator:i}=N.useContext(Oi),{hash:s,pathname:o,search:l}=kb(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:xi([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Lo(){return N.useContext(Ad)!=null}function Aa(){return Lo()||We(!1),N.useContext(Ad).location}function wb(t){N.useContext(Oi).static||N.useLayoutEffect(t)}function Do(){let{isDataRoute:t}=N.useContext(Lr);return t?z2():T2()}function T2(){Lo()||We(!1);let t=N.useContext(Sg),{basename:e,future:n,navigator:r}=N.useContext(Oi),{matches:i}=N.useContext(Lr),{pathname:s}=Aa(),o=JSON.stringify(kg(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return wb(()=>{l.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=bg(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xi([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Eg(){let{matches:t}=N.useContext(Lr),e=t[t.length-1];return e?e.params:{}}function kb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Oi),{matches:i}=N.useContext(Lr),{pathname:s}=Aa(),o=JSON.stringify(kg(i,r.v7_relativeSplatPath));return N.useMemo(()=>bg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function N2(t,e){return _2(t,e)}function _2(t,e,n,r){Lo()||We(!1);let{navigator:i}=N.useContext(Oi),{matches:s}=N.useContext(Lr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Aa(),c;if(e){var d;let v=typeof e=="string"?Ro(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||We(!1),c=v}else c=u;let f=c.pathname||"/",h=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=t2(t,{pathname:h}),g=P2(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:xi([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:xi([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?N.createElement(Ad.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:oi.Pop}},g):g}function A2(){let t=D2(),e=b2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const O2=N.createElement(A2,null);class M2 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Lr.Provider,{value:this.props.routeContext},N.createElement(vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j2(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Sg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Lr.Provider,{value:e},r)}function P2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||We(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let h,m=!1,g=null,v=null;n&&(h=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||O2,a&&(u<0&&f===0?(m=!0,v=null):u===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let w;return h?w=g:m?w=v:d.route.Component?w=N.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,N.createElement(j2,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(M2,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var bb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bb||{}),xc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xc||{});function I2(t){let e=N.useContext(Sg);return e||We(!1),e}function R2(t){let e=N.useContext(E2);return e||We(!1),e}function L2(t){let e=N.useContext(Lr);return e||We(!1),e}function Sb(t){let e=L2(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function D2(){var t;let e=N.useContext(vb),n=R2(xc.UseRouteError),r=Sb(xc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function z2(){let{router:t}=I2(bb.UseNavigateStable),e=Sb(xc.UseNavigateStable),n=N.useRef(!1);return wb(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ua({fromRouteId:e},s)))},[t,e])}const sx={};function F2(t,e){sx[e]||(sx[e]=!0,console.warn(e))}const ox=(t,e,n)=>F2(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function $2(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&ox("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&ox("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Eb(t){let{to:e,replace:n,state:r,relative:i}=t;Lo()||We(!1);let{future:s,static:o}=N.useContext(Oi),{matches:l}=N.useContext(Lr),{pathname:a}=Aa(),u=Do(),c=bg(e,kg(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function He(t){We(!1)}function B2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:l}=t;Lo()&&We(!1);let a=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:a,navigator:s,static:o,future:ua({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Ro(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=N.useMemo(()=>{let v=wg(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:i}},[a,c,d,f,h,m,i]);return g==null?null:N.createElement(Oi.Provider,{value:u},N.createElement(Ad.Provider,{children:n,value:g}))}function U2(t){let{children:e,location:n}=t;return N2(_p(e),n)}new Promise(()=>{});function _p(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,_p(r.props.children,s));return}r.type!==He&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_p(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function H2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W2(t,e){return t.button===0&&(!e||e==="_self")&&!V2(t)}const q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K2="6";try{window.__reactRouterVersion=K2}catch{}const J2="startTransition",lx=BT[J2];function G2(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=X_({window:i,v5Compat:!0}));let o=s.current,[l,a]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(d=>{u&&lx?lx(()=>a(d)):a(d)},[a,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.useEffect(()=>$2(r),[r]),N.createElement(B2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,viewTransition:d}=e,f=H2(e,q2),{basename:h}=N.useContext(Oi),m,g=!1;if(typeof u=="string"&&Y2.test(u)&&(m=u,Q2))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=wg(E.pathname,h);E.origin===w.origin&&C!=null?u=C+E.search+E.hash:g=!0}catch{}let v=C2(u,{relative:i}),y=X2(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||y(w)}return N.createElement("a",Ap({},f,{href:m||v,onClick:g||s?r:x,ref:n,target:a}))});var ax;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ax||(ax={}));var ux;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ux||(ux={}));function X2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=Do(),u=Aa(),c=kb(t,{relative:o});return N.useCallback(d=>{if(W2(d,n)){d.preventDefault();let f=r!==void 0?r:yc(u)===yc(c);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,c,r,i,n,t,s,o,l])}const Z2="modulepreload",eA=function(t){return"/"+t},cx={},So=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=eA(a),a in cx)return;cx[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Z2,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},tA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>So(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Cg extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class nA extends Cg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rA extends Cg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iA extends Cg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Op;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Op||(Op={}));var sA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class oA{constructor(e,{headers:n={},customFetch:r,region:i=Op.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=tA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return sA(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(m=>{throw new nA(m)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new rA(c);if(!c.ok)throw new iA(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield c.json():f==="application/octet-stream"?h=yield c.blob():f==="text/event-stream"?h=c:f==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var Gt={},Tg={},Od={},Oa={},Md={},jd={},lA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eo=lA();const aA=Eo.fetch,Cb=Eo.fetch.bind(Eo),Tb=Eo.Headers,uA=Eo.Request,cA=Eo.Response,zo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tb,Request:uA,Response:cA,default:Cb,fetch:aA},Symbol.toStringTag,{value:"Module"})),dA=CT(zo);var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});let fA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pd.default=fA;var Nb=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jd,"__esModule",{value:!0});const hA=Nb(dA),pA=Nb(Pd);let mA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let u=null,c=null,d=null,f=s.status,h=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const g=await s.text();try{u=JSON.parse(g),Array.isArray(u)&&s.status===404&&(c=[],u=null,f=200,h="OK")}catch{s.status===404&&g===""?(f=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new pA.default(u)}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};jd.default=mA;var gA=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Md,"__esModule",{value:!0});const yA=gA(jd);let xA=class extends yA.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Md.default=xA;var vA=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oa,"__esModule",{value:!0});const wA=vA(Md);let kA=class extends wA.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Oa.default=kA;var bA=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Od,"__esModule",{value:!0});const nl=bA(Oa);let SA=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new nl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new nl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new nl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new nl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new nl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Od.default=SA;var Id={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.version=void 0;Rd.version="0.0.0-automated";Object.defineProperty(Id,"__esModule",{value:!0});Id.DEFAULT_HEADERS=void 0;const EA=Rd;Id.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${EA.version}`};var _b=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tg,"__esModule",{value:!0});const CA=_b(Od),TA=_b(Oa),NA=Id;let _A=class Ab{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},NA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new CA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ab(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(o="POST",a=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new TA.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Tg.default=_A;var Fo=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const Ob=Fo(Tg);Gt.PostgrestClient=Ob.default;const Mb=Fo(Od);Gt.PostgrestQueryBuilder=Mb.default;const jb=Fo(Oa);Gt.PostgrestFilterBuilder=jb.default;const Pb=Fo(Md);Gt.PostgrestTransformBuilder=Pb.default;const Ib=Fo(jd);Gt.PostgrestBuilder=Ib.default;const Rb=Fo(Pd);Gt.PostgrestError=Rb.default;var AA=Gt.default={PostgrestClient:Ob.default,PostgrestQueryBuilder:Mb.default,PostgrestFilterBuilder:jb.default,PostgrestTransformBuilder:Pb.default,PostgrestBuilder:Ib.default,PostgrestError:Rb.default};const{PostgrestClient:OA,PostgrestQueryBuilder:O8,PostgrestFilterBuilder:M8,PostgrestTransformBuilder:j8,PostgrestBuilder:P8,PostgrestError:I8}=AA,MA="2.11.2",jA={"X-Client-Info":`realtime-js/${MA}`},PA="1.0.0",Lb=1e4,IA=1e3;var uo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(uo||(uo={}));var sn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sn||(sn={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var Mp;(function(t){t.websocket="websocket"})(Mp||(Mp={}));var qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qi||(qi={}));class RA{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const a=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Db{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const dx=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=LA(o,t,e,i),s),{})},LA=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?zb(s,o):jp(o)},zb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $A(e,n)}switch(t){case Te.bool:return DA(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return zA(e);case Te.json:case Te.jsonb:return FA(e);case Te.timestamp:return BA(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return jp(e);default:return jp(e)}},jp=t=>t,DA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},FA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$A=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>zb(e,l))}return t},BA=t=>typeof t=="string"?t.replace(" ","T"):t,Fb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Lf{constructor(e,n,r={},i=Lb){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fx||(fx={}));class Ml{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=Ml.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ml.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(s,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),m=c.filter(v=>h.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(a[u]=g)}else l[u]=c}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);e[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,i(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hx||(hx={}));var px;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(px||(px={}));var Sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Ng{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,$n.join,this.params,this.timeout),this.rejoinTimer=new Db(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ml(this),this.broadcastEndpointURL=Fb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(c=>e==null?void 0:e(Sr.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Sr.CLOSED));const a={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Sr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let g=0;g<h;g++){const v=f[g],{filter:{event:y,schema:x,table:w,filter:E}}=v,C=c&&c[g];if(C&&C.event===y&&C.schema===x&&C.table===w&&C.filter===E)m.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),e==null||e(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Sr.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Lf(this,$n.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lf(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=$n;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,v;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var m,g,v,y,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,C=(m=h.filter)===null||m===void 0?void 0:m.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:v,commit_timestamp:y,type:x,errors:w}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ng.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dx(e.columns,e.old_record)),n}}const UA=()=>{},HA=typeof WebSocket<"u",VA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WA{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jA,this.params={},this.timeout=Lb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=UA,this.conn=null,this.sendBuffer=[],this.serializer=new RA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>So(async()=>{const{default:a}=await Promise.resolve().then(()=>zo);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Mp.websocket}`,this.httpEndpoint=Fb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Db(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(HA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),So(async()=>{const{default:e}=await import("./browser-BfLnwc7S.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PA}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case uo.connecting:return qi.Connecting;case uo.open:return qi.Open;case uo.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}channel(e,n={config:{}}){const r=new Ng(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push($n.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(IA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qA{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=uo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class _g extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KA extends _g{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pp extends _g{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var JA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const $b=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>So(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},GA=()=>JA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield So(()=>Promise.resolve().then(()=>zo),void 0)).Response:Response}),Ip=t=>{if(Array.isArray(t))return t.map(n=>Ip(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ip(r)}),e};var Ss=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Df=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QA=(t,e,n)=>Ss(void 0,void 0,void 0,function*(){const r=yield GA();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new KA(Df(i),t.status||500))}).catch(i=>{e(new Pp(Df(i),i))}):e(new Pp(Df(t),t))}),YA=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Ma(t,e,n,r,i,s){return Ss(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,YA(e,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>QA(a,l,r))})})}function vc(t,e,n,r){return Ss(this,void 0,void 0,function*(){return Ma(t,"GET",e,n,r)})}function Gr(t,e,n,r,i){return Ss(this,void 0,void 0,function*(){return Ma(t,"POST",e,r,i,n)})}function XA(t,e,n,r,i){return Ss(this,void 0,void 0,function*(){return Ma(t,"PUT",e,r,i,n)})}function ZA(t,e,n,r){return Ss(this,void 0,void 0,function*(){return Ma(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Bb(t,e,n,r,i){return Ss(this,void 0,void 0,function*(){return Ma(t,"DELETE",e,r,i,n)})}var qt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const eO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tO{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=$b(i)}uploadOrUpdate(e,n,r,i){return qt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},mx),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(et(s))return{data:null,error:s};throw s}})}upload(e,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return qt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:mx.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(et(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new _g("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(e,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return qt(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}copy(e,n,r){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Gr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return qt(this,void 0,void 0,function*(){try{const i=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}download(e,n){return qt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield vc(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(et(l))return{data:null,error:l};throw l}})}info(e){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield vc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ip(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(e){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ZA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof Pp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return qt(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}list(e,n,r){return qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eO),n),{prefix:e||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const nO="2.7.1",rO={"X-Client-Info":`storage-js/${nO}`};var Ps=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class iO{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},rO),n),this.fetch=$b(r)}listBuckets(){return Ps(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ps(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ps(this,void 0,void 0,function*(){try{return{data:yield XA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}}class sO extends iO{constructor(e,n={},r){super(e,n,r)}from(e){return new tO(this.url,this.headers,e,this.fetch)}}const oO="2.47.10";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const lO={"X-Client-Info":`supabase-js-${yl}/${oO}`},aO={headers:lO},uO={schema:"public"},cO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dO={};var fO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const hO=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cb:e=fetch,(...n)=>e(...n)},pO=()=>typeof Headers>"u"?Tb:Headers,mO=(t,e,n)=>{const r=hO(n),i=pO();return(s,o)=>fO(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var gO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function yO(t){return t.replace(/\/$/,"")}function xO(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:l,realtime:a,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>gO(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ub="2.67.3",vO="http://localhost:9999",wO="supabase.auth.token",kO={"X-Client-Info":`gotrue-js/${Ub}`},gx=10,Rp="X-Supabase-Api-Version",Hb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function bO(t){return Math.round(Date.now()/1e3)+t}function SO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},jl=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function EO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Vb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>So(async()=>{const{default:r}=await Promise.resolve().then(()=>zo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},CO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},su=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ou=async(t,e)=>{await t.removeItem(e)};function TO(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,l,a,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|l>>4,i=(l&15)<<4|a>>2,s=(a&3)<<6|u,n=n+String.fromCharCode(r),a!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Ld{constructor(){this.promise=new Ld.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ld.promiseConstructor=Promise;function yx(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(TO(r))}async function NO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _O(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function AO(t){return("0"+t.toString(16)).substr(-2)}function OO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,AO).join("")}async function MO(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function jO(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function PO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await MO(t);return jO(n)}async function Is(t,e,n=!1){const r=OO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Wb(t,`${e}-code-verifier`,i);const s=await PO(r);return[s,r===s?"plain":"s256"]}const IO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RO(t){const e=t.headers.get(Rp);if(!e||!e.match(IO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}let Dd=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class LO extends Dd{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function DO(t){return se(t)&&t.name==="AuthApiError"}class qb extends Dd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Es extends Dd{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Vr extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zO(t){return se(t)&&t.name==="AuthSessionMissingError"}class zf extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lu extends Es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class au extends Es{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FO(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class xx extends Es{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lp extends Es{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ff(t){return se(t)&&t.name==="AuthRetryableFetchError"}class vx extends Es{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var $O=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BO=[502,503,504];async function wx(t){var e;if(!CO(t))throw new Lp(Vi(t),0);if(BO.includes(t.status))throw new Lp(Vi(t),t.status);let n;try{n=await t.json()}catch(s){throw new qb(Vi(s),s)}let r;const i=RO(t);if(i&&i.getTime()>=Hb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vx(Vi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new vx(Vi(n),t.status,n.weak_password.reasons);throw new LO(Vi(n),t.status||500,r)}const UO=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function fe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Rp]||(s[Rp]=Hb["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await HO(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function HO(t,e,n,r,i,s){const o=UO(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new Lp(Vi(a),0)}if(l.ok||await wx(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await wx(a)}}function Wr(t){var e;let n=null;KO(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bO(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function kx(t){const e=Wr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ti(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VO(t){return{data:t,error:null}}function WO(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=$O(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function qO(t){return t}function KO(t){return t.access_token&&t.refresh_token&&t.expires_in}var JO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class GO{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Vb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ti})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=JO(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:WO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ti})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qO});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ti})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ti})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ti})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}const QO={getItem:t=>jl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{jl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{jl()&&globalThis.localStorage.removeItem(t)}};function bx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function YO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rs={debug:!!(globalThis&&jl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class XO extends Kb{}async function ZO(t,e,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new XO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rs.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}YO();const eM={url:vO,storageKey:wO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},rl=30*1e3,Sx=3;async function Ex(t,e,n){return await n()}class ca{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ca.nextInstanceID,ca.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eM),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vb(i.fetch),this.lock=i.lock||Ex,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:er()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZO:this.lock=Ex,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:jl()?this.storage=QO:(this.memoryStorage={},this.storage=bx(this.memoryStorage)):(this.memoryStorage={},this.storage=bx(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ub}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=EO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),er()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),FO(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?{error:n}:{error:new qb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wr}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Is(this.storage,this.storageKey)),s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Wr})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wr})}else throw new lu("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kx})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kx})}else throw new lu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await su(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wr});if(await ou(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new zf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(se(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wr}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new zf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Is(this.storage,this.storageKey));const{error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new lu("You must provide either an email or phone number.")}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Wr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Is(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:VO})}catch(s){if(se(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Vr;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new lu("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await su(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ti}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vr}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ti})})}catch(n){if(se(n))return zO(n)&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Vr;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Is(this.storage,this.storageKey));const{data:u,error:c}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:ti});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return yx(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=yx(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vr;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!er())throw new au("No browser detected.");if(e.error||e.error_description||e.error_code)throw new au(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xx("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!s||!l||!o||!u)throw new au("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;a&&(f=parseInt(a));const h=f-c;h*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await su(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(DO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ou(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=SO(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Is(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(se(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,u,c;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return er()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _O(async i=>(i>0&&await NO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ff(s)&&Date.now()+o-r<rl})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),er()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await su(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+gx;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gx}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ff(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ld;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Vr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),se(s)){const o={session:null,error:s};return Ff(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ou(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rl}ms, refresh threshold is ${Sx} ticks`),i<=Sx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Is(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}}ca.nextInstanceID=0;const tM=ca;class nM extends tM{constructor(e){super(e)}}var rM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class iM{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=yO(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:uO,realtime:dO,auth:Object.assign(Object.assign({},cO),{storageKey:a}),global:aO},c=xO(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=mO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new OA(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new oA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sO(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return rM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},u,c){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nM({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new WA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sM=(t,e,n)=>new iM(t,e,n),oM="https://lbeelrqqjthmwyxbdpej.supabase.co",lM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxiZWVscnFxanRobXd5eGJkcGVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU5NzkwMTQsImV4cCI6MjA1MTU1NTAxNH0.qw3roxvE9JUsGI8PZxtCL9oqHHNszZM5tzpn2xtcjK0",ae=sM(oM,lM,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),Jb=N.createContext(void 0);function aM({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!0);N.useEffect(()=>{ae.auth.getSession().then(({data:{session:u}})=>{n((u==null?void 0:u.user)??null),i(!1)});const{data:{subscription:a}}=ae.auth.onAuthStateChange((u,c)=>{n((c==null?void 0:c.user)??null),i(!1)});return()=>a.unsubscribe()},[]);const s=async(a,u)=>{const{error:c}=await ae.auth.signInWithPassword({email:a,password:u});if(c)throw c},o=async(a,u,c)=>{const{error:d}=await ae.auth.signUp({email:a,password:u,options:{data:{username:c}}});if(d)throw d},l=async()=>{const{error:a}=await ae.auth.signOut();if(a)throw a};return p.jsx(Jb.Provider,{value:{user:e,loading:r,signIn:s,signUp:o,signOut:l},children:t})}function Dr(){const t=N.useContext(Jb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Cs(){const{user:t}=Dr(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{if(!(t!=null&&t.id)){i(!1);return}let l=!0;async function a(){var u;try{const{data:c,error:d}=await ae.from("profiles").select().eq("id",t.id).maybeSingle();if(d)throw d;if(!c&&l){const f=((u=t.email)==null?void 0:u.split("@")[0])||"user";try{const{data:h,error:m}=await ae.from("profiles").upsert({id:t.id,username:`${f}_${Math.random().toString(36).slice(2,7)}`,created_at:new Date().toISOString()}).select().single();if(m)throw m;l&&n(h)}catch(h){l&&(console.error("Error creating profile:",h),o(h instanceof Error?h:new Error("Erreur lors de la cration du profil")))}}else l&&n(c)}catch(c){l&&(console.error("Error fetching profile:",c),o(c instanceof Error?c:new Error("Erreur lors du chargement du profil")))}finally{l&&i(!1)}}return a(),()=>{l=!1}},[t==null?void 0:t.id]),{profile:e,loading:r,error:s}}function uM({children:t}){const{user:e,loading:n}=Dr();return n?p.jsx("div",{children:"Chargement..."}):e?p.jsx(p.Fragment,{children:t}):p.jsx(Eb,{to:"/login"})}function Zn({children:t}){const{user:e,loading:n}=Dr(),{profile:r,loading:i}=Cs();return n||i?p.jsx("div",{children:"Chargement..."}):!e||(r==null?void 0:r.role)!=="admin"?p.jsx(Eb,{to:"/"}):p.jsx(p.Fragment,{children:t})}const cM=[{label:"Accueil",href:"/"},{label:"Articles",href:"/articles"},{label:" Propos",href:"/about"},{label:"Contact",href:"/contact"}];function dM(){return p.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-8",children:cM.map(t=>p.jsx(Pe,{to:t.href,className:"text-gray-700 hover:text-blue-600",children:t.label},t.label))})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>N.createElement("svg",{ref:c,...fM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${hM(t)}`,l].join(" "),...u},[...e.map(([d,f])=>N.createElement(d,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Y("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Y("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Y("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Y("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Y("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Y("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Y("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Y("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Y("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Y("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=Y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Y("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Y("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Y("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Y("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Y("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Y("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Y("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Y("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Y("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Y("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Y("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Y("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),FM=[{label:"Accueil",href:"/"},{label:"Articles",href:"/articles"},{label:" Propos",href:"/about"},{label:"Contact",href:"/contact"}],$M=[{label:"Dashboard",href:"/admin/dashboard"},{label:"Articles",href:"/admin/articles"},{label:"vnements",href:"/admin/events"},{label:"Carrousel",href:"/admin/carousel"},{label:"Paramtres",href:"/admin/settings"}];function BM(){const[t,e]=N.useState(!1),{user:n}=Dr(),{profile:r}=Cs(),i=(r==null?void 0:r.role)==="admin";return p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-md text-gray-700 hover:text-blue-600","aria-label":"Menu principal",children:t?p.jsx(lS,{size:24}):p.jsx(EM,{size:24})}),t&&p.jsx("div",{className:"absolute top-full right-0 w-64 mt-2 bg-white shadow-lg rounded-lg overflow-hidden z-50",children:p.jsxs("nav",{className:"py-2",children:[FM.map(s=>p.jsx(Pe,{to:s.href,className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:()=>e(!1),children:s.label},s.label)),i&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"my-2 border-t border-gray-200"}),$M.map(s=>p.jsx(Pe,{to:s.href,className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:()=>e(!1),children:s.label},s.label))]}),!n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"my-2 border-t border-gray-200"}),p.jsx(Pe,{to:"/login",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:()=>e(!1),children:"Connexion"})]})]})})]})}function UM(){const t=Do(),{signOut:e}=Dr(),{profile:n}=Cs(),[r,i]=N.useState(!1),s=async()=>{await e(),t("/login")};return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>i(!r),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600",children:[p.jsx(oS,{size:20}),p.jsx("span",{children:n==null?void 0:n.username})]}),r&&p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1",children:[p.jsxs("button",{onClick:()=>t("/settings"),className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[p.jsx(Pg,{size:16,className:"mr-2"}),"Paramtres"]}),p.jsxs("button",{onClick:s,className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[p.jsx(SM,{size:16,className:"mr-2"}),"Dconnexion"]})]})]})}const HM=[{to:"/admin/dashboard",icon:iS,label:"Dashboard"},{to:"/admin/articles",icon:nS,label:"Articles"},{to:"/admin/categories",icon:jM,label:"Catgories"},{to:"/admin/events",icon:zd,label:"vnements"},{to:"/admin/carousel",icon:rS,label:"Carrousel"},{to:"/admin/settings",icon:Pg,label:"Paramtres"}];function VM(){const{profile:t,loading:e}=Cs(),[n,r]=N.useState(!1),i=N.useRef(null);return N.useEffect(()=>{function s(o){i.current&&!i.current.contains(o.target)&&r(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),e||(t==null?void 0:t.role)!=="admin"?null:p.jsxs("div",{className:"relative",ref:i,children:[p.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-colors",children:[p.jsx(iS,{size:20}),p.jsx("span",{children:"Administration"})]}),n&&p.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:HM.map(({to:s,icon:o,label:l})=>p.jsxs(Pe,{to:s,onClick:()=>r(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[p.jsx(o,{size:16}),l]},s))})]})}function WM(){const{user:t}=Dr();return p.jsx("header",{className:"bg-white shadow-sm",children:p.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsx(Pe,{to:"/",className:"flex-shrink-0",children:p.jsx("img",{src:"https://lbeelrqqjthmwyxbdpej.supabase.co/storage/v1/object/public/media/bananier-leo%20(1).png",alt:"Logo Le combat de Leo",className:"h-12 w-auto sm:h-14"})})}),p.jsx(dM,{}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"hidden sm:block",children:p.jsx(VM,{})}),t?p.jsx(UM,{}):p.jsx(Pe,{to:"/login",className:"hidden sm:inline-block text-gray-700 hover:text-blue-600",children:"Connexion"}),p.jsx("div",{className:"sm:hidden",children:p.jsx(BM,{})})]})]})})})}function qM(){return p.jsx("footer",{className:"bg-gray-800 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Le Combat de Lo"}),p.jsx("p",{className:"text-gray-300",children:"Ensemble pour soutenir la recherche et l'accompagnement."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liens Rapides"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(Pe,{to:"/",className:"text-gray-300 hover:text-white",children:"Accueil"})}),p.jsx("li",{children:p.jsx(Pe,{to:"/articles",className:"text-gray-300 hover:text-white",children:"Articles"})}),p.jsx("li",{children:p.jsx(Pe,{to:"/about",className:"text-gray-300 hover:text-white",children:" Propos"})}),p.jsx("li",{children:p.jsx(Pe,{to:"/contact",className:"text-gray-300 hover:text-white",children:"Contact"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),p.jsxs("ul",{className:"space-y-2 text-gray-300",children:[p.jsxs("li",{className:"flex items-center",children:[p.jsx(sS,{className:"w-5 h-5 mr-2"}),p.jsx("a",{href:"mailto:contact@lecombatdeleo.fr",className:"hover:text-white",children:"contact@lecombatdeleo.fr"})]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx(tS,{className:"w-5 h-5 mr-2"}),p.jsx("a",{href:"https://www.facebook.com/lecombatdeleo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",children:"Suivez-nous sur Facebook"})]})]})]})]}),p.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-300",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," Le Combat de Lo. Tous droits rservs."]})})]})})}function Ze({children:t}){return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(WM,{}),p.jsx("main",{className:"flex-grow",children:t}),p.jsx(qM,{})]})}const Fi={invalid_credentials:"Email ou mot de passe incorrect",invalid_email:"Format d'email invalide",weak_password:"Le mot de passe doit contenir au moins 6 caractres",email_taken:"Cet email est dj utilis",network_error:"Erreur de connexion au serveur",default:"Une erreur est survenue"};function KM(){const[t,e]=N.useState(null),n=N.useCallback(i=>{if(i instanceof Dd){const s=i.message.toLowerCase();s.includes("invalid login credentials")?e({type:"credentials",message:Fi.invalid_credentials}):s.includes("invalid email")?e({type:"validation",message:Fi.invalid_email}):s.includes("password")?e({type:"validation",message:Fi.weak_password}):s.includes("email taken")?e({type:"validation",message:Fi.email_taken}):e({type:"unknown",message:Fi.default})}else i instanceof Error&&i.message.includes("network")?e({type:"network",message:Fi.network_error}):e({type:"unknown",message:Fi.default})},[]),r=N.useCallback(()=>{e(null)},[]);return{error:t,handleError:n,clearError:r}}const JM={primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50"},GM={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};function be({variant:t="primary",size:e="md",className:n="",children:r,...i}){return p.jsx("button",{className:`rounded-md font-medium transition-colors ${JM[t]} ${GM[e]} ${n}`,...i,children:r})}function QM({loading:t,children:e,className:n="",...r}){return p.jsxs(be,{...r,disabled:t,className:`relative ${n}`,children:[t&&p.jsx(bM,{className:"absolute left-4 w-4 h-4 animate-spin"}),e]})}function YM({message:t}){return p.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:p.jsxs("div",{className:"flex",children:[p.jsx(pM,{className:"h-5 w-5 text-red-500 mr-2"}),p.jsx("p",{className:"text-sm text-red-700",children:t})]})})}function XM(){const t=Do(),{signIn:e}=Dr(),{error:n,handleError:r,clearError:i}=KM(),[s,o]=N.useState(""),[l,a]=N.useState(""),[u,c]=N.useState(!1),d=async f=>{f.preventDefault(),c(!0),i();try{await e(s,l),t("/")}catch(h){r(h)}finally{c(!1)}};return p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n&&p.jsx(YM,{message:n.message}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{type:"email",id:"email",value:s,onChange:f=>o(f.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,disabled:u})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),p.jsx("input",{type:"password",id:"password",value:l,onChange:f=>a(f.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,disabled:u,minLength:6})]}),p.jsx(QM,{type:"submit",loading:u,className:"w-full",children:"Se connecter"})]})}function ZM(){return p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[p.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion"})}),p.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:p.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p.jsx(XM,{}),p.jsx("div",{className:"mt-6 text-center text-sm",children:p.jsx(Pe,{to:"/register",className:"text-blue-600 hover:text-blue-500",children:"Pas encore de compte ? S'inscrire"})})]})})]})}function ej(){const{signUp:t}=Dr(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState(""),[l,a]=N.useState(""),u=async c=>{c.preventDefault();try{await t(e,r,s)}catch(d){a(d instanceof Error?d.message:"Une erreur est survenue")}};return p.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l&&p.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:l}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),p.jsx("input",{type:"text",id:"username",value:s,onChange:c=>o(c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{type:"email",id:"email",value:e,onChange:c=>n(c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),p.jsx("input",{type:"password",id:"password",value:r,onChange:c=>i(c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsx(be,{type:"submit",className:"w-full",children:"S'inscrire"})]})}function tj(){return p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[p.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crer un compte"})}),p.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:p.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p.jsx(ej,{}),p.jsx("div",{className:"mt-6 text-center text-sm",children:p.jsx(Pe,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"Dj un compte ? Se connecter"})})]})})]})}function aS(){const{user:t}=Dr(),[e,n]=N.useState(!1);return{updateProfile:async i=>{if(t){n(!0);try{const{error:s}=await ae.from("profiles").update(i).eq("id",t.id);if(s)throw s}catch(s){throw s}finally{n(!1)}}},updating:e}}function nj(){const{profile:t,loading:e}=Cs(),{updateProfile:n,updating:r}=aS(),[i,s]=_e.useState({username:"",full_name:""});if(_e.useEffect(()=>{t&&s({username:t.username,full_name:t.full_name||""})},[t]),e)return p.jsx("div",{children:"Chargement..."});const o=async l=>{l.preventDefault(),await n(i)};return p.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Paramtres du compte"}),p.jsxs("form",{onSubmit:o,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),p.jsx("input",{type:"text",value:i.username,onChange:l=>s(a=>({...a,username:l.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),p.jsx("input",{type:"text",value:i.full_name,onChange:l=>s(a=>({...a,full_name:l.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsx(be,{type:"submit",disabled:r,children:r?"Enregistrement...":"Enregistrer"})]})]})}function rj(t){const[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{if(!t)return;async function l(){try{const{data:a,error:u}=await ae.from("articles").select("*").eq("slug",t).eq("status","published").single();if(u)throw u;n(a)}catch(a){o(a instanceof Error?a:new Error("Une erreur est survenue"))}finally{i(!1)}}l()},[t]),{article:e,loading:r,error:s}}function ij(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lj={};function Tx(t,e){return(lj.jsx?oj:sj).test(t)}const aj=/[ \t\n\f\r]/g;function uj(t){return typeof t=="object"?t.type==="text"?Nx(t.value):!1:Nx(t)}function Nx(t){return t.replace(aj,"")===""}let ja=class{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}};ja.prototype.property={};ja.prototype.normal={};ja.prototype.space=null;function uS(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new ja(n,r,e)}function zp(t){return t.toLowerCase()}class Pn{constructor(e,n){this.property=e,this.attribute=n}}Pn.prototype.space=null;Pn.prototype.boolean=!1;Pn.prototype.booleanish=!1;Pn.prototype.overloadedBoolean=!1;Pn.prototype.number=!1;Pn.prototype.commaSeparated=!1;Pn.prototype.spaceSeparated=!1;Pn.prototype.commaOrSpaceSeparated=!1;Pn.prototype.mustUseProperty=!1;Pn.prototype.defined=!1;let cj=0;const te=Ts(),qe=Ts(),cS=Ts(),R=Ts(),Ne=Ts(),co=Ts(),rn=Ts();function Ts(){return 2**++cj}const Fp=Object.freeze(Object.defineProperty({__proto__:null,boolean:te,booleanish:qe,commaOrSpaceSeparated:rn,commaSeparated:co,number:R,overloadedBoolean:cS,spaceSeparated:Ne},Symbol.toStringTag,{value:"Module"})),$f=Object.keys(Fp);class Rg extends Pn{constructor(e,n,r,i){let s=-1;if(super(e,n),_x(this,"space",i),typeof r=="number")for(;++s<$f.length;){const o=$f[s];_x(this,$f[s],(r&Fp[o])===Fp[o])}}}Rg.prototype.defined=!0;function _x(t,e,n){n&&(t[e]=n)}const dj={}.hasOwnProperty;function $o(t){const e={},n={};let r;for(r in t.properties)if(dj.call(t.properties,r)){const i=t.properties[r],s=new Rg(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[zp(r)]=r,n[zp(s.attribute)]=r}return new ja(e,n,t.space)}const dS=$o({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),fS=$o({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function hS(t,e){return e in t?t[e]:e}function pS(t,e){return hS(t,e.toLowerCase())}const mS=$o({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:pS,properties:{xmlns:null,xmlnsXLink:null}}),gS=$o({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qe,ariaAutoComplete:null,ariaBusy:qe,ariaChecked:qe,ariaColCount:R,ariaColIndex:R,ariaColSpan:R,ariaControls:Ne,ariaCurrent:null,ariaDescribedBy:Ne,ariaDetails:null,ariaDisabled:qe,ariaDropEffect:Ne,ariaErrorMessage:null,ariaExpanded:qe,ariaFlowTo:Ne,ariaGrabbed:qe,ariaHasPopup:null,ariaHidden:qe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ne,ariaLevel:R,ariaLive:null,ariaModal:qe,ariaMultiLine:qe,ariaMultiSelectable:qe,ariaOrientation:null,ariaOwns:Ne,ariaPlaceholder:null,ariaPosInSet:R,ariaPressed:qe,ariaReadOnly:qe,ariaRelevant:null,ariaRequired:qe,ariaRoleDescription:Ne,ariaRowCount:R,ariaRowIndex:R,ariaRowSpan:R,ariaSelected:qe,ariaSetSize:R,ariaSort:null,ariaValueMax:R,ariaValueMin:R,ariaValueNow:R,ariaValueText:null,role:null}}),fj=$o({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:pS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:co,acceptCharset:Ne,accessKey:Ne,action:null,allow:null,allowFullScreen:te,allowPaymentRequest:te,allowUserMedia:te,alt:null,as:null,async:te,autoCapitalize:null,autoComplete:Ne,autoFocus:te,autoPlay:te,blocking:Ne,capture:null,charSet:null,checked:te,cite:null,className:Ne,cols:R,colSpan:null,content:null,contentEditable:qe,controls:te,controlsList:Ne,coords:R|co,crossOrigin:null,data:null,dateTime:null,decoding:null,default:te,defer:te,dir:null,dirName:null,disabled:te,download:cS,draggable:qe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:te,formTarget:null,headers:Ne,height:R,hidden:te,high:R,href:null,hrefLang:null,htmlFor:Ne,httpEquiv:Ne,id:null,imageSizes:null,imageSrcSet:null,inert:te,inputMode:null,integrity:null,is:null,isMap:te,itemId:null,itemProp:Ne,itemRef:Ne,itemScope:te,itemType:Ne,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:te,low:R,manifest:null,max:null,maxLength:R,media:null,method:null,min:null,minLength:R,multiple:te,muted:te,name:null,nonce:null,noModule:te,noValidate:te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:te,optimum:R,pattern:null,ping:Ne,placeholder:null,playsInline:te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:te,referrerPolicy:null,rel:Ne,required:te,reversed:te,rows:R,rowSpan:R,sandbox:Ne,scope:null,scoped:te,seamless:te,selected:te,shadowRootClonable:te,shadowRootDelegatesFocus:te,shadowRootMode:null,shape:null,size:R,sizes:null,slot:null,span:R,spellCheck:qe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:R,step:null,style:null,tabIndex:R,target:null,title:null,translate:null,type:null,typeMustMatch:te,useMap:null,value:qe,width:R,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ne,axis:null,background:null,bgColor:null,border:R,borderColor:null,bottomMargin:R,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:te,declare:te,event:null,face:null,frame:null,frameBorder:null,hSpace:R,leftMargin:R,link:null,longDesc:null,lowSrc:null,marginHeight:R,marginWidth:R,noResize:te,noHref:te,noShade:te,noWrap:te,object:null,profile:null,prompt:null,rev:null,rightMargin:R,rules:null,scheme:null,scrolling:qe,standby:null,summary:null,text:null,topMargin:R,valueType:null,version:null,vAlign:null,vLink:null,vSpace:R,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:te,disableRemotePlayback:te,prefix:null,property:null,results:R,security:null,unselectable:null}}),hj=$o({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:hS,properties:{about:rn,accentHeight:R,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:R,amplitude:R,arabicForm:null,ascent:R,attributeName:null,attributeType:null,azimuth:R,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:R,by:null,calcMode:null,capHeight:R,className:Ne,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:R,diffuseConstant:R,direction:null,display:null,dur:null,divisor:R,dominantBaseline:null,download:te,dx:null,dy:null,edgeMode:null,editable:null,elevation:R,enableBackground:null,end:null,event:null,exponent:R,externalResourcesRequired:null,fill:null,fillOpacity:R,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:co,g2:co,glyphName:co,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:R,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:R,horizOriginX:R,horizOriginY:R,id:null,ideographic:R,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:R,k:R,k1:R,k2:R,k3:R,k4:R,kernelMatrix:rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:R,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:R,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:R,overlineThickness:R,paintOrder:null,panose1:null,path:null,pathLength:R,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ne,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:R,pointsAtY:R,pointsAtZ:R,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rn,rev:rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rn,requiredFeatures:rn,requiredFonts:rn,requiredFormats:rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:R,specularExponent:R,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:R,strikethroughThickness:R,string:null,stroke:null,strokeDashArray:rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:R,strokeOpacity:R,strokeWidth:null,style:null,surfaceScale:R,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rn,tabIndex:R,tableValues:null,target:null,targetX:R,targetY:R,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:R,underlineThickness:R,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:R,values:null,vAlphabetic:R,vMathematical:R,vectorEffect:null,vHanging:R,vIdeographic:R,version:null,vertAdvY:R,vertOriginX:R,vertOriginY:R,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:R,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),pj=/^data[-\w.:]+$/i,Ax=/-[a-z]/g,mj=/[A-Z]/g;function gj(t,e){const n=zp(e);let r=e,i=Pn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pj.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Ax,xj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Ax.test(s)){let o=s.replace(mj,yj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Rg}return new i(r,e)}function yj(t){return"-"+t.toLowerCase()}function xj(t){return t.charAt(1).toUpperCase()}const vj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wj=uS([fS,dS,mS,gS,fj],"html"),Lg=uS([fS,dS,mS,gS,hj],"svg");function kj(t){return t.join(" ").trim()}var yS={},Ox=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bj=/\n/g,Sj=/^\s*/,Ej=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Cj=/^:\s*/,Tj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nj=/^[;\s]*/,_j=/^\s+|\s+$/g,Aj=`
`,Mx="/",jx="*",Ki="",Oj="comment",Mj="declaration",jj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(bj);g&&(n+=g.length);var v=m.lastIndexOf(Aj);r=~v?m.length-v:r+m.length}function s(){var m={line:n,column:r};return function(g){return g.position=new o(m),u(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function l(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function a(m){var g=m.exec(t);if(g){var v=g[0];return i(v),t=t.slice(v.length),g}}function u(){a(Sj)}function c(m){var g;for(m=m||[];g=d();)g!==!1&&m.push(g);return m}function d(){var m=s();if(!(Mx!=t.charAt(0)||jx!=t.charAt(1))){for(var g=2;Ki!=t.charAt(g)&&(jx!=t.charAt(g)||Mx!=t.charAt(g+1));)++g;if(g+=2,Ki===t.charAt(g-1))return l("End of comment missing");var v=t.slice(2,g-2);return r+=2,i(v),t=t.slice(g),r+=2,m({type:Oj,comment:v})}}function f(){var m=s(),g=a(Ej);if(g){if(d(),!a(Cj))return l("property missing ':'");var v=a(Tj),y=m({type:Mj,property:Px(g[0].replace(Ox,Ki)),value:v?Px(v[0].replace(Ox,Ki)):Ki});return a(Nj),y}}function h(){var m=[];c(m);for(var g;g=f();)g!==!1&&(m.push(g),c(m));return m}return u(),h()};function Px(t){return t?t.replace(_j,Ki):Ki}var Pj=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yS,"__esModule",{value:!0});var Ix=yS.default=Rj,Ij=Pj(jj);function Rj(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Ij.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?e(o,l,s):l&&(n=n||{},n[o]=l)}}),n}const Lj=Ix.default||Ix,xS=vS("end"),Dg=vS("start");function vS(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Dj(t){const e=Dg(t),n=xS(t);if(e&&n)return{start:e,end:n}}function Pl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Rx(t.position):"start"in t||"end"in t?Rx(t):"line"in t||"column"in t?$p(t):""}function $p(t){return Lx(t&&t.line)+":"+Lx(t&&t.column)}function Rx(t){return $p(t&&t.start)+"-"+$p(t&&t.end)}function Lx(t){return t&&typeof t=="number"?t:1}class Nt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Pl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Nt.prototype.file="";Nt.prototype.name="";Nt.prototype.reason="";Nt.prototype.message="";Nt.prototype.stack="";Nt.prototype.column=void 0;Nt.prototype.line=void 0;Nt.prototype.ancestors=void 0;Nt.prototype.cause=void 0;Nt.prototype.fatal=void 0;Nt.prototype.place=void 0;Nt.prototype.ruleId=void 0;Nt.prototype.source=void 0;const zg={}.hasOwnProperty,zj=new Map,Fj=/[A-Z]/g,$j=/-([a-z])/g,Bj=new Set(["table","tbody","thead","tfoot","tr"]),Uj=new Set(["td","th"]),wS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Hj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Yj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Qj(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Lg:wj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=kS(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function kS(t,e,n){if(e.type==="element")return Vj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Wj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Kj(t,e,n);if(e.type==="mdxjsEsm")return qj(t,e);if(e.type==="root")return Jj(t,e,n);if(e.type==="text")return Gj(t,e)}function Vj(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Lg,t.schema=i),t.ancestors.push(e);const s=SS(t,e.tagName,!1),o=Xj(t,e);let l=$g(t,e);return Bj.has(e.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!uj(a):!0})),bS(t,o,s,e),Fg(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Wj(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}da(t,e.position)}function qj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);da(t,e.position)}function Kj(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Lg,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:SS(t,e.name,!0),o=Zj(t,e),l=$g(t,e);return bS(t,o,s,e),Fg(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Jj(t,e,n){const r={};return Fg(r,$g(t,e)),t.create(e,t.Fragment,r,n)}function Gj(t,e){return e.value}function bS(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Fg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Qj(t,e,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:e;return l?u(s,o,l):u(s,o)}}function Yj(t,e){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=Dg(r);return e(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function Xj(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&zg.call(e.properties,i)){const s=eP(t,i,e.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Uj.has(e.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Zj(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else da(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else da(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function $g(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:zj;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const l=kS(t,s,o);l!==void 0&&n.push(l)}return n}function eP(t,e,n){const r=gj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ij(n):kj(n)),r.property==="style"){let i=typeof n=="object"?n:tP(t,String(n));return t.stylePropertyNameCase==="css"&&(i=nP(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?vj[r.property]||r.property:r.attribute,n]}}function tP(t,e){const n={};try{Lj(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Nt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=wS+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace($j,iP)),n[o]=s}}function SS(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=Tx(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=Tx(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return zg.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);da(t)}function da(t,e){const n=new Nt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=wS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nP(t){const e={};let n;for(n in t)zg.call(t,n)&&(e[rP(n)]=t[n]);return e}function rP(t){let e=t.replace(Fj,sP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function iP(t,e){return e.toUpperCase()}function sP(t){return"-"+t.toLowerCase()}const Bf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oP={};function Bg(t,e){const n=oP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ES(t,r,i)}function ES(t,e,n){if(lP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Dx(t.children,e,n)}return Array.isArray(t)?Dx(t,e,n):""}function Dx(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=ES(t[i],e,n);return r.join("")}function lP(t){return!!(t&&typeof t=="object")}const zx=document.createElement("i");function Ug(t){const e="&"+t+";";zx.innerHTML=e;const n=zx.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function cn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Sn(t,e){return t.length>0?(cn(t,t.length,0,e),t):e}const Fx={}.hasOwnProperty;function CS(t){const e={};let n=-1;for(;++n<t.length;)aP(e,t[n]);return e}function aP(t,e){let n;for(n in e){const i=(Fx.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Fx.call(i,o)||(i[o]=[]);const l=s[o];uP(i[o],Array.isArray(l)?l:l?[l]:[])}}}function uP(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);cn(t,0,0,r)}function TS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pt=Mi(/[A-Za-z]/),St=Mi(/[\dA-Za-z]/),cP=Mi(/[#-'*+\--9=?A-Z^-~]/);function wc(t){return t!==null&&(t<32||t===127)}const Bp=Mi(/\d/),dP=Mi(/[\dA-Fa-f]/),fP=Mi(/[!-/:-@[-`{-~]/);function Q(t){return t!==null&&t<-2}function Ce(t){return t!==null&&(t<0||t===32)}function ce(t){return t===-2||t===-1||t===32}const $d=Mi(new RegExp("\\p{P}|\\p{S}","u")),gs=Mi(/\s/);function Mi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Bo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&St(t.charCodeAt(n+1))&&St(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function pe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return ce(a)?(t.enter(n),l(a)):e(a)}function l(a){return ce(a)&&s++<i?(t.consume(a),l):(t.exit(n),e(a))}}const hP={tokenize:pP};function pP(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),pe(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Q(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const mP={tokenize:gP},$x={tokenize:yP};function gP(t){const e=this,n=[];let r=0,i,s,o;return l;function l(w){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,a,u)(w)}return u(w)}function a(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const E=e.events.length;let C=E,S;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){S=e.events[C][1].end;break}y(r);let O=E;for(;O<e.events.length;)e.events[O][1].end={...S},O++;return cn(e.events,C+1,0,e.events.slice(E)),e.events.length=O,u(w)}return l(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check($x,c,d)(w)}function c(w){return i&&x(),y(r),f(w)}function d(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(w)}function f(w){return e.containerState={},t.attempt($x,h,m)(w)}function h(w){return r++,n.push([e.currentConstruct,e.containerState]),f(w)}function m(w){if(w===null){i&&x(),y(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(w);return}return Q(w)?(t.consume(w),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(w),g)}function v(w,E){const C=e.sliceStream(w);if(E&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),e.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const O=e.events.length;let M=O,L,_;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(L){_=e.events[M][1].end;break}L=!0}for(y(r),S=O;S<e.events.length;)e.events[S][1].end={..._},S++;cn(e.events,M+1,0,e.events.slice(O)),e.events.length=S}}function y(w){let E=n.length;for(;E-- >w;){const C=n[E];e.containerState=C[1],C[0].exit.call(e,t)}n.length=w}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function yP(t,e,n){return pe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Co(t){if(t===null||Ce(t)||gs(t))return 1;if($d(t))return 2}function Bd(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Up={name:"attention",resolveAll:xP,tokenize:vP};function xP(t,e){let n=-1,r,i,s,o,l,a,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};Bx(d,-a),Bx(f,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:a>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Sn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Sn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Sn(u,Bd(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Sn(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Sn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,cn(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function vP(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Co(r);let s;return o;function o(a){return s=a,t.enter("attentionSequence"),l(a)}function l(a){if(a===s)return t.consume(a),l;const u=t.exit("attentionSequence"),c=Co(a),d=!c||c===2&&i||n.includes(a),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),e(a)}}function Bx(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const wP={name:"autolink",tokenize:kP};function kP(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return Pt(h)?(t.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||St(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(t.consume(h),r=0,a):(h===43||h===45||h===46||St(h))&&r++<32?(t.consume(h),l):(r=0,u(h))}function a(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||wc(h)?n(h):(t.consume(h),a)}function u(h){return h===64?(t.consume(h),c):cP(h)?(t.consume(h),u):n(h)}function c(h){return St(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):f(h)}function f(h){if((h===45||St(h))&&r++<63){const m=h===45?f:d;return t.consume(h),m}return n(h)}}const Pa={partial:!0,tokenize:bP};function bP(t,e,n){return r;function r(s){return ce(s)?pe(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Q(s)?e(s):n(s)}}const NS={continuation:{tokenize:EP},exit:CP,name:"blockQuote",tokenize:SP};function SP(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ce(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function EP(t,e,n){const r=this;return i;function i(o){return ce(o)?pe(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(NS,e,n)(o)}}function CP(t){t.exit("blockQuote")}const _S={name:"characterEscape",tokenize:TP};function TP(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return fP(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const AS={name:"characterReference",tokenize:NP};function NP(t,e,n){const r=this;let i=0,s,o;return l;function l(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),a}function a(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=St,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=dP,c):(t.enter("characterReferenceValue"),s=7,o=Bp,c(d))}function c(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===St&&!Ug(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),c):n(d)}}const Ux={partial:!0,tokenize:AP},Hx={concrete:!0,name:"codeFenced",tokenize:_P};function _P(t,e,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,l;return a;function a(S){return u(S)}function u(S){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,l=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===l?(o++,t.consume(S),c):o<3?n(S):(t.exit("codeFencedFenceSequence"),ce(S)?pe(t,d,"whitespace")(S):d(S))}function d(S){return S===null||Q(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(Ux,g,E)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Q(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(S)):ce(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),pe(t,h,"whitespace")(S)):S===96&&S===l?n(S):(t.consume(S),f)}function h(S){return S===null||Q(S)?d(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||Q(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(S)):S===96&&S===l?n(S):(t.consume(S),m)}function g(S){return t.attempt(i,E,v)(S)}function v(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),y}function y(S){return s>0&&ce(S)?pe(t,x,"linePrefix",s+1)(S):x(S)}function x(S){return S===null||Q(S)?t.check(Ux,g,E)(S):(t.enter("codeFlowValue"),w(S))}function w(S){return S===null||Q(S)?(t.exit("codeFlowValue"),x(S)):(t.consume(S),w)}function E(S){return t.exit("codeFenced"),e(S)}function C(S,O,M){let L=0;return _;function _(ee){return S.enter("lineEnding"),S.consume(ee),S.exit("lineEnding"),D}function D(ee){return S.enter("codeFencedFence"),ce(ee)?pe(S,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):U(ee)}function U(ee){return ee===l?(S.enter("codeFencedFenceSequence"),re(ee)):M(ee)}function re(ee){return ee===l?(L++,S.consume(ee),re):L>=o?(S.exit("codeFencedFenceSequence"),ce(ee)?pe(S,he,"whitespace")(ee):he(ee)):M(ee)}function he(ee){return ee===null||Q(ee)?(S.exit("codeFencedFence"),O(ee)):M(ee)}}}function AP(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Uf={name:"codeIndented",tokenize:MP},OP={partial:!0,tokenize:jP};function MP(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),pe(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):Q(u)?t.attempt(OP,o,a)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||Q(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),l)}function a(u){return t.exit("codeIndented"),e(u)}}function jP(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Q(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):pe(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):Q(o)?i(o):n(o)}}const PP={name:"codeText",previous:RP,resolve:IP,tokenize:LP};function IP(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function RP(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LP(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),l(d)}function l(d){return d===96?(t.consume(d),r++,l):(t.exit("codeTextSequence"),a(d))}function a(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),a):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):Q(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Q(d)?(t.exit("codeTextData"),a(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class DP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&il(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),il(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),il(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);il(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);il(this.left,n.reverse())}}}function il(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function OS(t){const e={};let n=-1,r,i,s,o,l,a,u;const c=new DP(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,zP(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return cn(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function zP(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,a=[],u={};let c,d,f=-1,h=n,m=0,g=0;const v=[g];for(;h;){for(;t.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(g=f+1,v.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):v.pop(),f=v.length;f--;){const y=l.slice(v[f],v[f+1]),x=s.pop();a.push([x,x+y.length-1]),t.splice(x,2,y)}for(a.reverse(),f=-1;++f<a.length;)u[m+a[f][0]]=m+a[f][1],m+=a[f][1]-a[f][0]-1;return u}const FP={resolve:BP,tokenize:UP},$P={partial:!0,tokenize:HP};function BP(t){return OS(t),t}function UP(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):Q(l)?t.check($P,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function HP(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),pe(t,s,"linePrefix")}function s(o){if(o===null||Q(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function MS(t,e,n,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),f):y===null||y===32||y===41||wc(y)?n(y):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(t.exit("chunkString"),t.exit(l),f(y)):y===null||y===60||Q(y)?n(y):(t.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(t.consume(y),h):h(y)}function g(y){return!c&&(y===null||y===41||Ce(y))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(y)):c<u&&y===40?(t.consume(y),c++,g):y===41?(t.consume(y),c--,g):y===null||y===32||y===40||wc(y)?n(y):(t.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function jS(t,e,n,r,i,s){const o=this;let l=0,a;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(s),c}function c(h){return l>999||h===null||h===91||h===93&&!a||h===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(t.exit(s),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Q(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Q(h)||l++>999?(t.exit("chunkString"),c(h)):(t.consume(h),a||(a=!ce(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),l++,d):d(h)}}function PS(t,e,n,r,i,s){let o;return l;function l(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,a):n(f)}function a(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),a(o)):f===null?n(f):Q(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),pe(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Q(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(t.consume(f),c):c(f)}}function Il(t,e){let n;return r;function r(i){return Q(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ce(i)?pe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const VP={name:"definition",tokenize:qP},WP={partial:!0,tokenize:KP};function qP(t,e,n){const r=this;let i;return s;function s(h){return t.enter("definition"),o(h)}function o(h){return jS.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),a):n(h)}function a(h){return Ce(h)?Il(t,u)(h):u(h)}function u(h){return MS(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(WP,d,d)(h)}function d(h){return ce(h)?pe(t,f,"whitespace")(h):f(h)}function f(h){return h===null||Q(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function KP(t,e,n){return r;function r(l){return Ce(l)?Il(t,i)(l):n(l)}function i(l){return PS(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return ce(l)?pe(t,o,"whitespace")(l):o(l)}function o(l){return l===null||Q(l)?e(l):n(l)}}const JP={name:"hardBreakEscape",tokenize:GP};function GP(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Q(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const QP={name:"headingAtx",resolve:YP,tokenize:XP};function YP(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},cn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function XP(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||Ce(c)?(t.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(t.enter("atxHeadingSequence"),a(c)):c===null||Q(c)?(t.exit("atxHeading"),e(c)):ce(c)?pe(t,l,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function a(c){return c===35?(t.consume(c),a):(t.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||Ce(c)?(t.exit("atxHeadingText"),l(c)):(t.consume(c),u)}}const ZP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vx=["pre","script","style","textarea"],eI={concrete:!0,name:"htmlFlow",resolveTo:rI,tokenize:iI},tI={partial:!0,tokenize:oI},nI={partial:!0,tokenize:sI};function rI(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function iI(t,e,n){const r=this;let i,s,o,l,a;return u;function u(b){return c(b)}function c(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),d}function d(b){return b===33?(t.consume(b),f):b===47?(t.consume(b),s=!0,g):b===63?(t.consume(b),i=3,r.interrupt?e:k):Pt(b)?(t.consume(b),o=String.fromCharCode(b),v):n(b)}function f(b){return b===45?(t.consume(b),i=2,h):b===91?(t.consume(b),i=5,l=0,m):Pt(b)?(t.consume(b),i=4,r.interrupt?e:k):n(b)}function h(b){return b===45?(t.consume(b),r.interrupt?e:k):n(b)}function m(b){const Fe="CDATA[";return b===Fe.charCodeAt(l++)?(t.consume(b),l===Fe.length?r.interrupt?e:U:m):n(b)}function g(b){return Pt(b)?(t.consume(b),o=String.fromCharCode(b),v):n(b)}function v(b){if(b===null||b===47||b===62||Ce(b)){const Fe=b===47,me=o.toLowerCase();return!Fe&&!s&&Vx.includes(me)?(i=1,r.interrupt?e(b):U(b)):ZP.includes(o.toLowerCase())?(i=6,Fe?(t.consume(b),y):r.interrupt?e(b):U(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?x(b):w(b))}return b===45||St(b)?(t.consume(b),o+=String.fromCharCode(b),v):n(b)}function y(b){return b===62?(t.consume(b),r.interrupt?e:U):n(b)}function x(b){return ce(b)?(t.consume(b),x):_(b)}function w(b){return b===47?(t.consume(b),_):b===58||b===95||Pt(b)?(t.consume(b),E):ce(b)?(t.consume(b),w):_(b)}function E(b){return b===45||b===46||b===58||b===95||St(b)?(t.consume(b),E):C(b)}function C(b){return b===61?(t.consume(b),S):ce(b)?(t.consume(b),C):w(b)}function S(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),a=b,O):ce(b)?(t.consume(b),S):M(b)}function O(b){return b===a?(t.consume(b),a=null,L):b===null||Q(b)?n(b):(t.consume(b),O)}function M(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Ce(b)?C(b):(t.consume(b),M)}function L(b){return b===47||b===62||ce(b)?w(b):n(b)}function _(b){return b===62?(t.consume(b),D):n(b)}function D(b){return b===null||Q(b)?U(b):ce(b)?(t.consume(b),D):n(b)}function U(b){return b===45&&i===2?(t.consume(b),we):b===60&&i===1?(t.consume(b),ke):b===62&&i===4?(t.consume(b),G):b===63&&i===3?(t.consume(b),k):b===93&&i===5?(t.consume(b),K):Q(b)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(tI,ye,re)(b)):b===null||Q(b)?(t.exit("htmlFlowData"),re(b)):(t.consume(b),U)}function re(b){return t.check(nI,he,ye)(b)}function he(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),ee}function ee(b){return b===null||Q(b)?re(b):(t.enter("htmlFlowData"),U(b))}function we(b){return b===45?(t.consume(b),k):U(b)}function ke(b){return b===47?(t.consume(b),o="",$):U(b)}function $(b){if(b===62){const Fe=o.toLowerCase();return Vx.includes(Fe)?(t.consume(b),G):U(b)}return Pt(b)&&o.length<8?(t.consume(b),o+=String.fromCharCode(b),$):U(b)}function K(b){return b===93?(t.consume(b),k):U(b)}function k(b){return b===62?(t.consume(b),G):b===45&&i===2?(t.consume(b),k):U(b)}function G(b){return b===null||Q(b)?(t.exit("htmlFlowData"),ye(b)):(t.consume(b),G)}function ye(b){return t.exit("htmlFlow"),e(b)}}function sI(t,e,n){const r=this;return i;function i(o){return Q(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function oI(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Pa,e,n)}}const lI={name:"htmlText",tokenize:aI};function aI(t,e,n){const r=this;let i,s,o;return l;function l(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),a}function a(k){return k===33?(t.consume(k),u):k===47?(t.consume(k),C):k===63?(t.consume(k),w):Pt(k)?(t.consume(k),M):n(k)}function u(k){return k===45?(t.consume(k),c):k===91?(t.consume(k),s=0,m):Pt(k)?(t.consume(k),x):n(k)}function c(k){return k===45?(t.consume(k),h):n(k)}function d(k){return k===null?n(k):k===45?(t.consume(k),f):Q(k)?(o=d,ke(k)):(t.consume(k),d)}function f(k){return k===45?(t.consume(k),h):d(k)}function h(k){return k===62?we(k):k===45?f(k):d(k)}function m(k){const G="CDATA[";return k===G.charCodeAt(s++)?(t.consume(k),s===G.length?g:m):n(k)}function g(k){return k===null?n(k):k===93?(t.consume(k),v):Q(k)?(o=g,ke(k)):(t.consume(k),g)}function v(k){return k===93?(t.consume(k),y):g(k)}function y(k){return k===62?we(k):k===93?(t.consume(k),y):g(k)}function x(k){return k===null||k===62?we(k):Q(k)?(o=x,ke(k)):(t.consume(k),x)}function w(k){return k===null?n(k):k===63?(t.consume(k),E):Q(k)?(o=w,ke(k)):(t.consume(k),w)}function E(k){return k===62?we(k):w(k)}function C(k){return Pt(k)?(t.consume(k),S):n(k)}function S(k){return k===45||St(k)?(t.consume(k),S):O(k)}function O(k){return Q(k)?(o=O,ke(k)):ce(k)?(t.consume(k),O):we(k)}function M(k){return k===45||St(k)?(t.consume(k),M):k===47||k===62||Ce(k)?L(k):n(k)}function L(k){return k===47?(t.consume(k),we):k===58||k===95||Pt(k)?(t.consume(k),_):Q(k)?(o=L,ke(k)):ce(k)?(t.consume(k),L):we(k)}function _(k){return k===45||k===46||k===58||k===95||St(k)?(t.consume(k),_):D(k)}function D(k){return k===61?(t.consume(k),U):Q(k)?(o=D,ke(k)):ce(k)?(t.consume(k),D):L(k)}function U(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,re):Q(k)?(o=U,ke(k)):ce(k)?(t.consume(k),U):(t.consume(k),he)}function re(k){return k===i?(t.consume(k),i=void 0,ee):k===null?n(k):Q(k)?(o=re,ke(k)):(t.consume(k),re)}function he(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ce(k)?L(k):(t.consume(k),he)}function ee(k){return k===47||k===62||Ce(k)?L(k):n(k)}function we(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function ke(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),$}function $(k){return ce(k)?pe(t,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):K(k)}function K(k){return t.enter("htmlTextData"),o(k)}}const Hg={name:"labelEnd",resolveAll:fI,resolveTo:hI,tokenize:pI},uI={tokenize:mI},cI={tokenize:gI},dI={tokenize:yI};function fI(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&cn(t,0,t.length,n),t}function hI(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},c={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",a,e],["enter",u,e]],l=Sn(l,t.slice(s+1,s+r+3)),l=Sn(l,[["enter",c,e]]),l=Sn(l,Bd(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=Sn(l,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),l=Sn(l,t.slice(o+1)),l=Sn(l,[["exit",a,e]]),cn(t,s,t.length,l),t}function pI(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(Wn(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),a):n(f)}function a(f){return f===40?t.attempt(uI,c,o?c:d)(f):f===91?t.attempt(cI,c,o?u:d)(f):o?c(f):d(f)}function u(f){return t.attempt(dI,c,d)(f)}function c(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function mI(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ce(d)?Il(t,s)(d):s(d)}function s(d){return d===41?c(d):MS(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ce(d)?Il(t,a)(d):c(d)}function l(d){return n(d)}function a(d){return d===34||d===39||d===40?PS(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ce(d)?Il(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function gI(t,e,n){const r=this;return i;function i(l){return jS.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function yI(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const xI={name:"labelStartImage",resolveAll:Hg.resolveAll,tokenize:vI};function vI(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const wI={name:"labelStartLink",resolveAll:Hg.resolveAll,tokenize:kI};function kI(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Hf={name:"lineEnding",tokenize:bI};function bI(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),pe(t,e,"linePrefix")}}const Fu={name:"thematicBreak",tokenize:SI};function SI(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||Q(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),ce(u)?pe(t,l,"whitespace")(u):l(u))}}const Kt={continuation:{tokenize:NI},exit:AI,name:"list",tokenize:TI},EI={partial:!0,tokenize:OI},CI={partial:!0,tokenize:_I};function TI(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Bp(h)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Fu,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(h)}return n(h)}function a(h){return Bp(h)&&++o<10?(t.consume(h),a):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Pa,r.interrupt?n:c,t.attempt(EI,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return ce(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function NI(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Pa,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pe(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!ce(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(CI,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,pe(t,t.attempt(Kt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function _I(t,e,n){const r=this;return pe(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function AI(t){t.exit(this.containerState.type)}function OI(t,e,n){const r=this;return pe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ce(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Wx={name:"setextUnderline",resolveTo:MI,tokenize:jI};function MI(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function jI(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),ce(u)?pe(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||Q(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const PI={tokenize:II};function II(t){const e=this,n=t.attempt(Pa,r,t.attempt(this.parser.constructs.flowInitial,i,pe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(FP,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const RI={resolveAll:RS()},LI=IS("string"),DI=IS("text");function IS(t){return{resolveAll:RS(t==="text"?zI:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(c){return u(c)?s(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function RS(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function zI(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(l){const u={type:n===t.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const FI={42:Kt,43:Kt,45:Kt,48:Kt,49:Kt,50:Kt,51:Kt,52:Kt,53:Kt,54:Kt,55:Kt,56:Kt,57:Kt,62:NS},$I={91:VP},BI={[-2]:Uf,[-1]:Uf,32:Uf},UI={35:QP,42:Fu,45:[Wx,Fu],60:eI,61:Wx,95:Fu,96:Hx,126:Hx},HI={38:AS,92:_S},VI={[-5]:Hf,[-4]:Hf,[-3]:Hf,33:xI,38:AS,42:Up,60:[wP,lI],91:wI,92:[JP,_S],93:Hg,95:Up,96:PP},WI={null:[Up,RI]},qI={null:[42,95]},KI={null:[]},JI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qI,contentInitial:$I,disable:KI,document:FI,flow:UI,flowInitial:BI,insideSpan:WI,string:HI,text:VI},Symbol.toStringTag,{value:"Module"}));function GI(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const a={attempt:O(C),check:O(S),consume:x,enter:w,exit:E,interrupt:O(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=e.tokenize.call(u,a);return e.resolveAll&&s.push(e),u;function d(D){return o=Sn(o,D),v(),o[o.length-1]!==null?[]:(M(e,0),u.events=Bd(s,u.events,u),u.events)}function f(D,U){return YI(h(D),U)}function h(D){return QI(o,D)}function m(){const{_bufferIndex:D,_index:U,line:re,column:he,offset:ee}=r;return{_bufferIndex:D,_index:U,line:re,column:he,offset:ee}}function g(D){i[D.line]=D.column,_()}function v(){let D;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<U.length;)y(U.charCodeAt(r._bufferIndex));else y(U)}}function y(D){c=c(D)}function x(D){Q(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,_()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function w(D,U){const re=U||{};return re.type=D,re.start=m(),u.events.push(["enter",re,u]),l.push(re),re}function E(D){const U=l.pop();return U.end=m(),u.events.push(["exit",U,u]),U}function C(D,U){M(D,U.from)}function S(D,U){U.restore()}function O(D,U){return re;function re(he,ee,we){let ke,$,K,k;return Array.isArray(he)?ye(he):"tokenize"in he?ye([he]):G(he);function G(xe){return Ut;function Ut(In){const Jn=In!==null&&xe[In],pr=In!==null&&xe.null,Ri=[...Array.isArray(Jn)?Jn:Jn?[Jn]:[],...Array.isArray(pr)?pr:pr?[pr]:[]];return ye(Ri)(In)}}function ye(xe){return ke=xe,$=0,xe.length===0?we:b(xe[$])}function b(xe){return Ut;function Ut(In){return k=L(),K=xe,xe.partial||(u.currentConstruct=xe),xe.name&&u.parser.constructs.disable.null.includes(xe.name)?me():xe.tokenize.call(U?Object.assign(Object.create(u),U):u,a,Fe,me)(In)}}function Fe(xe){return D(K,k),ee}function me(xe){return k.restore(),++$<ke.length?b(ke[$]):we}}}function M(D,U){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&cn(u.events,U,u.events.length-U,D.resolve(u.events.slice(U),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function L(){const D=m(),U=u.previous,re=u.currentConstruct,he=u.events.length,ee=Array.from(l);return{from:he,restore:we};function we(){r=D,u.previous=U,u.currentConstruct=re,u.events.length=he,l=ee,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function QI(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function YI(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function XI(t){const r={constructs:CS([JI,...(t||{}).extensions||[]]),content:i(hP),defined:[],document:i(mP),flow:i(PI),lazy:{},string:i(LI),text:i(DI)};return r;function i(s){return o;function o(l){return GI(r,s,l)}}}function ZI(t){for(;!OS(t););return t}const qx=/[\0\t\n\r]/g;function eR(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const a=[];let u,c,d,f,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(qx.lastIndex=d,u=qx.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){e=s.slice(d);break}if(h===10&&d===f&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<f&&(a.push(s.slice(d,f)),t+=f-d),h){case 0:{a.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,a.push(-2);t++<c;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const tR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nR(t){return t.replace(tR,rR)}function rR(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return TS(n.slice(s?2:1),s?16:10)}return Ug(n)||t}const LS={}.hasOwnProperty;function iR(t,e,n){return typeof e!="string"&&(n=e,e=void 0),sR(n)(ZI(XI(n).document().write(eR()(t,e,!0))))}function sR(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Li),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(_s),blockQuote:s(pr),characterEscape:L,characterReference:L,codeFenced:s(Ri),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ri,o),codeText:s(Fr,o),codeTextData:L,data:L,codeFlowValue:L,definition:s(Ho),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(mr),hardBreakEscape:s(As),hardBreakTrailing:s(As),htmlFlow:s(gr,o),htmlFlowData:L,htmlText:s(gr,o),htmlTextData:L,image:s(Os),label:o,link:s(Li),listItem:s(za),listItemValue:f,listOrdered:s(Vo,d),listUnordered:s(Vo),paragraph:s(of),reference:b,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(_s),strong:s(Wo),thematicBreak:s($r)},exit:{atxHeading:a(),atxHeadingSequence:C,autolink:a(),autolinkEmail:Jn,autolinkProtocol:In,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:xe,characterReference:Ut,codeFenced:a(v),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:_,codeIndented:a(y),codeText:a(ee),codeTextData:_,data:_,definition:a(),definitionDestinationString:E,definitionLabelString:x,definitionTitleString:w,emphasis:a(),hardBreakEscape:a(U),hardBreakTrailing:a(U),htmlFlow:a(re),htmlFlowData:_,htmlText:a(he),htmlTextData:_,image:a(ke),label:K,labelText:$,lineEnding:D,link:a(we),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Fe,resourceDestinationString:k,resourceTitleString:G,resource:ye,setextHeading:a(M),setextHeadingLineSequence:O,setextHeadingText:S,strong:a(),thematicBreak:a()}};DS(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(A){let F={type:"root",children:[]};const X={stack:[F],tokenStack:[],config:e,enter:l,exit:u,buffer:o,resume:c,data:n},le=[];let ve=-1;for(;++ve<A.length;)if(A[ve][1].type==="listOrdered"||A[ve][1].type==="listUnordered")if(A[ve][0]==="enter")le.push(ve);else{const Ht=le.pop();ve=i(A,Ht,ve)}for(ve=-1;++ve<A.length;){const Ht=e[A[ve][0]];LS.call(Ht,A[ve][1].type)&&Ht[A[ve][1].type].call(Object.assign({sliceSerialize:A[ve][2].sliceSerialize},X),A[ve][1])}if(X.tokenStack.length>0){const Ht=X.tokenStack[X.tokenStack.length-1];(Ht[1]||Kx).call(X,void 0,Ht[0])}for(F.position={start:Ur(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:Ur(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},ve=-1;++ve<e.transforms.length;)F=e.transforms[ve](F)||F;return F}function i(A,F,X){let le=F-1,ve=-1,Ht=!1,gn,Vt,At,yn;for(;++le<=X;){const lt=A[le];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?ve++:ve--,yn=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(gn&&!yn&&!ve&&!At&&(At=le),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!ve&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||ve===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(gn){let Gn=le;for(Vt=void 0;Gn--;){const Rn=A[Gn];if(Rn[1].type==="lineEnding"||Rn[1].type==="lineEndingBlank"){if(Rn[0]==="exit")continue;Vt&&(A[Vt][1].type="lineEndingBlank",Ht=!0),Rn[1].type="lineEnding",Vt=Gn}else if(!(Rn[1].type==="linePrefix"||Rn[1].type==="blockQuotePrefix"||Rn[1].type==="blockQuotePrefixWhitespace"||Rn[1].type==="blockQuoteMarker"||Rn[1].type==="listItemIndent"))break}At&&(!Vt||At<Vt)&&(gn._spread=!0),gn.end=Object.assign({},Vt?A[Vt][1].start:lt[1].end),A.splice(Vt||le,0,["exit",gn,lt[2]]),le++,X++}if(lt[1].type==="listItemPrefix"){const Gn={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};gn=Gn,A.splice(le,0,["enter",Gn,lt[2]]),le++,X++,At=void 0,yn=!0}}}return A[F][1]._spread=Ht,X}function s(A,F){return X;function X(le){l.call(this,A(le),le),F&&F.call(this,le)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(A,F,X){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([F,X||void 0]),A.position={start:Ur(F.start),end:void 0}}function a(A){return F;function F(X){A&&A.call(this,X),u.call(this,X)}}function u(A,F){const X=this.stack.pop(),le=this.tokenStack.pop();if(le)le[0].type!==A.type&&(F?F.call(this,A,le[0]):(le[1]||Kx).call(this,A,le[0]));else throw new Error("Cannot close `"+A.type+"` ("+Pl({start:A.start,end:A.end})+"): its not open");X.position.end=Ur(A.end)}function c(){return Bg(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(A){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function h(){const A=this.resume(),F=this.stack[this.stack.length-1];F.lang=A}function m(){const A=this.resume(),F=this.stack[this.stack.length-1];F.meta=A}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/(\r?\n|\r)$/g,"")}function x(A){const F=this.resume(),X=this.stack[this.stack.length-1];X.label=F,X.identifier=Wn(this.sliceSerialize(A)).toLowerCase()}function w(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function E(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function C(A){const F=this.stack[this.stack.length-1];if(!F.depth){const X=this.sliceSerialize(A).length;F.depth=X}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function O(A){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function L(A){const X=this.stack[this.stack.length-1].children;let le=X[X.length-1];(!le||le.type!=="text")&&(le=Di(),le.position={start:Ur(A.start),end:void 0},X.push(le)),this.stack.push(le)}function _(A){const F=this.stack.pop();F.value+=this.sliceSerialize(A),F.position.end=Ur(A.end)}function D(A){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=F.children[F.children.length-1];X.position.end=Ur(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(F.type)&&(L.call(this,A),_.call(this,A))}function U(){this.data.atHardBreak=!0}function re(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function he(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function ee(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function we(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function ke(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function $(A){const F=this.sliceSerialize(A),X=this.stack[this.stack.length-2];X.label=nR(F),X.identifier=Wn(F).toLowerCase()}function K(){const A=this.stack[this.stack.length-1],F=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const le=A.children;X.children=le}else X.alt=F}function k(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function G(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function ye(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function Fe(A){const F=this.resume(),X=this.stack[this.stack.length-1];X.label=F,X.identifier=Wn(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function me(A){this.data.characterReferenceType=A.type}function xe(A){const F=this.sliceSerialize(A),X=this.data.characterReferenceType;let le;X?(le=TS(F,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):le=Ug(F);const ve=this.stack[this.stack.length-1];ve.value+=le}function Ut(A){const F=this.stack.pop();F.position.end=Ur(A.end)}function In(A){_.call(this,A);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(A)}function Jn(A){_.call(this,A);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(A)}function pr(){return{type:"blockquote",children:[]}}function Ri(){return{type:"code",lang:null,meta:null,value:""}}function Fr(){return{type:"inlineCode",value:""}}function Ho(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mr(){return{type:"emphasis",children:[]}}function _s(){return{type:"heading",depth:0,children:[]}}function As(){return{type:"break"}}function gr(){return{type:"html",value:""}}function Os(){return{type:"image",title:null,url:"",alt:null}}function Li(){return{type:"link",title:null,url:"",children:[]}}function Vo(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function za(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function of(){return{type:"paragraph",children:[]}}function Wo(){return{type:"strong",children:[]}}function Di(){return{type:"text",value:""}}function $r(){return{type:"thematicBreak"}}}function Ur(t){return{line:t.line,column:t.column,offset:t.offset}}function DS(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?DS(t,r):oR(t,r)}}function oR(t,e){let n;for(n in e)if(LS.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Kx(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Pl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Pl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Pl({start:e.start,end:e.end})+") is still open")}function lR(t){const e=this;e.parser=n;function n(r){return iR(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function aR(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function uR(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function cR(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function dR(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fR(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hR(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Bo(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function pR(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mR(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function zS(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function gR(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return zS(t,e);const i={src:Bo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function yR(t,e){const n={src:Bo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function xR(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function vR(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return zS(t,e);const i={href:Bo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function wR(t,e){const n={href:Bo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kR(t,e,n){const r=t.all(e),i=n?bR(n):FS(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function bR(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=FS(n[r])}return e}function FS(t){const e=t.spread;return e??t.children.length>1}function SR(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function ER(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CR(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function TR(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NR(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Dg(e.children[1]),a=xS(e.children[e.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function _R(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let a=-1;const u=[];for(;++a<l;){const d=e.children[a],f={},h=o?o[a]:void 0;h&&(f.align=h);let m={type:"element",tagName:s,properties:f,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function AR(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Jx=9,Gx=32;function OR(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Qx(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Qx(e.slice(i),i>0,!1)),s.join("")}function Qx(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Jx||s===Gx;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Jx||s===Gx;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function MR(t,e){const n={type:"text",value:OR(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function jR(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const PR={blockquote:aR,break:uR,code:cR,delete:dR,emphasis:fR,footnoteReference:hR,heading:pR,html:mR,imageReference:gR,image:yR,inlineCode:xR,linkReference:vR,link:wR,listItem:kR,list:SR,paragraph:ER,root:CR,strong:TR,table:NR,tableCell:AR,tableRow:_R,text:MR,thematicBreak:jR,toml:uu,yaml:uu,definition:uu,footnoteDefinition:uu};function uu(){}const $S=-1,Ud=0,kc=1,bc=2,Vg=3,Wg=4,qg=5,Kg=6,BS=7,US=8,Yx=typeof self=="object"?self:globalThis,IR=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Ud:case $S:return n(o,i);case kc:{const l=n([],i);for(const a of o)l.push(r(a));return l}case bc:{const l=n({},i);for(const[a,u]of o)l[r(a)]=r(u);return l}case Vg:return n(new Date(o),i);case Wg:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case qg:{const l=n(new Map,i);for(const[a,u]of o)l.set(r(a),r(u));return l}case Kg:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case BS:{const{name:l,message:a}=o;return n(new Yx[l](a),i)}case US:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Yx[s](o),i)};return r},Xx=t=>IR(new Map,t)(0),Ls="",{toString:RR}={},{keys:LR}=Object,sl=t=>{const e=typeof t;if(e!=="object"||!t)return[Ud,e];const n=RR.call(t).slice(8,-1);switch(n){case"Array":return[kc,Ls];case"Object":return[bc,Ls];case"Date":return[Vg,Ls];case"RegExp":return[Wg,Ls];case"Map":return[qg,Ls];case"Set":return[Kg,Ls]}return n.includes("Array")?[kc,n]:n.includes("Error")?[BS,n]:[bc,n]},cu=([t,e])=>t===Ud&&(e==="function"||e==="symbol"),DR=(t,e,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=sl(o);switch(l){case Ud:{let c=o;switch(a){case"bigint":l=US,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([$S],o)}return i([l,c],o)}case kc:{if(a)return i([a,[...o]],o);const c=[],d=i([l,c],o);for(const f of o)c.push(s(f));return d}case bc:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([l,c],o);for(const f of LR(o))(t||!cu(sl(o[f])))&&c.push([s(f),s(o[f])]);return d}case Vg:return i([l,o.toISOString()],o);case Wg:{const{source:c,flags:d}=o;return i([l,{source:c,flags:d}],o)}case qg:{const c=[],d=i([l,c],o);for(const[f,h]of o)(t||!(cu(sl(f))||cu(sl(h))))&&c.push([s(f),s(h)]);return d}case Kg:{const c=[],d=i([l,c],o);for(const f of o)(t||!cu(sl(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([l,{name:a,message:u}],o)};return s},Zx=(t,{json:e,lossy:n}={})=>{const r=[];return DR(!(e||n),!!e,new Map,r)(t),r},Sc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Xx(Zx(t,e)):structuredClone(t):(t,e)=>Xx(Zx(t,e));function zR(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function FR(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function $R(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||zR,r=t.options.footnoteBackLabel||FR,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),f=Bo(d.toLowerCase());let h=0;const m=[],g=t.footnoteCounts.get(d);for(;g!==void 0&&++h<=g;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,h);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=c[c.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Sc(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const Hd=function(t){if(t==null)return VR;if(typeof t=="function")return Vd(t);if(typeof t=="object")return Array.isArray(t)?BR(t):UR(t);if(typeof t=="string")return HR(t);throw new Error("Expected function, string, or object as test")};function BR(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Hd(t[n]);return Vd(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function UR(t){const e=t;return Vd(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function HR(t){return Vd(e);function e(n){return n&&n.type===t}}function Vd(t){return e;function e(n,r,i){return!!(WR(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function VR(){return!0}function WR(t){return t!==null&&typeof t=="object"&&"type"in t}const HS=[],qR=!0,Hp=!1,KR="skip";function VS(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Hd(i),o=r?-1:1;l(t,void 0,[])();function l(a,u,c){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=HS,m,g,v;if((!e||s(a,u,c[c.length-1]||void 0))&&(h=JR(n(a,c)),h[0]===Hp))return h;if("children"in a&&a.children){const y=a;if(y.children&&h[0]!==KR)for(g=(r?y.children.length:-1)+o,v=c.concat(y);g>-1&&g<y.children.length;){const x=y.children[g];if(m=l(x,g,v)(),m[0]===Hp)return m;g=typeof m[1]=="number"?m[1]:g+o}}return h}}}function JR(t){return Array.isArray(t)?t:typeof t=="number"?[qR,t]:t==null?HS:[t]}function Jg(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),VS(t,s,l,i);function l(a,u){const c=u[u.length-1],d=c?c.children.indexOf(a):void 0;return o(a,d,c)}}const Vp={}.hasOwnProperty,GR={};function QR(t,e){const n=e||GR,r=new Map,i=new Map,s=new Map,o={...PR,...n.handlers},l={all:u,applyData:XR,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:YR,wrap:eL};return Jg(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),l;function a(c,d){const f=c.type,h=l.handlers[f];if(Vp.call(l.handlers,f)&&h)return h(l,c,d);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in c){const{children:g,...v}=c,y=Sc(v);return y.children=l.all(c),y}return Sc(c)}return(l.options.unknownHandler||ZR)(l,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const m=l.one(f[h],c);if(m){if(h&&f[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=e1(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=e1(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function YR(t,e){t.position&&(e.position=Dj(t))}function XR(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Sc(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function ZR(t,e){const n=e.data||{},r="value"in e&&!(Vp.call(n,"hProperties")||Vp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function eL(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function e1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function t1(t,e){const n=QR(t,e),r=n.one(t,void 0),i=$R(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function tL(t,e){return t&&"run"in t?async function(n,r){const i=t1(n,{file:r,...e});await t.run(i,r)}:function(n,r){return t1(n,{file:r,...t||e})}}function n1(t){if(t)throw t}var $u=Object.prototype.hasOwnProperty,WS=Object.prototype.toString,r1=Object.defineProperty,i1=Object.getOwnPropertyDescriptor,s1=function(e){return typeof Array.isArray=="function"?Array.isArray(e):WS.call(e)==="[object Array]"},o1=function(e){if(!e||WS.call(e)!=="[object Object]")return!1;var n=$u.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&$u.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||$u.call(e,i)},l1=function(e,n){r1&&n.name==="__proto__"?r1(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},a1=function(e,n){if(n==="__proto__")if($u.call(e,n)){if(i1)return i1(e,n).value}else return;return e[n]},nL=function t(){var e,n,r,i,s,o,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=a1(l,n),i=a1(e,n),l!==i&&(c&&i&&(o1(i)||(s=s1(i)))?(s?(s=!1,o=r&&s1(r)?r:[]):o=r&&o1(r)?r:{},l1(l,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&l1(l,{name:n,newValue:i}));return l};const Vf=Em(nL);function Wp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function rL(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...u){const c=t[++s];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?iL(c,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function iL(t,e){let n;return r;function r(...o){const l=t.length>o.length;let a;l&&o.push(i);try{a=t.apply(this,o)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,e(o,...l))}function s(o){i(null,o)}}const nr={basename:sL,dirname:oL,extname:lL,join:aL,sep:"/"};function sL(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ia(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function oL(t){if(Ia(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function lL(t){Ia(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function aL(...t){let e=-1,n;for(;++e<t.length;)Ia(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":uL(n)}function uL(t){Ia(t);const e=t.codePointAt(0)===47;let n=cL(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function cL(t,e){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function Ia(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const dL={cwd:fL};function fL(){return"/"}function qp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function hL(t){if(typeof t=="string")t=new URL(t);else if(!qp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return pL(t)}function pL(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Wf=["history","path","basename","stem","extname","dirname"];class qS{constructor(e){let n;e?qp(e)?n={path:e}:typeof e=="string"||mL(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":dL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wf.length;){const s=Wf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Wf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?nr.basename(this.path):void 0}set basename(e){Kf(e,"basename"),qf(e,"basename"),this.path=nr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?nr.dirname(this.path):void 0}set dirname(e){u1(this.basename,"dirname"),this.path=nr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?nr.extname(this.path):void 0}set extname(e){if(qf(e,"extname"),u1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qp(e)&&(e=hL(e)),Kf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?nr.basename(this.path,this.extname):void 0}set stem(e){Kf(e,"stem"),qf(e,"stem"),this.path=nr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Nt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function qf(t,e){if(t&&t.includes(nr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+nr.sep+"`")}function Kf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function u1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function mL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const gL=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},yL={}.hasOwnProperty;class Gg extends gL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rL()}copy(){const e=new Gg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Vf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Qf("data",this.frozen),this.namespace[e]=n,this):yL.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Qf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=du(e),r=this.parser||this.Parser;return Jf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Jf("process",this.parser||this.Parser),Gf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=du(e),a=r.parse(l);r.run(a,l,function(c,d,f){if(c||!d||!f)return u(c);const h=d,m=r.stringify(h,f);wL(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Jf("processSync",this.parser||this.Parser),Gf("processSync",this.compiler||this.Compiler),this.process(e,i),d1("processSync","process",n),r;function i(s,o){n=!0,n1(s),r=o}}run(e,n,r){c1(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=du(n);i.run(e,a,u);function u(c,d,f){const h=d||e;c?l(c):o?o(h):r(void 0,h,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),d1("runSync","run",r),i;function s(o,l){n1(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=du(n),i=this.compiler||this.Compiler;return Gf("stringify",i),c1(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Qf("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;a(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=Vf(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...m]=c;const g=r[f][1];Wp(g)&&Wp(h)&&(h=Vf(!0,g,h)),r[f]=[u,h,...m]}}}}const xL=new Gg().freeze();function Jf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Gf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Qf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c1(t){if(!Wp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function d1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function du(t){return vL(t)?t:new qS(t)}function vL(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function wL(t){return typeof t=="string"||kL(t)}function kL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const bL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f1=[],h1={allowDangerousHtml:!0},SL=/^(https?|ircs?|mailto|xmpp)$/i,EL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CL(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,l=t.rehypePlugins||f1,a=t.remarkPlugins||f1,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...h1}:h1,c=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||TL,h=xL().use(lR).use(a).use(tL,u).use(l),m=new qS;typeof r=="string"&&(m.value=r);for(const x of EL)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+bL+x.id,void 0);const g=h.parse(m);let v=h.runSync(g,m);return i&&(v={type:"element",tagName:"div",properties:{className:i},children:v.type==="root"?v.children:[v]}),Jg(v,y),Hj(v,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function y(x,w,E){if(x.type==="raw"&&E&&typeof w=="number")return c?E.children.splice(w,1):E.children[w]={type:"text",value:x.value},w;if(x.type==="element"){let C;for(C in Bf)if(Object.hasOwn(Bf,C)&&Object.hasOwn(x.properties,C)){const S=x.properties[C],O=Bf[C];(O===null||O.includes(x.tagName))&&(x.properties[C]=f(String(S||""),C,x))}}if(x.type==="element"){let C=e?!e.includes(x.tagName):o?o.includes(x.tagName):!1;if(!C&&n&&typeof w=="number"&&(C=!n(x,w,E)),C&&E&&typeof w=="number")return d&&x.children?E.children.splice(w,1,...x.children):E.children.splice(w,1),w}}}function TL(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||SL.test(t.slice(0,e))?t:""}function p1(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function NL(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _L(t,e,n){const i=Hd(n.ignore||[]),s=AL(e);let o=-1;for(;++o<s.length;)VS(t,"text",l);function l(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return a(u,c)}function a(u,c){const d=c[c.length-1],f=s[o][0],h=s[o][1];let m=0;const v=d.children.indexOf(u);let y=!1,x=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const E=w.index,C={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(m!==E&&x.push({type:"text",value:u.value.slice(m,E)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=E+w[0].length,y=!0),!f.global)break;w=f.exec(u.value)}return y?(m<u.value.length&&x.push({type:"text",value:u.value.slice(m)}),d.children.splice(v,1,...x)):x=[u],v+x.length}}function AL(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([OL(i[0]),ML(i[1])])}return e}function OL(t){return typeof t=="string"?new RegExp(NL(t),"g"):t}function ML(t){return typeof t=="function"?t:function(){return t}}const Yf="phrasing",Xf=["autolink","link","image","label"];function jL(){return{transforms:[FL],enter:{literalAutolink:IL,literalAutolinkEmail:Zf,literalAutolinkHttp:Zf,literalAutolinkWww:Zf},exit:{literalAutolink:zL,literalAutolinkEmail:DL,literalAutolinkHttp:RL,literalAutolinkWww:LL}}}function PL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Xf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Xf},{character:":",before:"[ps]",after:"\\/",inConstruct:Yf,notInConstruct:Xf}]}}function IL(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Zf(t){this.config.enter.autolinkProtocol.call(this,t)}function RL(t){this.config.exit.autolinkProtocol.call(this,t)}function LL(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function DL(t){this.config.exit.autolinkEmail.call(this,t)}function zL(t){this.exit(t)}function FL(t){_L(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$L],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),BL]],{ignore:["link","linkReference"]})}function $L(t,e,n,r,i){let s="";if(!KS(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!UL(n)))return!1;const o=HL(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function BL(t,e,n,r){return!KS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function UL(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function HL(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=p1(t,"(");let s=p1(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function KS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||gs(n)||$d(n))&&(!e||n!==47)}JS.peek=eD;function VL(){return{enter:{gfmFootnoteDefinition:qL,gfmFootnoteDefinitionLabelString:KL,gfmFootnoteCall:QL,gfmFootnoteCallString:YL},exit:{gfmFootnoteDefinition:GL,gfmFootnoteDefinitionLabelString:JL,gfmFootnoteCall:ZL,gfmFootnoteCallString:XL}}}function WL(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:tD,footnoteReference:JS}}}function qL(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function KL(){this.buffer()}function JL(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Wn(this.sliceSerialize(t)).toLowerCase()}function GL(t){this.exit(t)}function QL(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function YL(){this.buffer()}function XL(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Wn(this.sliceSerialize(t)).toLowerCase()}function ZL(t){this.exit(t)}function JS(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),l(),o(),s+=i.move("]"),s}function eD(){return"["}function tD(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),l=n.enter("label");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),l(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(t,i.current()),nD)),o(),s}function nD(t,e,n){return e===0?t:(n?"":"    ")+t}const rD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];GS.peek=aD;function iD(){return{canContainEols:["delete"],enter:{strikethrough:oD},exit:{strikethrough:lD}}}function sD(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rD}],handlers:{delete:GS}}}function oD(t){this.enter({type:"delete",children:[]},t)}function lD(t){this.exit(t)}function GS(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function aD(){return"~"}function uD(t){return t.length}function cD(t,e){const n=e,r=(n.align||[]).concat(),i=n.stringLength||uD,s=[],o=[],l=[],a=[];let u=0,c=-1;for(;++c<t.length;){const g=[],v=[];let y=-1;for(t[c].length>u&&(u=t[c].length);++y<t[c].length;){const x=dD(t[c][y]);if(n.alignDelimiters!==!1){const w=i(x);v[y]=w,(a[y]===void 0||w>a[y])&&(a[y]=w)}g.push(x)}o[c]=g,l[c]=v}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=m1(r[d]);else{const g=m1(r);for(;++d<u;)s[d]=g}d=-1;const f=[],h=[];for(;++d<u;){const g=s[d];let v="",y="";g===99?(v=":",y=":"):g===108?v=":":g===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[d]-v.length-y.length);const w=v+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=v.length+x+y.length,x>a[d]&&(a[d]=x),h[d]=x),f[d]=w}o.splice(1,0,f),l.splice(1,0,h),c=-1;const m=[];for(;++c<o.length;){const g=o[c],v=l[c];d=-1;const y=[];for(;++d<u;){const x=g[d]||"";let w="",E="";if(n.alignDelimiters!==!1){const C=a[d]-(v[d]||0),S=s[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),E=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),E=w):E=" ".repeat(C)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(E),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function dD(t){return t==null?"":String(t)}function m1(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function fD(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),hD);return i(),o}function hD(t,e,n){return">"+(n?"":" ")+t}function pD(t,e){return g1(t,e.inConstruct,!0)&&!g1(t,e.notInConstruct,!1)}function g1(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function y1(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&pD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mD(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function gD(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function yD(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function xD(t,e,n,r){const i=yD(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(gD(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,vD);return d(),f}const l=n.createTracker(r),a=i.repeat(Math.max(mD(s,i)+1,3)),u=n.enter("codeFenced");let c=l.move(a);if(t.lang){const d=n.enter(`codeFencedLang${o}`);c+=l.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...l.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);c+=l.move(" "),c+=l.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...l.current()})),d()}return c+=l.move(`
`),s&&(c+=l.move(s+`
`)),c+=l.move(a),u(),c}function vD(t,e,n){return(n?"":"    ")+t}function Qg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function wD(t,e,n,r){const i=Qg(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),o(),u}function kD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function fa(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ec(t,e,n){const r=Co(t),i=Co(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}QS.peek=bD;function QS(t,e,n,r){const i=kD(n),s=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let a=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=Ec(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=fa(u)+a.slice(1));const d=a.charCodeAt(a.length-1),f=Ec(r.after.charCodeAt(0),d,i);f.inside&&(a=a.slice(0,-1)+fa(d));const h=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},l+a+h}function bD(t,e,n){return n.options.emphasis||"*"}function SD(t,e){let n=!1;return Jg(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Hp}),!!((!t.depth||t.depth<3)&&Bg(t)&&(e.options.setext||n))}function ED(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(SD(t,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),a=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=fa(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),l(),u}YS.peek=CD;function YS(t){return t.value||""}function CD(){return"<"}XS.peek=TD;function XS(t,e,n,r){const i=Qg(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function TD(){return"!"}ZS.peek=ND;function ZS(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const u=n.safe(t.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?a+=l.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function ND(){return"!"}eE.peek=_D;function eE(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=n.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function _D(){return"`"}function tE(t,e){const n=Bg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}nE.peek=AD;function nE(t,e,n,r){const i=Qg(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,a;if(tE(t,n)){const c=n.stack;n.stack=[],l=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),l(),n.stack=c,d}l=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),l(),u}function AD(t,e,n){return tE(t,n)?"<":"["}rE.peek=OD;function rE(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?a+=l.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function OD(){return"["}function Yg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function MD(t){const e=Yg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function jD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function iE(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function PD(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?jD(n):Yg(n);const l=t.ordered?o==="."?")":".":MD(n);let a=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),iE(n)===o&&c){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function ID(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function RD(t,e,n,r){const i=ID(n);let s=n.bulletCurrent||Yg(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),c);return a(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function LD(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const DD=Hd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function zD(t,e,n,r){return(t.children.some(function(o){return DD(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function FD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}sE.peek=$D;function sE(t,e,n,r){const i=FD(n),s=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let a=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=Ec(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=fa(u)+a.slice(1));const d=a.charCodeAt(a.length-1),f=Ec(r.after.charCodeAt(0),d,i);f.inside&&(a=a.slice(0,-1)+fa(d));const h=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},l+a+h}function $D(t,e,n){return n.options.strong||"*"}function BD(t,e,n,r){return n.safe(t.value,r)}function UD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function HD(t,e,n){const r=(iE(n)+(n.options.ruleSpaces?" ":"")).repeat(UD(n));return n.options.ruleSpaces?r.slice(0,-1):r}const oE={blockquote:fD,break:y1,code:xD,definition:wD,emphasis:QS,hardBreak:y1,heading:ED,html:YS,image:XS,imageReference:ZS,inlineCode:eE,link:nE,linkReference:rE,list:PD,listItem:RD,paragraph:LD,root:zD,strong:sE,text:BD,thematicBreak:HD};function VD(){return{enter:{table:WD,tableData:x1,tableHeader:x1,tableRow:KD},exit:{codeText:JD,table:qD,tableData:eh,tableHeader:eh,tableRow:eh}}}function WD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function qD(t){this.exit(t),this.data.inTable=void 0}function KD(t){this.enter({type:"tableRow",children:[]},t)}function eh(t){this.exit(t)}function x1(t){this.enter({type:"tableCell",children:[]},t)}function JD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,GD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function GD(t,e){return e==="|"?e:t}function QD(t){const e=t,n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:a,tableRow:l}};function o(h,m,g,v){return u(c(h,g,v),h.align)}function l(h,m,g,v){const y=d(h,g,v),x=u([y]);return x.slice(0,x.indexOf(`
`))}function a(h,m,g,v){const y=g.enter("tableCell"),x=g.enter("phrasing"),w=g.containerPhrasing(h,{...v,before:s,after:s});return x(),y(),w}function u(h,m){return cD(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(h,m,g){const v=h.children;let y=-1;const x=[],w=m.enter("table");for(;++y<v.length;)x[y]=d(v[y],m,g);return w(),x}function d(h,m,g){const v=h.children;let y=-1;const x=[],w=m.enter("tableRow");for(;++y<v.length;)x[y]=a(v[y],h,m,g);return w(),x}function f(h,m,g){let v=oE.inlineCode(h,m,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function YD(){return{exit:{taskListCheckValueChecked:v1,taskListCheckValueUnchecked:v1,paragraph:ZD}}}function XD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:e4}}}function v1(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function ZD(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function e4(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(o);let a=oE.listItem(t,e,n,{...r,...l.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(c){return c+o}}function t4(){return[jL(),VL(),iD(),VD(),YD()]}function n4(t){return{extensions:[PL(),WL(),sD(),QD(t),XD()]}}const r4={tokenize:u4,partial:!0},lE={tokenize:c4,partial:!0},aE={tokenize:d4,partial:!0},uE={tokenize:f4,partial:!0},i4={tokenize:h4,partial:!0},cE={name:"wwwAutolink",tokenize:l4,previous:fE},dE={name:"protocolAutolink",tokenize:a4,previous:hE},zr={name:"emailAutolink",tokenize:o4,previous:pE},hr={};function s4(){return{text:hr}}let $i=48;for(;$i<123;)hr[$i]=zr,$i++,$i===58?$i=65:$i===91&&($i=97);hr[43]=zr;hr[45]=zr;hr[46]=zr;hr[95]=zr;hr[72]=[zr,dE];hr[104]=[zr,dE];hr[87]=[zr,cE];hr[119]=[zr,cE];function o4(t,e,n){const r=this;let i,s;return o;function o(d){return!Kp(d)||!pE.call(r,r.previous)||Xg(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(d))}function l(d){return Kp(d)?(t.consume(d),l):d===64?(t.consume(d),a):n(d)}function a(d){return d===46?t.check(i4,c,u)(d):d===45||d===95||St(d)?(s=!0,t.consume(d),a):c(d)}function u(d){return t.consume(d),i=!0,a}function c(d){return s&&i&&Pt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function l4(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!fE.call(r,r.previous)||Xg(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(r4,t.attempt(lE,t.attempt(aE,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function a4(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&hE.call(r,r.previous)&&!Xg(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),l):n(d)}function l(d){if(Pt(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),l;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),a}return n(d)}function a(d){return d===47?(t.consume(d),s?u:(s=!0,a)):n(d)}function u(d){return d===null||wc(d)||Ce(d)||gs(d)||$d(d)?n(d):t.attempt(lE,t.attempt(aE,c),n)(d)}function c(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function u4(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function c4(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(uE,a,l)(u):u===null||Ce(u)||gs(u)||u!==45&&$d(u)?a(u):(s=!0,t.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function a(u){return i||r||!s?n(u):e(u)}}function d4(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(uE,e,s)(o):o===null||Ce(o)||gs(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function f4(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),s):l===93?(t.consume(l),i):l===60||l===null||Ce(l)||gs(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||Ce(l)||gs(l)?e(l):r(l)}function s(l){return Pt(l)?o(l):n(l)}function o(l){return l===59?(t.consume(l),r):Pt(l)?(t.consume(l),o):n(l)}}function h4(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return St(s)?n(s):e(s)}}function fE(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ce(t)}function hE(t){return!Pt(t)}function pE(t){return!(t===47||Kp(t))}function Kp(t){return t===43||t===45||t===46||t===95||St(t)}function Xg(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const p4={tokenize:b4,partial:!0};function m4(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:v4,continuation:{tokenize:w4},exit:k4}},text:{91:{name:"gfmFootnoteCall",tokenize:x4},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:g4,resolveTo:y4}}}}function g4(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!o||!o._balanced)return n(a);const u=Wn(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(a):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(a),t.exit("gfmFootnoteCallLabelMarker"),e(a))}}function y4(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function x4(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return l;function l(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Ce(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Wn(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Ce(d)||(o=!0),s++,t.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function v4(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,l;return a;function a(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(m)}function c(m){if(o>999||m===93&&!l||m===null||m===91||Ce(m))return n(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=Wn(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ce(m)||(l=!0),o++,t.consume(m),m===92?d:c}function d(m){return m===91||m===92||m===93?(t.consume(m),o++,c):c(m)}function f(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(s)||i.push(s),pe(t,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return e(m)}}function w4(t,e,n){return t.check(Pa,e,t.attempt(p4,e,n))}function k4(t){t.exit("gfmFootnoteDefinition")}function b4(t,e,n){const r=this;return pe(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function S4(t){let n=t.singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},f=[["enter",c,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",d,l]],h=l.parser.constructs.insideSpan.null;h&&cn(f,f.length,0,Bd(h,o.slice(u+1,a),l)),cn(f,f.length,0,[["exit",d,l],["enter",o[a][1],l],["exit",o[a][1],l],["exit",c,l]]),cn(o,u-1,a-u+3,f),a=u+f.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function s(o,l,a){const u=this.previous,c=this.events;let d=0;return f;function f(m){return u===126&&c[c.length-1][1].type!=="characterEscape"?a(m):(o.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const g=Co(u);if(m===126)return d>1?a(m):(o.consume(m),d++,h);if(d<2&&!n)return a(m);const v=o.exit("strikethroughSequenceTemporary"),y=Co(m);return v._open=!y||y===2&&!!g,v._close=!g||g===2&&!!y,l(m)}}}class E4{constructor(){this.map=[]}add(e,n,r){C4(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function C4(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function T4(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function N4(){return{flow:{null:{name:"table",tokenize:_4,resolveAll:A4}}}}function _4(t,e,n){const r=this;let i=0,s=0,o;return l;function l(_){let D=r.events.length-1;for(;D>-1;){const he=r.events[D][1].type;if(he==="lineEnding"||he==="linePrefix")D--;else break}const U=D>-1?r.events[D][1].type:null,re=U==="tableHead"||U==="tableRow"?S:a;return re===S&&r.parser.lazy[r.now().line]?n(_):re(_)}function a(_){return t.enter("tableHead"),t.enter("tableRow"),u(_)}function u(_){return _===124||(o=!0,s+=1),c(_)}function c(_){return _===null?n(_):Q(_)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):n(_):ce(_)?pe(t,c,"whitespace")(_):(s+=1,o&&(o=!1,i+=1),_===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),o=!0,c):(t.enter("data"),d(_)))}function d(_){return _===null||_===124||Ce(_)?(t.exit("data"),c(_)):(t.consume(_),_===92?f:d)}function f(_){return _===92||_===124?(t.consume(_),d):d(_)}function h(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(t.enter("tableDelimiterRow"),o=!1,ce(_)?pe(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):m(_))}function m(_){return _===45||_===58?v(_):_===124?(o=!0,t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),g):C(_)}function g(_){return ce(_)?pe(t,v,"whitespace")(_):v(_)}function v(_){return _===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),y):_===45?(s+=1,y(_)):_===null||Q(_)?E(_):C(_)}function y(_){return _===45?(t.enter("tableDelimiterFiller"),x(_)):C(_)}function x(_){return _===45?(t.consume(_),x):_===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(_))}function w(_){return ce(_)?pe(t,E,"whitespace")(_):E(_)}function E(_){return _===124?m(_):_===null||Q(_)?!o||i!==s?C(_):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(_)):C(_)}function C(_){return n(_)}function S(_){return t.enter("tableRow"),O(_)}function O(_){return _===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),O):_===null||Q(_)?(t.exit("tableRow"),e(_)):ce(_)?pe(t,O,"whitespace")(_):(t.enter("data"),M(_))}function M(_){return _===null||_===124||Ce(_)?(t.exit("data"),O(_)):(t.consume(_),_===92?L:M)}function L(_){return _===92||_===124?(t.consume(_),M):M(_)}}function A4(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,a=0,u,c,d;const f=new E4;for(;++n<t.length;){const h=t[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(l=!1,a!==0&&(w1(f,e,a,u,c),c=void 0,a=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,c={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,e]])),i=m.type==="tableDelimiterRow"?2:c?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=fu(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=fu(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(l=!0,a=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(a=n,s[1]!==0?(o[0]=o[1],d=fu(f,e,s,i,n,d)):o[1]!==0&&(d=fu(f,e,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&w1(f,e,a,u,c),f.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=T4(e.events,n))}return t}function fu(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},Fs(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const a=Fs(e.events,n[1]);if(s={type:o,start:Object.assign({},a),end:Object.assign({},a)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=Fs(e.events,n[2]),c=Fs(e.events,n[3]),d={type:l,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],h=e.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;t.add(m,g,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},Fs(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function w1(t,e,n,r,i){const s=[],o=Fs(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Fs(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const O4={name:"tasklistCheck",tokenize:j4};function M4(){return{text:{91:O4}}}function j4(t,e,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),s)}function s(a){return Ce(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(a)}function l(a){return Q(a)?e(a):ce(a)?t.check({tokenize:P4},e,n)(a):n(a)}}function P4(t,e,n){return pe(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function I4(t){return CS([s4(),m4(),S4(t),N4(),M4()])}const R4={};function L4(t){const e=this,n=t||R4,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(I4(n)),s.push(t4()),o.push(n4(n))}function k1({src:t,alt:e}){return t?p.jsxs("div",{className:"my-8",children:[p.jsx("img",{src:t,alt:e||"",className:"rounded-lg w-full object-cover max-h-[600px]",loading:"lazy"}),e&&p.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:e})]}):null}function D4({href:t,children:e}){return t?t.match(/\.(jpg|jpeg|png|gif|webp)$/i)?p.jsx("img",{src:t,alt:e,className:"w-full h-auto object-cover max-h-[600px] rounded-lg my-8",loading:"lazy"}):p.jsx("a",{href:t,className:"text-blue-600 hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:e}):p.jsx(p.Fragment,{children:e})}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:mE,setPrototypeOf:b1,isFrozen:z4,getPrototypeOf:F4,getOwnPropertyDescriptor:$4}=Object;let{freeze:Rt,seal:jn,create:gE}=Object,{apply:Jp,construct:Gp}=typeof Reflect<"u"&&Reflect;Rt||(Rt=function(e){return e});jn||(jn=function(e){return e});Jp||(Jp=function(e,n,r){return e.apply(n,r)});Gp||(Gp=function(e,n){return new e(...n)});const hu=fn(Array.prototype.forEach),S1=fn(Array.prototype.pop),ol=fn(Array.prototype.push),Bu=fn(String.prototype.toLowerCase),th=fn(String.prototype.toString),E1=fn(String.prototype.match),ll=fn(String.prototype.replace),B4=fn(String.prototype.indexOf),U4=fn(String.prototype.trim),Dn=fn(Object.prototype.hasOwnProperty),Mt=fn(RegExp.prototype.test),al=H4(TypeError);function fn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jp(t,e,r)}}function H4(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Gp(t,n)}}function ue(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bu;b1&&b1(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(z4(e)||(e[r]=s),i=s)}t[i]=!0}return t}function V4(t){for(let e=0;e<t.length;e++)Dn(t,e)||(t[e]=null);return t}function Wi(t){const e=gE(null);for(const[n,r]of mE(t))Dn(t,n)&&(Array.isArray(r)?e[n]=V4(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Wi(r):e[n]=r);return e}function ul(t,e){for(;t!==null;){const r=$4(t,e);if(r){if(r.get)return fn(r.get);if(typeof r.value=="function")return fn(r.value)}t=F4(t)}function n(){return null}return n}const C1=Rt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nh=Rt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rh=Rt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),W4=Rt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ih=Rt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),q4=Rt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T1=Rt(["#text"]),N1=Rt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sh=Rt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_1=Rt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pu=Rt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K4=jn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J4=jn(/<%[\w\W]*|[\w\W]*%>/gm),G4=jn(/\$\{[\w\W]*}/gm),Q4=jn(/^data-[\-\w.\u00B7-\uFFFF]+$/),Y4=jn(/^aria-[\-\w]+$/),yE=jn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X4=jn(/^(?:\w+script|data):/i),Z4=jn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xE=jn(/^html$/i),ez=jn(/^[a-z][.\w]*(-[.\w]+)+$/i);var A1=Object.freeze({__proto__:null,ARIA_ATTR:Y4,ATTR_WHITESPACE:Z4,CUSTOM_ELEMENT:ez,DATA_ATTR:Q4,DOCTYPE_NAME:xE,ERB_EXPR:J4,IS_ALLOWED_URI:yE,IS_SCRIPT_OR_DATA:X4,MUSTACHE_EXPR:K4,TMPLIT_EXPR:G4});const cl={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},tz=function(){return typeof window>"u"?null:window},nz=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},O1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vE(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tz();const e=J=>vE(J);if(e.version="3.2.3",e.removed=[],!t||!t.document||t.document.nodeType!==cl.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:a,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:h}=t,m=a.prototype,g=ul(m,"cloneNode"),v=ul(m,"remove"),y=ul(m,"nextSibling"),x=ul(m,"childNodes"),w=ul(m,"parentNode");if(typeof o=="function"){const J=n.createElement("template");J.content&&J.content.ownerDocument&&(n=J.content.ownerDocument)}let E,C="";const{implementation:S,createNodeIterator:O,createDocumentFragment:M,getElementsByTagName:L}=n,{importNode:_}=r;let D=O1();e.isSupported=typeof mE=="function"&&typeof w=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:re,TMPLIT_EXPR:he,DATA_ATTR:ee,ARIA_ATTR:we,IS_SCRIPT_OR_DATA:ke,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:K}=A1;let{IS_ALLOWED_URI:k}=A1,G=null;const ye=ue({},[...C1,...nh,...rh,...ih,...T1]);let b=null;const Fe=ue({},[...N1,...sh,..._1,...pu]);let me=Object.seal(gE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ut=null,In=!0,Jn=!0,pr=!1,Ri=!0,Fr=!1,Ho=!0,mr=!1,_s=!1,As=!1,gr=!1,Os=!1,Li=!1,Vo=!0,za=!1;const of="user-content-";let Wo=!0,Di=!1,$r={},A=null;const F=ue({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let X=null;const le=ue({},["audio","video","img","source","image","track"]);let ve=null;const Ht=ue({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gn="http://www.w3.org/1998/Math/MathML",Vt="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml";let yn=At,lt=!1,Gn=null;const Rn=ue({},[gn,Vt,At],th);let Fa=ue({},["mi","mo","mn","ms","mtext"]),$a=ue({},["annotation-xml"]);const xT=ue({},["title","style","font","a","script"]);let qo=null;const vT=["application/xhtml+xml","text/html"],wT="text/html";let Xe=null,Ms=null;const kT=n.createElement("form"),Iy=function(T){return T instanceof RegExp||T instanceof Function},lf=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ms&&Ms===T)){if((!T||typeof T!="object")&&(T={}),T=Wi(T),qo=vT.indexOf(T.PARSER_MEDIA_TYPE)===-1?wT:T.PARSER_MEDIA_TYPE,Xe=qo==="application/xhtml+xml"?th:Bu,G=Dn(T,"ALLOWED_TAGS")?ue({},T.ALLOWED_TAGS,Xe):ye,b=Dn(T,"ALLOWED_ATTR")?ue({},T.ALLOWED_ATTR,Xe):Fe,Gn=Dn(T,"ALLOWED_NAMESPACES")?ue({},T.ALLOWED_NAMESPACES,th):Rn,ve=Dn(T,"ADD_URI_SAFE_ATTR")?ue(Wi(Ht),T.ADD_URI_SAFE_ATTR,Xe):Ht,X=Dn(T,"ADD_DATA_URI_TAGS")?ue(Wi(le),T.ADD_DATA_URI_TAGS,Xe):le,A=Dn(T,"FORBID_CONTENTS")?ue({},T.FORBID_CONTENTS,Xe):F,xe=Dn(T,"FORBID_TAGS")?ue({},T.FORBID_TAGS,Xe):{},Ut=Dn(T,"FORBID_ATTR")?ue({},T.FORBID_ATTR,Xe):{},$r=Dn(T,"USE_PROFILES")?T.USE_PROFILES:!1,In=T.ALLOW_ARIA_ATTR!==!1,Jn=T.ALLOW_DATA_ATTR!==!1,pr=T.ALLOW_UNKNOWN_PROTOCOLS||!1,Ri=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Fr=T.SAFE_FOR_TEMPLATES||!1,Ho=T.SAFE_FOR_XML!==!1,mr=T.WHOLE_DOCUMENT||!1,gr=T.RETURN_DOM||!1,Os=T.RETURN_DOM_FRAGMENT||!1,Li=T.RETURN_TRUSTED_TYPE||!1,As=T.FORCE_BODY||!1,Vo=T.SANITIZE_DOM!==!1,za=T.SANITIZE_NAMED_PROPS||!1,Wo=T.KEEP_CONTENT!==!1,Di=T.IN_PLACE||!1,k=T.ALLOWED_URI_REGEXP||yE,yn=T.NAMESPACE||At,Fa=T.MATHML_TEXT_INTEGRATION_POINTS||Fa,$a=T.HTML_INTEGRATION_POINTS||$a,me=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&Iy(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&Iy(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fr&&(Jn=!1),Os&&(gr=!0),$r&&(G=ue({},T1),b=[],$r.html===!0&&(ue(G,C1),ue(b,N1)),$r.svg===!0&&(ue(G,nh),ue(b,sh),ue(b,pu)),$r.svgFilters===!0&&(ue(G,rh),ue(b,sh),ue(b,pu)),$r.mathMl===!0&&(ue(G,ih),ue(b,_1),ue(b,pu))),T.ADD_TAGS&&(G===ye&&(G=Wi(G)),ue(G,T.ADD_TAGS,Xe)),T.ADD_ATTR&&(b===Fe&&(b=Wi(b)),ue(b,T.ADD_ATTR,Xe)),T.ADD_URI_SAFE_ATTR&&ue(ve,T.ADD_URI_SAFE_ATTR,Xe),T.FORBID_CONTENTS&&(A===F&&(A=Wi(A)),ue(A,T.FORBID_CONTENTS,Xe)),Wo&&(G["#text"]=!0),mr&&ue(G,["html","head","body"]),G.table&&(ue(G,["tbody"]),delete xe.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw al('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw al('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=T.TRUSTED_TYPES_POLICY,C=E.createHTML("")}else E===void 0&&(E=nz(h,i)),E!==null&&typeof C=="string"&&(C=E.createHTML(""));Rt&&Rt(T),Ms=T}},Ry=ue({},[...nh,...rh,...W4]),Ly=ue({},[...ih,...q4]),bT=function(T){let z=w(T);(!z||!z.tagName)&&(z={namespaceURI:yn,tagName:"template"});const W=Bu(T.tagName),Ie=Bu(z.tagName);return Gn[T.namespaceURI]?T.namespaceURI===Vt?z.namespaceURI===At?W==="svg":z.namespaceURI===gn?W==="svg"&&(Ie==="annotation-xml"||Fa[Ie]):!!Ry[W]:T.namespaceURI===gn?z.namespaceURI===At?W==="math":z.namespaceURI===Vt?W==="math"&&$a[Ie]:!!Ly[W]:T.namespaceURI===At?z.namespaceURI===Vt&&!$a[Ie]||z.namespaceURI===gn&&!Fa[Ie]?!1:!Ly[W]&&(xT[W]||!Ry[W]):!!(qo==="application/xhtml+xml"&&Gn[T.namespaceURI]):!1},Qn=function(T){ol(e.removed,{element:T});try{w(T).removeChild(T)}catch{v(T)}},Ba=function(T,z){try{ol(e.removed,{attribute:z.getAttributeNode(T),from:z})}catch{ol(e.removed,{attribute:null,from:z})}if(z.removeAttribute(T),T==="is")if(gr||Os)try{Qn(z)}catch{}else try{z.setAttribute(T,"")}catch{}},Dy=function(T){let z=null,W=null;if(As)T="<remove></remove>"+T;else{const at=E1(T,/^[\r\n\t ]+/);W=at&&at[0]}qo==="application/xhtml+xml"&&yn===At&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const Ie=E?E.createHTML(T):T;if(yn===At)try{z=new f().parseFromString(Ie,qo)}catch{}if(!z||!z.documentElement){z=S.createDocument(yn,"template",null);try{z.documentElement.innerHTML=lt?C:Ie}catch{}}const xt=z.body||z.documentElement;return T&&W&&xt.insertBefore(n.createTextNode(W),xt.childNodes[0]||null),yn===At?L.call(z,mr?"html":"body")[0]:mr?z.documentElement:xt},zy=function(T){return O.call(T.ownerDocument||T,T,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},af=function(T){return T instanceof d&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof c)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Fy=function(T){return typeof l=="function"&&T instanceof l};function yr(J,T,z){hu(J,W=>{W.call(e,T,z,Ms)})}const $y=function(T){let z=null;if(yr(D.beforeSanitizeElements,T,null),af(T))return Qn(T),!0;const W=Xe(T.nodeName);if(yr(D.uponSanitizeElement,T,{tagName:W,allowedTags:G}),T.hasChildNodes()&&!Fy(T.firstElementChild)&&Mt(/<[/\w]/g,T.innerHTML)&&Mt(/<[/\w]/g,T.textContent)||T.nodeType===cl.progressingInstruction||Ho&&T.nodeType===cl.comment&&Mt(/<[/\w]/g,T.data))return Qn(T),!0;if(!G[W]||xe[W]){if(!xe[W]&&Uy(W)&&(me.tagNameCheck instanceof RegExp&&Mt(me.tagNameCheck,W)||me.tagNameCheck instanceof Function&&me.tagNameCheck(W)))return!1;if(Wo&&!A[W]){const Ie=w(T)||T.parentNode,xt=x(T)||T.childNodes;if(xt&&Ie){const at=xt.length;for(let Wt=at-1;Wt>=0;--Wt){const Yn=g(xt[Wt],!0);Yn.__removalCount=(T.__removalCount||0)+1,Ie.insertBefore(Yn,y(T))}}}return Qn(T),!0}return T instanceof a&&!bT(T)||(W==="noscript"||W==="noembed"||W==="noframes")&&Mt(/<\/no(script|embed|frames)/i,T.innerHTML)?(Qn(T),!0):(Fr&&T.nodeType===cl.text&&(z=T.textContent,hu([U,re,he],Ie=>{z=ll(z,Ie," ")}),T.textContent!==z&&(ol(e.removed,{element:T.cloneNode()}),T.textContent=z)),yr(D.afterSanitizeElements,T,null),!1)},By=function(T,z,W){if(Vo&&(z==="id"||z==="name")&&(W in n||W in kT))return!1;if(!(Jn&&!Ut[z]&&Mt(ee,z))){if(!(In&&Mt(we,z))){if(!b[z]||Ut[z]){if(!(Uy(T)&&(me.tagNameCheck instanceof RegExp&&Mt(me.tagNameCheck,T)||me.tagNameCheck instanceof Function&&me.tagNameCheck(T))&&(me.attributeNameCheck instanceof RegExp&&Mt(me.attributeNameCheck,z)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(z))||z==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&Mt(me.tagNameCheck,W)||me.tagNameCheck instanceof Function&&me.tagNameCheck(W))))return!1}else if(!ve[z]){if(!Mt(k,ll(W,$,""))){if(!((z==="src"||z==="xlink:href"||z==="href")&&T!=="script"&&B4(W,"data:")===0&&X[T])){if(!(pr&&!Mt(ke,ll(W,$,"")))){if(W)return!1}}}}}}return!0},Uy=function(T){return T!=="annotation-xml"&&E1(T,K)},Hy=function(T){yr(D.beforeSanitizeAttributes,T,null);const{attributes:z}=T;if(!z||af(T))return;const W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:b,forceKeepAttr:void 0};let Ie=z.length;for(;Ie--;){const xt=z[Ie],{name:at,namespaceURI:Wt,value:Yn}=xt,Ko=Xe(at);let Ot=at==="value"?Yn:U4(Yn);if(W.attrName=Ko,W.attrValue=Ot,W.keepAttr=!0,W.forceKeepAttr=void 0,yr(D.uponSanitizeAttribute,T,W),Ot=W.attrValue,za&&(Ko==="id"||Ko==="name")&&(Ba(at,T),Ot=of+Ot),Ho&&Mt(/((--!?|])>)|<\/(style|title)/i,Ot)){Ba(at,T);continue}if(W.forceKeepAttr||(Ba(at,T),!W.keepAttr))continue;if(!Ri&&Mt(/\/>/i,Ot)){Ba(at,T);continue}Fr&&hu([U,re,he],Wy=>{Ot=ll(Ot,Wy," ")});const Vy=Xe(T.nodeName);if(By(Vy,Ko,Ot)){if(E&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Wt)switch(h.getAttributeType(Vy,Ko)){case"TrustedHTML":{Ot=E.createHTML(Ot);break}case"TrustedScriptURL":{Ot=E.createScriptURL(Ot);break}}try{Wt?T.setAttributeNS(Wt,at,Ot):T.setAttribute(at,Ot),af(T)?Qn(T):S1(e.removed)}catch{}}}yr(D.afterSanitizeAttributes,T,null)},ST=function J(T){let z=null;const W=zy(T);for(yr(D.beforeSanitizeShadowDOM,T,null);z=W.nextNode();)yr(D.uponSanitizeShadowNode,z,null),$y(z),Hy(z),z.content instanceof s&&J(z.content);yr(D.afterSanitizeShadowDOM,T,null)};return e.sanitize=function(J){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=null,W=null,Ie=null,xt=null;if(lt=!J,lt&&(J="<!-->"),typeof J!="string"&&!Fy(J))if(typeof J.toString=="function"){if(J=J.toString(),typeof J!="string")throw al("dirty is not a string, aborting")}else throw al("toString is not a function");if(!e.isSupported)return J;if(_s||lf(T),e.removed=[],typeof J=="string"&&(Di=!1),Di){if(J.nodeName){const Yn=Xe(J.nodeName);if(!G[Yn]||xe[Yn])throw al("root node is forbidden and cannot be sanitized in-place")}}else if(J instanceof l)z=Dy("<!---->"),W=z.ownerDocument.importNode(J,!0),W.nodeType===cl.element&&W.nodeName==="BODY"||W.nodeName==="HTML"?z=W:z.appendChild(W);else{if(!gr&&!Fr&&!mr&&J.indexOf("<")===-1)return E&&Li?E.createHTML(J):J;if(z=Dy(J),!z)return gr?null:Li?C:""}z&&As&&Qn(z.firstChild);const at=zy(Di?J:z);for(;Ie=at.nextNode();)$y(Ie),Hy(Ie),Ie.content instanceof s&&ST(Ie.content);if(Di)return J;if(gr){if(Os)for(xt=M.call(z.ownerDocument);z.firstChild;)xt.appendChild(z.firstChild);else xt=z;return(b.shadowroot||b.shadowrootmode)&&(xt=_.call(r,xt,!0)),xt}let Wt=mr?z.outerHTML:z.innerHTML;return mr&&G["!doctype"]&&z.ownerDocument&&z.ownerDocument.doctype&&z.ownerDocument.doctype.name&&Mt(xE,z.ownerDocument.doctype.name)&&(Wt="<!DOCTYPE "+z.ownerDocument.doctype.name+`>
`+Wt),Fr&&hu([U,re,he],Yn=>{Wt=ll(Wt,Yn," ")}),E&&Li?E.createHTML(Wt):Wt},e.setConfig=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lf(J),_s=!0},e.clearConfig=function(){Ms=null,_s=!1},e.isValidAttribute=function(J,T,z){Ms||lf({});const W=Xe(J),Ie=Xe(T);return By(W,Ie,z)},e.addHook=function(J,T){typeof T=="function"&&ol(D[J],T)},e.removeHook=function(J){return S1(D[J])},e.removeHooks=function(J){D[J]=[]},e.removeAllHooks=function(){D=O1()},e}var rz=vE();function iz({content:t}){if(/<[a-z][\s\S]*>/i.test(t)){const n=rz.sanitize(t);return p.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:n}})}return p.jsx("div",{className:"prose prose-lg max-w-none",children:p.jsx(CL,{remarkPlugins:[L4],components:{img:k1,a:D4,p:({children:n,...r})=>_e.Children.toArray(n).every(s=>_e.isValidElement(s)&&s.type===k1)?p.jsx(p.Fragment,{children:n}):p.jsx("p",{...r,children:n})},children:t})})}function Zg(t){return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}function sz({authorId:t,createdAt:e,readingTime:n}){const{profile:r}=Cs();return p.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[t&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(oS,{className:"w-4 h-4 mr-2"}),p.jsx("span",{children:(r==null?void 0:r.username)||"Auteur inconnu"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(zd,{className:"w-4 h-4 mr-2"}),p.jsx("time",{dateTime:e,children:Zg(e)})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(eS,{className:"w-4 h-4 mr-2"}),p.jsx("span",{children:n})]})]})}function oz({url:t,title:e}){const n=encodeURIComponent(t),r=encodeURIComponent(e),i=[{name:"Facebook",icon:tS,url:`https://www.facebook.com/sharer/sharer.php?u=${n}`},{name:"Twitter",icon:IM,url:`https://twitter.com/intent/tweet?url=${n}&text=${r}`},{name:"WhatsApp",icon:MM,url:`https://wa.me/?text=${r}%20${n}`}];return p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Partager :"}),p.jsx("div",{className:"flex gap-2",children:i.map(({name:s,icon:o,url:l})=>p.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors","aria-label":`Partager sur ${s}`,children:p.jsx(o,{className:"w-5 h-5 text-gray-600"})},s))})]})}function lz(t){const n=t.trim().split(/\s+/).length,r=Math.ceil(n/200);return r<1?"Moins d'1 min de lecture":`${r} min de lecture`}function az(){const{slug:t}=Eg(),{article:e,loading:n,error:r}=rj(t);if(n)return p.jsx("div",{children:"Chargement..."});if(r)return p.jsxs("div",{children:["Erreur: ",r.message]});if(!e)return p.jsx("div",{children:"Article non trouv"});const i=lz(e.content||"");return p.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.featured_image&&p.jsx("img",{src:e.featured_image,alt:e.title,className:"w-full h-96 object-cover rounded-lg mb-8"}),p.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.title}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[p.jsx(sz,{authorId:e.author_id,createdAt:e.created_at,readingTime:i}),p.jsx(oz,{url:window.location.href,title:e.title})]}),e.excerpt&&p.jsx("div",{className:"text-xl text-gray-600 mb-8 font-serif",children:e.excerpt}),e.content&&p.jsx(iz,{content:e.content})]})}function wE(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null);return N.useEffect(()=>{async function o(){try{const{data:l,error:a}=await ae.from("articles").select("*").eq("status","published").order("display_order",{ascending:!0});if(a)throw a;e(l)}catch(l){s(l instanceof Error?l:new Error("Une erreur est survenue"))}finally{r(!1)}}o()},[]),{articles:t,loading:n,error:i}}function uz(t,e){return N.useMemo(()=>{if(!e)return t;const n=e.toLowerCase();return t.filter(r=>{var i;return r.title.toLowerCase().includes(n)||((i=r.excerpt)==null?void 0:i.toLowerCase().includes(n))})},[t,e])}function cz({items:t,itemsPerPage:e}){const[n,r]=N.useState(1),i=N.useMemo(()=>{const o=(n-1)*e,l=o+e;return t.slice(o,l)},[t,n,e]),s=Math.ceil(t.length/e);return{currentPage:n,setCurrentPage:r,paginatedItems:i,totalPages:s}}function dz({article:t}){return p.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[t.featured_image&&p.jsx(Pe,{to:`/articles/${t.slug}`,children:p.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-48 object-cover"})}),p.jsxs("div",{className:"p-6",children:[p.jsx(Pe,{to:`/articles/${t.slug}`,children:p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 hover:text-blue-600",children:t.title})}),t.excerpt&&p.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:t.excerpt}),p.jsx(Pe,{to:`/articles/${t.slug}`,className:"inline-block text-blue-600 hover:text-blue-800",children:"Lire la suite "})]})]})}function fz({articles:t}){return p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>p.jsx(dz,{article:e},e.id))})}function hz({searchTerm:t,onSearchChange:e}){return p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),placeholder:"Rechercher un article...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),p.jsx(OM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})}function ey(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null);return N.useEffect(()=>{async function o(){try{const{data:l,error:a}=await ae.from("article_categories").select("*").order("display_order",{ascending:!0});if(a)throw a;e(l||[])}catch(l){s(l instanceof Error?l:new Error("Une erreur est survenue"))}finally{r(!1)}}o()},[]),{categories:t,loading:n,error:i}}function pz({selectedCategory:t,onCategoryChange:e}){const{categories:n}=ey();return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>e(null),className:`px-3 py-1 rounded-full text-sm ${t?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:"Tous"}),n.map(r=>p.jsx("button",{onClick:()=>e(r.id),className:`px-3 py-1 rounded-full text-sm ${t===r.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r.name},r.id))]})}function mz({currentPage:t,totalPages:e,onPageChange:n}){return p.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[p.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"p-2 rounded-md border border-gray-300 disabled:opacity-50","aria-label":"Page prcdente",children:p.jsx(Xb,{className:"w-5 h-5"})}),Array.from({length:e},(r,i)=>i+1).map(r=>p.jsx("button",{onClick:()=>n(r),className:`px-4 py-2 rounded-md ${t===r?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:r},r)),p.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"p-2 rounded-md border border-gray-300 disabled:opacity-50","aria-label":"Page suivante",children:p.jsx(Zb,{className:"w-5 h-5"})})]})}const gz=9;function yz(){const{articles:t,loading:e,error:n}=wE(),[r,i]=N.useState(""),[s,o]=N.useState(null),l=uz(t,r).filter(f=>!s||f.category_id===s),{currentPage:a,setCurrentPage:u,paginatedItems:c,totalPages:d}=cz({items:l,itemsPerPage:gz});return e?p.jsx("div",{children:"Chargement des articles..."}):n?p.jsxs("div",{children:["Erreur: ",n.message]}):p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Nos Articles"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez nos derniers articles et actualits sur la recherche et l'accompagnement."})]}),p.jsxs("div",{className:"space-y-6 mb-8",children:[p.jsx("div",{className:"max-w-md mx-auto",children:p.jsx(hz,{searchTerm:r,onSearchChange:i})}),p.jsx(pz,{selectedCategory:s,onCategoryChange:o})]}),l.length===0?p.jsx("p",{className:"text-center text-gray-600",children:"Aucun article ne correspond  votre recherche."}):p.jsxs(p.Fragment,{children:[p.jsx(fz,{articles:c}),d>1&&p.jsx("div",{className:"mt-12",children:p.jsx(mz,{currentPage:a,totalPages:d,onPageChange:u})})]})]})}function xz(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null);return N.useEffect(()=>{async function o(){try{const{data:l,error:a}=await ae.from("events").select("*").order("date",{ascending:!0});if(a)throw a;e(l||[])}catch(l){s(l instanceof Error?l:new Error("Une erreur est survenue"))}finally{r(!1)}}o()},[]),{events:t,loading:n,error:i}}function vz(){const{events:t,loading:e,error:n}=xz();return e?p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center",children:p.jsx("div",{children:"Chargement des vnements..."})}):n?p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center text-red-600",children:p.jsxs("div",{children:["Erreur: ",n.message]})}):p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"vnements  Venir"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Rejoignez-nous pour nos prochains vnements de sensibilisation et de soutien"})]}),t.length===0?p.jsx("div",{className:"text-center text-gray-600",children:p.jsx("p",{children:"Aucun vnement  venir pour le moment."})}):p.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.map(r=>p.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[r.image&&p.jsx("img",{src:r.image,alt:r.title,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:r.title}),p.jsxs("div",{className:"space-y-3 mb-6",children:[p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(zd,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:Zg(r.date)})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(eS,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:r.time})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(Mg,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:r.location})]})]}),p.jsx("p",{className:"text-gray-600 mb-6",children:r.description}),p.jsx(be,{className:"w-full",children:"S'inscrire  l'vnement"})]})]},r.id))}),p.jsxs("div",{className:"mt-12 bg-blue-50 rounded-lg p-8 text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous souhaitez organiser un vnement ?"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Nous sommes toujours  la recherche de nouvelles initiatives pour sensibiliser et soutenir notre cause."}),p.jsx(Pe,{to:"/contact",children:p.jsx(be,{variant:"outline",children:"Contactez-nous"})})]})]})}function wz({title:t,content:e,image:n}){return p.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:p.jsxs("div",{className:"p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:t}),p.jsx("div",{className:"prose max-w-none",children:e.split(`
`).map((r,i)=>p.jsx("p",{className:"mb-4",children:r},i))}),n&&p.jsx("img",{src:n,alt:t,className:"w-full h-64 object-cover rounded-lg mt-4"})]})})}function kz(){const t=[{title:"La poussette et les chaussures",content:"Leo ne devait pas marcher, mais aprs beaucoup d'efforts, il a djou les pronostics. Actuellement, il marche mais des adaptations sont indispensables. Il a les pieds en valgus, les pieds plats, donc il a des coques de positionnement, et l'achat de chaussures est compliqu, car il faut composer avec ses coques. Elles sont donc bien plus chres que des chaussures classiques. Il ne peut pas marcher aussi longtemps et vite qu'un enfant de son ge. Aprs 3 ans de porte-bb, nous nous sommes enfin dcids  acheter une poussette pour Lo.",image:"https://images.unsplash.com/photo-1556316384-12c35d30afa4?w=800&auto=format&fit=crop"},{title:"La rducation TalkTools",content:`Un des aspects les plus visibles du handicap de Leo, ce sont ses troubles de l'oralite et du langage. Les repas ont t longtemps compliqus, heureusement Notube nous a beaucoup aid  amliorer les choses. Leo ne parle pas,  part maman et non, et peut avoir des pertes de saliver quand il est trop concentr sur une tche.

Nous avons choisi de nous lancer dans une rducation intensive du langage par le biais de TalkTools, une mthode anglaise. L'association a pay l'valuation par l'orthophoniste anglaise, le dplacement jusqu' Paris et le matriel spcialis.

Aprs une valuation de 2 heures, la thrapeute nous a envoy une liste d'exercices  faire quotidiennement.

Tous les jours, nous apprenons  mcher, souffler, faire des sons, mordre... Leo est parfois fatigu des efforts demands mais trs fier de matriser de nouveaux sons ou d'apprendre  faire des bulles.`,image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800&auto=format&fit=crop"},{title:"La tablette de communication et le langage des signes",content:"Ce n'est pas parce qu'on ne sait pas parler, qu'on n'a pas des choses  dire. Nous avons donc tout mis en place pour que Lo puisse s'exprimer: langage des signes avec des cours de LSF en famille et des cours pour la prsidente de l'association, et achat d'une tablette pour la communication avec l'application Avaz. Lo prfre la langue des signes, nous devons insister pour qu'il utilise la tablette. Mais, pour l'cole, la tablette lui apportera une meilleure comprhension par tous.",image:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&auto=format&fit=crop"},{title:"Les lunettes",content:"Lo a une trs mauvaise vue: hypermtrope et astigmate, les lunettes lui sont indispensables et  changer souvent. Les verres doivent tre teintes et affins plusieurs fois. L'association finance le reste  charge.",image:"https://images.unsplash.com/photo-1574258495973-f010dfbb5371?w=800&auto=format&fit=crop"},{title:"Les cours de gym",content:"Lo, comme tout enfant, avait envie d'un loisirs, support  la socialisation et lui permettant de faire du sport malgr son handicap. Aprs de multiples recherches, il est inscrit chaque mercredi  un cours de gym chez Toupti Gym. Il est intgr dans un cours avec des enfants de son ge, ordinaire et extra-ordinaire. L'association nous permet de financer ce loisirs.",image:"https://images.unsplash.com/photo-1599058945522-28d584b6f0ff?w=800&auto=format&fit=crop"}];return p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Projets financer"}),p.jsx("p",{className:"text-xl text-gray-600",children:"Dcouvrez les diffrents projets que nous menons pour amliorer le quotidien de Lo"})]}),p.jsx("div",{className:"space-y-8",children:t.map((e,n)=>p.jsx(wz,{title:e.title,content:e.content,image:e.image},n))}),p.jsxs("div",{className:"mt-12 bg-blue-50 rounded-lg p-8 text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Soutenez nos projets"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Votre soutien est essentiel pour nous aider  financer ces projets et amliorer le quotidien de Lo."}),p.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Faire un don"})]})]})}function bz(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null);return N.useEffect(()=>{async function o(){try{const{data:l,error:a}=await ae.from("profiles").select("*").order("created_at",{ascending:!1});if(a)throw a;e(l)}catch(l){s(l instanceof Error?l:new Error("Une erreur est survenue"))}finally{r(!1)}}o()},[]),{profiles:t,loading:n,error:i}}function Sz(){const{articles:t}=wE(),{profiles:e}=bz(),n=[{name:"Articles",value:t.length,icon:nS,link:"/admin/articles"},{name:"Utilisateurs",value:e.length,icon:Dp,link:"/admin/users"}];return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord"}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Grez votre contenu et vos utilisateurs"})]}),p.jsx("div",{className:"mt-4 md:mt-0",children:p.jsxs(Pe,{to:"/admin/settings",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[p.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Paramtres"]})})]}),p.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3 mb-8",children:n.map(r=>{const i=r.icon;return p.jsx(Pe,{to:r.link,className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow",children:p.jsx("div",{className:"p-5",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(i,{className:"h-6 w-6 text-gray-400"})}),p.jsx("div",{className:"ml-5 w-0 flex-1",children:p.jsxs("dl",{children:[p.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:r.name}),p.jsx("dd",{className:"flex items-baseline",children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.value})})]})})]})})},r.name)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Derniers articles"}),p.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(r=>p.jsx(Pe,{to:`/admin/articles/${r.slug}/edit`,className:"block hover:bg-gray-50 p-2 -mx-2 rounded",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.title}),p.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.created_at).toLocaleDateString()})]}),p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.status==="published"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status==="published"?"Publi":"Brouillon"})]})},r.id))})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Derniers utilisateurs"}),p.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(r=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:r.avatar_url?p.jsx("img",{className:"h-8 w-8 rounded-full",src:r.avatar_url,alt:r.username}):p.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:p.jsx(Dp,{className:"h-4 w-4 text-gray-500"})})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.username}),p.jsx("p",{className:"text-sm text-gray-500",children:r.role})]})]},r.id))})]})]})]})}function Ez(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),o=N.useCallback(async()=>{try{const{data:a,error:u}=await ae.from("articles").select("*").order("display_order",{ascending:!0});if(u)throw u;e(a||[])}catch(a){s(a instanceof Error?a:new Error("Une erreur est survenue"))}finally{r(!1)}},[]);return N.useEffect(()=>{o()},[o]),{articles:t,loading:n,error:i,deleteArticle:async a=>{try{const{error:u}=await ae.from("articles").delete().eq("id",a);if(u)throw u;await o()}catch(u){throw s(u instanceof Error?u:new Error("Une erreur est survenue")),u}},refreshArticles:o}}function Cz(){const[t,e]=N.useState(!1);return{moveArticle:async(r,i)=>{e(!0);try{const{data:s}=await ae.from("articles").select("display_order").eq("id",r).single();if(!s)throw new Error("Article not found");const o=s.display_order,l=i>o?-1:1;await ae.rpc("reorder_articles",{article_id:r,new_order:i,current_order:o})}catch(s){throw console.error("Error updating article order:",s),s}finally{e(!1)}},updating:t}}function Tz({articleId:t,currentOrder:e,totalArticles:n,onOrderChange:r}){const{moveArticle:i,updating:s}=Cz(),o=async l=>{const a=l==="up"?e-1:e+1;try{await i(t,a),r()}catch(u){console.error("Error moving article:",u)}};return p.jsxs("div",{className:"flex gap-1",children:[p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>o("up"),disabled:s||e===1,title:"Monter l'article",children:p.jsx(Og,{className:"w-4 h-4"})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>o("down"),disabled:s||e===n,title:"Descendre l'article",children:p.jsx(Ag,{className:"w-4 h-4"})})]})}function Nz(){const{articles:t,loading:e,error:n,deleteArticle:r,refreshArticles:i}=Ez();return e?p.jsx("div",{children:"Chargement..."}):n?p.jsxs("div",{children:["Erreur: ",n.message]}):p.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordre"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(s=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Tz,{articleId:s.id,currentOrder:s.display_order,totalArticles:t.length,onOrderChange:i})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.title})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="published"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status==="published"?"Publi":"Brouillon"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Pe,{to:`/admin/articles/${s.slug}/edit`,children:p.jsx(be,{variant:"secondary",size:"sm",children:p.jsx(Ig,{className:"h-4 w-4"})})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>r(s.id),children:p.jsx(Fd,{className:"h-4 w-4 text-red-500"})})]})})]},s.id))})]})})}function _z(){return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des articles"}),p.jsx(Pe,{to:"/admin/articles/new",children:p.jsxs(be,{children:[p.jsx(jg,{className:"h-4 w-4 mr-2"}),"Nouvel article"]})})]}),p.jsx(Nz,{})]})}let mu;const Az=new Uint8Array(16);function Oz(){if(!mu&&(mu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mu(Az)}const ut=[];for(let t=0;t<256;++t)ut.push((t+256).toString(16).slice(1));function Mz(t,e=0){return ut[t[e+0]]+ut[t[e+1]]+ut[t[e+2]]+ut[t[e+3]]+"-"+ut[t[e+4]]+ut[t[e+5]]+"-"+ut[t[e+6]]+ut[t[e+7]]+"-"+ut[t[e+8]]+ut[t[e+9]]+"-"+ut[t[e+10]]+ut[t[e+11]]+ut[t[e+12]]+ut[t[e+13]]+ut[t[e+14]]+ut[t[e+15]]}const jz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M1={randomUUID:jz};function Pz(t,e,n){if(M1.randomUUID&&!e&&!t)return M1.randomUUID();t=t||{};const r=t.random||(t.rng||Oz)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Mz(r)}const Iz=5*1024*1024,Rz=["image/jpeg","image/png","image/webp","image/gif"];function ty(){const[t,e]=N.useState(!1),[n,r]=N.useState(null);return{uploadImage:async s=>{var o;try{if(e(!0),r(null),!Rz.includes(s.type))throw new Error("Format de fichier non support. Utilisez JPG, PNG, WebP ou GIF.");if(s.size>Iz)throw new Error("L'image ne doit pas dpasser 5MB");const l=(o=s.name.split(".").pop())==null?void 0:o.toLowerCase(),u=`${Pz()}.${l}`,{error:c}=await ae.storage.from("media").upload(u,s,{cacheControl:"3600",contentType:s.type,upsert:!1});if(c)throw console.error("Upload error:",c),c;const{data:{publicUrl:d}}=ae.storage.from("media").getPublicUrl(u);return d}catch(l){const a=l instanceof Error?l.message:"Une erreur inattendue est survenue";return r(a),console.error("Erreur lors de l'upload:",l),null}finally{e(!1)}},uploading:t,error:n}}const Lz=5*1024*1024,oh=["image/jpeg","image/png","image/webp"],Dz={sm:"h-32",md:"h-48",lg:"h-64"};function kE({onUploadComplete:t,currentImage:e,previewSize:n="md"}){const{uploadImage:r,uploading:i,error:s}=ty(),[o,l]=N.useState(e),[a,u]=N.useState(n),c=N.useCallback(async m=>{m.preventDefault();const g=m.dataTransfer.files[0];if(f(g)){const v=await r(g);v&&(l(v),t(v))}},[r,t]),d=N.useCallback(async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(g&&f(g)){const y=await r(g);y&&(l(y),t(y))}},[r,t]),f=m=>oh.includes(m.type)?m.size>Lz?(alert("Fichier trop volumineux. Maximum 5MB."),!1):!0:(alert("Format de fichier non support. Utilisez JPG, PNG ou WebP."),!1),h=()=>{const m=["sm","md","lg"],v=(m.indexOf(a)+1)%m.length;u(m[v])};return p.jsxs("div",{className:"w-full space-y-4",children:[o?p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:o,alt:"Aperu",className:`w-full ${Dz[a]} object-cover rounded-lg`}),p.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[p.jsx(be,{variant:"secondary",size:"sm",onClick:h,title:"Changer la taille de prvisualisation",children:a==="sm"?p.jsx(DM,{className:"w-4 h-4"}):p.jsx(zM,{className:"w-4 h-4"})}),p.jsxs("label",{className:"cursor-pointer",children:[p.jsx(be,{variant:"secondary",size:"sm",children:p.jsx(Cx,{className:"w-4 h-4"})}),p.jsx("input",{type:"file",className:"hidden",accept:oh.join(","),onChange:d})]})]})]}):p.jsxs("div",{onDrop:c,onDragOver:m=>m.preventDefault(),className:`border-2 border-dashed rounded-lg p-8 text-center ${i?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-500"}`,children:[p.jsx("input",{type:"file",accept:oh.join(","),onChange:d,className:"hidden",id:"image-upload"}),p.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[p.jsx(Cx,{className:"w-8 h-8 text-gray-400 mb-2"}),p.jsx("span",{className:"text-sm text-gray-600",children:i?"Envoi en cours...":"Glissez une image ou cliquez pour slectionner"}),p.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, WebP  5MB max"})]})]}),s&&p.jsxs("div",{className:"mt-2 text-red-600 text-sm flex items-center",children:[p.jsx(lS,{className:"w-4 h-4 mr-1"}),s]})]})}function dt(t){this.content=t}dt.prototype={constructor:dt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new dt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new dt(n)},addToStart:function(t,e){return new dt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new dt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new dt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=dt.from(t),t.size?new dt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=dt.from(t),t.size?new dt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=dt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};dt.from=function(t){if(t instanceof dt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new dt(e)};function bE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=bE(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function SE(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,c=Math.min(o.text.length,l.text.length);for(;u<c&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=SE(o.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class j{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new j(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=a}return new j(r,i)}cutByIndex(e,n){return e==n?j.empty:e==0&&n==this.content.length?this:new j(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new j(i,s)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return bE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return SE(this,e,n,r)}findIndex(e,n=-1){if(e==0)return gu(0,e);if(e==this.size)return gu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?gu(r+1,o):gu(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return j.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new j(n||e,r)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const lh={index:0,offset:0};function gu(t,e){return lh.index=t,lh.offset=e,lh}function Cc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Cc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Cc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ee=class Qp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Cc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Qp.none;if(e instanceof Qp)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ee.none=[];class Tc extends Error{}class B{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=CE(this.content,e+this.openStart,n);return r&&new B(r,this.openStart,this.openEnd)}removeBetween(e,n){return new B(EE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return B.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new B(j.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new B(e,r,i)}}B.empty=new B(j.empty,0,0);function EE(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(EE(s.content,e-i-1,n-i-1)))}function CE(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=CE(o.content,e-s-1,n);return l&&t.replaceChild(i,o.copy(l))}function zz(t,e,n){if(n.openStart>t.depth)throw new Tc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Tc("Inconsistent open depths");return TE(t,e,n,0)}function TE(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=TE(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return ls(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Fz(n,t);return ls(s,_E(t,o,l,e,r))}else return ls(s,Nc(t,e,r))}function NE(t,e){if(!e.type.compatibleContent(t.type))throw new Tc("Cannot join "+e.type.name+" onto "+t.type.name)}function Yp(t,e,n){let r=t.node(n);return NE(r,e.node(n)),r}function ss(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Rl(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ss(t.nodeAfter,r),s++));for(let l=s;l<o;l++)ss(i.child(l),r);e&&e.depth==n&&e.textOffset&&ss(e.nodeBefore,r)}function ls(t,e){return t.type.checkContent(e),t.copy(e)}function _E(t,e,n,r,i){let s=t.depth>i&&Yp(t,e,i+1),o=r.depth>i&&Yp(n,r,i+1),l=[];return Rl(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(NE(s,o),ss(ls(s,_E(t,e,n,r,i+1)),l)):(s&&ss(ls(s,Nc(t,e,i+1)),l),Rl(e,n,i,l),o&&ss(ls(o,Nc(n,r,i+1)),l)),Rl(r,null,i,l),new j(l)}function Nc(t,e,n){let r=[];if(Rl(null,t,n,r),t.depth>n){let i=Yp(t,e,n+1);ss(ls(i,Nc(t,e,n+1)),r)}return Rl(e,null,n,r),new j(r)}function Fz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(j.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ha{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ee.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new _c(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),u=s-a;if(r.push(o,l,i+a),!u||(o=o.child(l),o.isText))break;s=u-1,i+=a+1}return new ha(n,r,s)}static resolveCached(e,n){let r=j1.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else j1.set(e,r=new $z);let i=r.elts[r.i]=ha.resolve(e,n);return r.i=(r.i+1)%Bz,i}}class $z{constructor(){this.elts=[],this.i=0}}const Bz=12,j1=new WeakMap;class _c{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Uz=Object.create(null);let vi=class Xp{constructor(e,n,r,i=Ee.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Cc(this.attrs,n||e.defaultAttrs||Uz)&&Ee.sameSet(this.marks,r||Ee.none)}copy(e=null){return e==this.content?this:new Xp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Xp(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return B.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new B(u,i.depth-o,s.depth-o)}replace(e,n,r){return zz(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ha.resolveCached(this,e)}resolveNoCache(e){return ha.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),AE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=j.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ee.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ee.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=j.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};vi.prototype.text=void 0;class Ac extends vi{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):AE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ac(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ac(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function AE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ys{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Hz(e,n);if(r.next==null)return ys.empty;let i=OE(r);r.next&&r.err("Unexpected trailing text");let s=Qz(Gz(i));return Yz(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return j.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,l.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}ys.empty=new ys(!0);class Hz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function OE(t){let e=[];do e.push(Vz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Vz(t){let e=[];do e.push(Wz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Wz(t){let e=Jz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=qz(t,e);else break;return e}function P1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function qz(t,e){let n=P1(t),r=n;return t.eat(",")&&(t.next!="}"?r=P1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Kz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Jz(t){if(t.eat("(")){let e=OE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Kz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Gz(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(s(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=s(o.exprs[a],l);if(a==o.exprs.length-1)return u;i(u,l=n())}else if(o.type=="star"){let a=n();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,a),c),a=c}if(o.max==-1)i(s(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let c=n();r(a,c),i(s(o.expr,a),c),a=c}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function ME(t,e){return e-t}function I1(t,e){let n=[];return r(e),n.sort(ME);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&n.indexOf(a)==-1&&r(a)}}}function Qz(t){let e=Object.create(null);return n(I1(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);I1(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new ys(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(ME);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}function Yz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function PE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function IE(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function RE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Zz(t,r,e[r]);return n}let R1=class LE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=RE(e,r.attrs),this.defaultAttrs=jE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ys.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:PE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new vi(this,this.computeAttrs(e),j.from(n),Ee.setFrom(r))}createChecked(e=null,n,r){return n=j.from(n),this.checkContent(n),new vi(this,this.computeAttrs(e),n,Ee.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=j.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(j.empty,!0);return s?new vi(this,e,n.append(s),Ee.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){IE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ee.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new LE(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Xz(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Zz{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Xz(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Wd{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=RE(e,i.attrs),this.excluded=null;let s=jE(this.attrs);this.instance=s?new Ee(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ee(this,PE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Wd(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){IE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class DE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=dt.from(e.nodes),n.marks=dt.from(e.marks||{}),this.nodes=R1.compile(this.spec.nodes,this),this.marks=Wd.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=ys.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?L1(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:L1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof R1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ac(r,r.defaultAttrs,e,Ee.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return vi.fromJSON(this,e)}markFromJSON(e){return Ee.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function L1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function e3(t){return t.tag!=null}function t3(t){return t.style!=null}class wi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(e3(i))this.tags.push(i);else if(t3(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new z1(this,n,!1);return r.addAll(e,Ee.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new z1(this,n,!0);return r.addAll(e,Ee.none,n.from,n.to),B.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(i3(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=F1(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=F1(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wi(e,wi.schemaRules(e)))}}const zE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},n3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},FE={ol:!0,ul:!0},pa=1,Zp=2,Ll=4;function D1(t,e,n){return e!=null?(e?pa:0)|(e==="full"?Zp:0):t&&t.whitespace=="pre"?pa|Zp:n&~Ll}class yu{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Ee.none,this.match=s||(o&Ll?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(j.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&pa)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=j.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!zE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class z1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=D1(null,n.preserveWhitespace,0)|(r?Ll:0);i?s=new yu(i.type,i.attrs,Ee.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new yu(null,null,Ee.none,!0,null,o):s=new yu(e.schema.topNodeType,null,Ee.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Zp?"full":this.localPreserveWS||(i.options&pa)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;FE.hasOwnProperty(o)&&this.parser.normalizeLists&&r3(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(a?a.ignore:n3.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let u,c=this.needsBlock;if(zE.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=a&&a.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,a,u,a.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(s,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(u=>!a.clearMark(u)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let a=this.enter(o,n.attrs||null,r,n.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],l=o.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=o,!l.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Ee.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):$1(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=D1(e,s,o.options);o.options&Ll&&o.content.length==0&&(l|=Ll);let a=Ee.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):$1(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new yu(e,n,a,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=pa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function r3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&FE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function i3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function F1(t){let e={};for(let n in t)e[n]=t[n];return e}function $1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Ns{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ah(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Uu(ah(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Uu(ah(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Uu(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ns(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=B1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return B1(e.marks)}}function B1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ah(t){return t.document||window.document}const U1=new WeakMap;function s3(t){let e=U1.get(t);return e===void 0&&U1.set(t,e=o3(t)),e}function o3(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Uu(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=s3(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):a.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:m}=Uu(t,f,n,r);if(a.appendChild(h),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:a,contentDOM:l}}const $E=65535,BE=Math.pow(2,16);function l3(t,e){return t+e*BE}function H1(t){return t&$E}function a3(t){return(t-(t&$E))/BE}const UE=1,HE=2,Hu=4,VE=8;class em{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&VE)>0}get deletedBefore(){return(this.delInfo&(UE|Hu))>0}get deletedAfter(){return(this.delInfo&(HE|Hu))>0}get deletedAcross(){return(this.delInfo&Hu)>0}}class ln{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ln.empty)return ln.empty}recover(e){let n=0,r=H1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+a3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+s],c=this.ranges[l+o],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,h=a+i+(f<0?0:c);if(r)return h;let m=e==(n<0?a:d)?null:l3(l/3,e-a),g=e==a?HE:e==d?UE:Hu;return(n<0?e!=a:e!=d)&&(g|=VE),new em(h,g,m)}i+=c-u}return r?e+i:new em(e+i,0,null)}touches(e,n){let r=0,i=H1(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),s+=c-u}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ln.empty:new ln(e<0?[0,-e,0]:[0,0,e])}}ln.empty=new ln([]);class fo{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new fo(this.maps,this.mirror,e,n)}copy(){return new fo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new fo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new em(e,i,null)}}const uh=Object.create(null);class _t{getMap(){return ln.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=uh[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uh)throw new RangeError("Duplicate use of step JSON ID "+e);return uh[e]=n,n.prototype.jsonID=e,n}}class Je{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Je(e,null)}static fail(e){return new Je(null,e)}static fromReplace(e,n,r,i){try{return Je.ok(e.replace(n,r,i))}catch(s){if(s instanceof Tc)return Je.fail(s.message);throw s}}}function ny(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(ny(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return j.fromArray(r)}class li extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new B(ny(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Je.fromReplace(e,this.from,this.to,s)}invert(){return new lr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new li(n.pos,r.pos,this.mark)}merge(e){return e instanceof li&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new li(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new li(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("addMark",li);class lr extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new B(ny(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Je.fromReplace(e,this.from,this.to,r)}invert(){return new li(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new lr(n.pos,r.pos,this.mark)}merge(e){return e instanceof lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new lr(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("removeMark",lr);class ai extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Je.fromReplace(e,this.pos,this.pos+1,new B(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ai(this.pos,n.marks[i]);return new ai(this.pos,this.mark)}}return new To(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ai(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ai(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("addNodeMark",ai);class To extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Je.fromReplace(e,this.pos,this.pos+1,new B(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ai(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new To(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new To(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("removeNodeMark",To);class nt extends _t{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&tm(e,this.from,this.to)?Je.fail("Structure replace would overwrite content"):Je.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new nt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new nt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof nt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?B.empty:new B(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new nt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?B.empty:new B(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new nt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nt(n.from,n.to,B.fromJSON(e,n.slice),!!n.structure)}}_t.jsonID("replace",nt);class it extends _t{constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(tm(e,this.from,this.gapFrom)||tm(e,this.gapTo,this.to)))return Je.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Je.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Je.fromReplace(e,this.from,this.to,r):Je.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new it(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new it(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new it(n.from,n.to,n.gapFrom,n.gapTo,B.fromJSON(e,n.slice),n.insert,!!n.structure)}}_t.jsonID("replaceAround",it);function tm(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function u3(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+a.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:i.push(o=new lr(f,h,d[g])));l&&l.to==f?l.to=h:s.push(l=new li(f,h,r))}}),i.forEach(a=>t.step(a)),s.forEach(a=>t.step(a))}function c3(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof Wd){let u=o.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==s-1&&d.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>t.step(new lr(o.from,o.to,o.style)))}function ry(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<s.childCount;a++){let u=s.child(a),c=l+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new nt(l,c,B.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new lr(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(u.text);)m||(m=new B(j.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new nt(l+f.index,l+f.index+f[0].length,m))}}l=c}if(!r.validEnd){let a=r.fillBefore(j.empty,!0);t.replace(l,l,new B(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function d3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Uo(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!d3(i,s,o))break}return null}function f3(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,u=l,c=j.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,c=j.from(r.node(m).copy(c)),d++):a--;let f=j.empty,h=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=j.from(i.node(m).copy(f)),h++):u++;t.step(new it(a,u,o,l,new B(c.append(f),d,h),c.size-d,!0))}function iy(t,e,n=null,r=t){let i=h3(t,e),s=i&&p3(r,e);return s?i.map(V1).concat({type:e,attrs:n}).concat(s.map(V1)):null}function V1(t){return{type:t,attrs:null}}function h3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function p3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:o}function m3(t,e,n){let r=j.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=j.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new it(i,s,i,s,new B(r,0,0),n.length,!0))}function g3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let a=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,a)&&y3(t.doc,t.mapping.slice(s).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?u=!1:!h&&m&&(u=!0)}u===!1&&qE(t,o,l,s),ry(t,t.mapping.slice(s).map(l,1),r,void 0,u===null);let c=t.mapping.slice(s),d=c.map(l,1),f=c.map(l+o.nodeSize,1);return t.step(new it(d,f,d+1,f-1,new B(j.from(r.create(a,null,o.marks)),0,0),1,!0)),u===!0&&WE(t,o,l,s),!1}})}function WE(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function qE(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function y3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function x3(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new it(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new B(j.from(o),0,0),1,!0))}function ho(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[c+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function v3(t,e,n=1,r){let i=t.doc.resolve(e),s=j.empty,o=j.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){s=j.from(i.node(l).copy(s));let c=r&&r[u];o=j.from(c?c.type.create(c.attrs,o):i.node(l).copy(o))}t.step(new nt(e,e,new B(s.append(o),n,n),!0))}function ji(t,e){let n=t.resolve(e),r=n.index();return KE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function w3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function KE(t,e){return!!(t&&e&&!t.isLeaf&&w3(t,e))}function qd(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&KE(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function k3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let l=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);qE(t,c.node(),c.before(),l)}o.inlineContent&&ry(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let a=t.mapping.slice(l),u=a.map(e-n);if(t.step(new nt(u,a.map(e+n,-1),B.empty,!0)),r===!0){let c=t.doc.resolve(u);WE(t,c.node(),c.before(),t.steps.length)}return t}function b3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function JE(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Kd(t,e,n=e,r=B.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return GE(i,s,r)?new nt(e,n,r):new S3(i,s,r).fit()}function GE(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class S3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=j.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=j.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new B(s,o,l);return e>-1?new it(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new nt(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ch(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(j.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ch(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new B(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ch(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new B(xl(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new B(xl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let g=l.child(u),v=d.matchType(g.type);if(!v)break;u++,(u>1||a==0||g.content.size)&&(d=v,c.push(QE(g.mark(f.allowedMarks(g.marks)),u==1?a:0,u==l.childCount?h:-1)))}let m=u==l.childCount;m||(h=-1),this.placed=vl(this.placed,n,j.from(c)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=l;g<h;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?e==0?B.empty:new B(xl(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new B(xl(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=dh(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=dh(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vl(this.placed,this.depth,j.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(j.empty,!0);n.childCount&&(this.placed=vl(this.placed,this.frontier.length,n))}}function xl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(xl(t.firstChild.content,e-1,n)))}function vl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vl(t.lastChild.content,e-1,n)))}function ch(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function QE(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,QE(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(j.empty,!0)))),t.copy(r)}function dh(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!E3(n,s.content,o)?l:null}function E3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function C3(t){return t.spec.defining||t.spec.definingForContent}function T3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(GE(i,s,r))return t.step(new nt(e,n,r));let o=XE(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?l=f:i.before(f)==h&&o.splice(1,0,-f)}let a=o.indexOf(l),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(u.push(m),h==r.openStart)break;f=m.content}for(let f=c-1;f>=0;f--){let h=u[f],m=C3(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),m=u[h];if(m)for(let g=0;g<o.length;g++){let v=o[(g+a)%o.length],y=!0;v<0&&(y=!1,v=-v);let x=i.node(v-1),w=i.index(v-1);if(x.canReplaceWith(w,w,m.type,m.marks))return t.replace(i.before(v),y?s.after(v):n,new B(YE(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=i.before(h),n=s.after(h))}}function YE(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(YE(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(j.empty,!0))}return t}function N3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=b3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new B(j.from(r),0,0))}function _3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=XE(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function XE(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class po extends _t{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Je.fromReplace(e,this.pos,this.pos+1,new B(j.from(i),0,n.isLeaf?0:1))}getMap(){return ln.empty}invert(e){return new po(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new po(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new po(n.pos,n.attr,n.value)}}_t.jsonID("attr",po);class ma extends _t{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Je.ok(r)}getMap(){return ln.empty}invert(e){return new ma(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ma(n.attr,n.value)}}_t.jsonID("docAttr",ma);let No=class extends Error{};No=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};No.prototype=Object.create(Error.prototype);No.prototype.constructor=No;No.prototype.name="TransformError";class ZE{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new No(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=B.empty){let i=Kd(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new B(j.from(r),0,0))}delete(e,n){return this.replace(e,n,B.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return T3(this,e,n,r),this}replaceRangeWith(e,n,r){return N3(this,e,n,r),this}deleteRange(e,n){return _3(this,e,n),this}lift(e,n){return f3(this,e,n),this}join(e,n=1){return k3(this,e,n),this}wrap(e,n){return m3(this,e,n),this}setBlockType(e,n=e,r,i=null){return g3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return x3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new po(e,n,r)),this}setDocAttribute(e,n){return this.step(new ma(e,n)),this}addNodeMark(e,n){return this.step(new ai(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ee)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new To(e,n)),this}split(e,n=1,r){return v3(this,e,n,r),this}addMark(e,n,r){return u3(this,e,n,r),this}removeMark(e,n,r){return c3(this,e,n,r),this}clearIncompatible(e,n,r){return ry(this,e,n,r),this}}const fh=Object.create(null);class ne{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new A3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=B.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],c=e.mapping.slice(s);e.replaceRange(c.map(a.pos),c.map(u.pos),l?B.empty:n),l==0&&K1(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),u=a.map(o.pos),c=a.map(l.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),K1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Z(e):$s(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?$s(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):$s(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new _n(e.node(0))}static atStart(e){return $s(e,e,0,0,1)||new _n(e)}static atEnd(e){return $s(e,e,e.content.size,e.childCount,-1)||new _n(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fh[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fh)throw new RangeError("Duplicate use of selection JSON ID "+e);return fh[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Z.between(this.$anchor,this.$head).getBookmark()}}ne.prototype.visible=!0;class A3{constructor(e,n){this.$from=e,this.$to=n}}let W1=!1;function q1(t){!W1&&!t.parent.inlineContent&&(W1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Z extends ne{constructor(e,n=e){q1(e),q1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ne.near(r);let i=e.resolve(n.map(this.anchor));return new Z(i.parent.inlineContent?i:r,r)}replace(e,n=B.empty){if(super.replace(e,n),n==B.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Z&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Z(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=ne.findFrom(n,r,!0)||ne.findFrom(n,-r,!0);if(s)n=s.$head;else return ne.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ne.findFrom(e,-r,!0)||ne.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Z(e,n)}}ne.jsonID("text",Z);class Jd{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Jd(e.map(this.anchor),e.map(this.head))}resolve(e){return Z.between(e.resolve(this.anchor),e.resolve(this.head))}}class q extends ne{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?ne.near(s):new q(s)}content(){return new B(j.from(this.node),0,0)}eq(e){return e instanceof q&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sy(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new q(e.resolve(n.anchor))}static create(e,n){return new q(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}q.prototype.visible=!1;ne.jsonID("node",q);class sy{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Jd(r,r):new sy(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&q.isSelectable(r)?new q(n):ne.near(n)}}class _n extends ne{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=B.empty){if(n==B.empty){e.delete(0,e.doc.content.size);let r=ne.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new _n(e)}map(e){return new _n(e)}eq(e){return e instanceof _n}getBookmark(){return O3}}ne.jsonID("all",_n);const O3={map(){return this},resolve(t){return new _n(t)}};function $s(t,e,n,r,i,s=!1){if(e.inlineContent)return Z.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&q.isSelectable(l))return q.create(t,n-(i<0?l.nodeSize:0))}else{let a=$s(t,l,n+i,i<0?l.childCount:0,i,s);if(a)return a}n+=l.nodeSize*i}return null}function K1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof nt||i instanceof it))return;let s=t.mapping.maps[r],o;s.forEach((l,a,u,c)=>{o==null&&(o=c)}),t.setSelection(ne.near(t.doc.resolve(o),n))}const J1=1,xu=2,G1=4;class M3 extends ZE{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|J1)&~xu,this.storedMarks=null,this}get selectionSet(){return(this.updated&J1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=xu,this}ensureMarks(e){return Ee.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&xu)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~xu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ee.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(ne.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=G1,this}get scrolledIntoView(){return(this.updated&G1)>0}}function Q1(t,e){return!e||!t?t:t.bind(e)}class wl{constructor(e,n,r){this.name=e,this.init=Q1(n.init,r),this.apply=Q1(n.apply,r)}}const j3=[new wl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wl("selection",{init(t,e){return t.selection||ne.atStart(e.doc)},apply(t){return t.selection}}),new wl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class hh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=j3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wl(r.key,r.spec.state,r))})}}class to{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,u=i?i[o].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new to(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new M3(this)}static create(e){let n=new hh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new to(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new hh(this.schema,e.plugins),r=n.fields,i=new to(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new hh(e.schema,e.plugins),s=new to(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=vi.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=ne.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=u.fromJSON.call(a,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function eC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=eC(i,e,{})),n[r]=i}return n}class yt{constructor(e){this.spec=e,this.props={},e.props&&eC(e.props,this,this.props),this.key=e.key?e.key.key:tC("plugin")}getState(e){return e[this.key]}}const ph=Object.create(null);function tC(t){return t in ph?t+"$"+ ++ph[t]:(ph[t]=0,t+"$")}class mn{constructor(e="key"){this.key=tC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ft=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ga=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let nm=null;const Er=function(t,e,n){let r=nm||(nm=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},P3=function(){nm=null},xs=function(t,e,n,r){return n&&(Y1(t,e,n,r,-1)||Y1(t,e,n,r,1))},I3=/^(img|br|input|textarea|hr)$/i;function Y1(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:En(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Ra(t)||I3.test(t.nodeName)||t.contentEditable=="false")return!1;e=ft(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?En(t):0}else return!1}}function En(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function R3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=En(t)}else if(t.parentNode&&!Ra(t))e=ft(t),t=t.parentNode;else return null}}function L3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ra(t))e=ft(t)+1,t=t.parentNode;else return null}}function D3(t,e,n){for(let r=e==0,i=e==En(t);r||i;){if(t==n)return!0;let s=ft(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==En(t)}}function Ra(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Gd=function(t){return t.focusNode&&xs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ji(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function z3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function F3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(En(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(En(r.startContainer),r.startOffset)}}}const cr=typeof navigator<"u"?navigator:null,X1=typeof document<"u"?document:null,Pi=cr&&cr.userAgent||"",rm=/Edge\/(\d+)/.exec(Pi),nC=/MSIE \d/.exec(Pi),im=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pi),tn=!!(nC||im||rm),ki=nC?document.documentMode:im?+im[1]:rm?+rm[1]:0,Kn=!tn&&/gecko\/(\d+)/i.test(Pi);Kn&&+(/Firefox\/(\d+)/.exec(Pi)||[0,0])[1];const sm=!tn&&/Chrome\/(\d+)/.exec(Pi),Et=!!sm,rC=sm?+sm[1]:0,Lt=!tn&&!!cr&&/Apple Computer/.test(cr.vendor),_o=Lt&&(/Mobile\/\w+/.test(Pi)||!!cr&&cr.maxTouchPoints>2),wn=_o||(cr?/Mac/.test(cr.platform):!1),$3=cr?/Win/.test(cr.platform):!1,_r=/Android \d/.test(Pi),La=!!X1&&"webkitFontSmoothing"in X1.documentElement.style,B3=La?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function U3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xr(t,e){return typeof t=="number"?t:t[e]}function H3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Z1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=ga(o)){if(o.nodeType!=1)continue;let l=o,a=l==s.body,u=a?U3(s):H3(l),c=0,d=0;if(e.top<u.top+xr(r,"top")?d=-(u.top-e.top+xr(i,"top")):e.bottom>u.bottom-xr(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+xr(i,"top")-u.top:e.bottom-u.bottom+xr(i,"bottom")),e.left<u.left+xr(r,"left")?c=-(u.left-e.left+xr(i,"left")):e.right>u.right-xr(r,"right")&&(c=e.right-u.right+xr(i,"right")),c||d)if(a)s.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,h=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let m=l.scrollLeft-f,g=l.scrollTop-h;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function V3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:iC(t.dom)}}function iC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ga(r));return e}function W3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;sC(n,r==0?0:r-e)}function sC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ds=null;function q3(t){if(t.setActive)return t.setActive();if(Ds)return t.focus(Ds);let e=iC(t);t.focus(Ds==null?{get preventScroll(){return Ds={preventScroll:!0},!0}}:void 0),Ds||(Ds=!1,sC(e,0))}function oC(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Er(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=o&&m.bottom>=l){o=Math.max(m.bottom,o),l=Math.min(m.top,l);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,c.nodeType==1&&g&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!a&&m.left<=e.left&&m.right>=e.left&&(a=c,u={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?K3(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:oC(n,i)}function K3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=qr(r,1);if(s.top!=s.bottom&&oy(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function oy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function J3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function G3(t,e,n){let{node:r,offset:i}=oC(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Q3(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&(!o&&a.left>r.left||a.top>r.top?i=l.posBefore:(!o&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function lC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(oy(e,u))return lC(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function Y3(t,e){let n=t.dom.ownerDocument,r,i=0,s=F3(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!oy(e,u)||(o=lC(t.dom,e,u),!o))return null}if(Lt)for(let u=o;r&&u;u=ga(u))u.draggable&&(r=void 0);if(o=J3(o,e),r){if(Kn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;La&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Q3(t,r,i,e))}l==null&&(l=G3(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function ev(t){return t.top<t.bottom||t.left<t.right}function qr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ev(r))return r}return Array.prototype.find.call(n,ev)||t.getBoundingClientRect()}const X3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aC(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=La||Kn;if(r.nodeType==3)if(o&&(X3.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=qr(Er(r,i,i),n);if(Kn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=qr(Er(r,i-1,i-1),-1);if(u.top==a.top){let c=qr(Er(r,i,i+1),-1);if(c.top!=a.top)return dl(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,dl(qr(Er(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==En(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return mh(a.getBoundingClientRect(),!1)}if(s==null&&i<En(r)){let a=r.childNodes[i];if(a.nodeType==1)return mh(a.getBoundingClientRect(),!0)}return mh(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==En(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Er(a,En(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return dl(qr(u,1),!1)}if(s==null&&i<En(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Er(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return dl(qr(u,-1),!0)}return dl(qr(r.nodeType==3?Er(r):r,-n),n>=0)}function dl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function uC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Z3(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return uC(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=aC(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Er(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const eF=/[\u0590-\u08ac]/;function tF(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return l?!eF.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:uC(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),v=m&&!h.contains(m.nodeType==1?m:m.parentNode)||a==m&&u==g;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),v}):r.pos==r.start()||r.pos==r.end()}let tv=null,nv=null,rv=!1;function nF(t,e,n){return tv==e&&nv==n?rv:(tv=e,nv=n,rv=n=="up"||n=="down"?Z3(t,e,n):tF(t,e,n))}const An=0,iv=1,Zi=2,dr=3;class Da{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=An,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ft(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof dC){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof cC&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ft(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ft(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(i==-1&&e<=u){let c=o+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=o;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ft(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=ft(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],v=m+g.size;if(s>m&&o<v)return g.setSelection(e-m-g.border,n-m-g.border,r,i);m=v}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((Kn||Lt)&&e==n){let{node:h,offset:m}=l;if(h.nodeType==3){if(d=!!(m&&h.nodeValue[m-1]==`
`),d&&m==h.nodeValue.length)for(let g=h,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(l=a={node:v.parentNode,offset:ft(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Kn&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&Lt)&&xs(l.node,l.offset,c.anchorNode,c.anchorOffset)&&xs(a.node,a.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||e==n)&&!d){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let m=l;l=a,a=m}let h=document.createRange();h.setEnd(a.node,a.offset),h.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,a=o-s.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?Zi:iv,e==l&&n==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=dr:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Zi:dr}r=o}this.dirty=Zi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Zi:iv;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class cC extends Da{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==An&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class rF extends Da{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class vs extends Da{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Ns.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new vs(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&dr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=dr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=An){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=An}}slice(e,n,r){let i=vs.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=lm(s,n,o,r)),e>0&&(s=lm(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bi extends Da{constructor(e,n,r,i,s,o,l,a,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],a,u=l&&l(n,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Ns.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=pC(c,r,n),u?a=new iF(e,n,r,i,c,d||null,f,u,s,o+1):n.isText?new Qd(e,n,r,i,c,f,s):new bi(e,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,n,r){return this.dirty==An&&e.eq(this.node)&&Oc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new oF(this,o&&o.node,e);uF(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?Ee.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(u,c,d,h,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Zi)&&(o&&this.protectLocalComposition(e,o),fC(this.contentDOM,this.children,e),_o&&cF(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Z)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=dF(this.node.content,o,r-n,i-n);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new rF(this,s,n,i);e.input.compositionNodes.push(o),this.children=lm(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==dr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=An}updateOuterDeco(e){if(Oc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=hC(this.dom,this.nodeDOM,om(this.outerDeco,this.node,n),om(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function sv(t,e,n,r,i){pC(r,e,t);let s=new bi(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Qd extends bi{constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==dr||this.dirty!=An&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=An||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=An,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Qd(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=dr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class dC extends Da{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==An&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class iF extends bi{constructor(e,n,r,i,s,o,l,a,u,c){super(e,n,r,i,s,o,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==dr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function fC(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=ov(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof vs){let a=r?r.previousSibling:t.lastChild;fC(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=ov(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Dl=function(t){t&&(this.nodeName=t)};Dl.prototype=Object.create(null);const es=[new Dl];function om(t,e,n){if(t.length==0)return es;let r=n?es[0]:new Dl,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Dl(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&i.length==1&&i.push(r=new Dl(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function hC(t,e,n,r){if(n==es&&r==es)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=es[0]),i=a}sF(i,l||es[0],o)}return i}function sF(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function pC(t,e,n){return hC(t,t,es,om(e,n,t.nodeType!=1))}function Oc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function ov(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class oF{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=An,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=vs.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==dr&&o.dom==o.contentDOM&&(o.dirty=Zi),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof bi){let u=this.preMatch.matched.get(a);if(u!=null&&u!=s)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=dr&&Oc(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Zi,d.updateChildren(i,o+1),d.dirty=An),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Oc(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=bi.create(this.top,n,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let o=bi.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new cC(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof vs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Qd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Lt||Et)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new dC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lF(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof vs)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function aF(t,e){return t.type.side-e.type.side}function uF(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let v=i[o++];v.widget&&(c?(d||(d=[c])).push(v):c=v)}if(c)if(d){d.sort(aF);for(let v=0;v<d.length;v++)n(d[v],u,!!a)}else n(c,u,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(u<t.childCount)h=u,f=t.child(u++);else break;for(let v=0;v<l.length;v++)l[v].to<=s&&l.splice(v--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let v=m;o<i.length&&i[o].from<v&&(v=i[o].from);for(let y=0;y<l.length;y++)l[y].to<v&&(v=l[y].to);v<m&&(a=f.cut(v-s),f=f.cut(0,v-s),m=v,h=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?l.filter(v=>!v.inline):l.slice();r(f,g,e.forChild(s,f),h),s=m}}function cF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function dF(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;a+=u.text}if(s>=n){if(s>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function lm(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],u=l,c=l+=a.size;u>=n||c<=e?s.push(a):(u<e&&s.push(a.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(a.slice(n-u,a.size,r)))}return s}function ly(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(Gd(n)){for(a=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&q.isSelectable(d)&&i.parent&&!(d.isInline&&D3(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new q(o==f?l:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[a,o]=f==t.state.selection.anchor?[f,d]:[d,f],l=r.resolve(o)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!u){let d=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=ay(t,c,l,d)}return u}function mC(t){return t.editable?t.hasFocus():yC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Or(t,e=!1){let n=t.state.selection;if(gC(t,n),!!mC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Et){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&xs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)hF(t);else{let{anchor:r,head:i}=n,s,o;lv&&!(n instanceof Z)&&(n.$from.parent.inlineContent||(s=av(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=av(t,n.to))),t.docView.setSelection(r,i,t,e),lv&&(s&&uv(s),o&&uv(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&fF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const lv=Lt||Et&&rC<63;function av(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Lt&&i&&i.contentEditable=="false")return gh(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return gh(i);if(s)return gh(s)}}function gh(t){return t.contentEditable="true",Lt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function uv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function fF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function hF(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,ft(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&tn&&ki<=11&&(r.disabled=!0,r.disabled=!1)}function gC(t,e){if(e instanceof q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cv(t)}function cv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ay(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Z.between(e,n,r)}function dv(t){return t.editable&&!t.hasFocus()?!1:yC(t)}function yC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function pF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return xs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function am(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ne.findFrom(s,e)}function Qr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function fv(t,e,n){let r=t.state.selection;if(r instanceof Z)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Qr(t,new Z(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=am(t.state,e);return i&&i instanceof q?Qr(t,i):!1}else if(!(wn&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?q.isSelectable(s)?Qr(t,new q(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):La?Qr(t,new Z(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof q&&r.node.isInline)return Qr(t,new Z(e>0?r.$to:r.$from));{let i=am(t.state,e);return i?Qr(t,i):!1}}}function Mc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function zl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function zs(t,e){return e<0?mF(t):gF(t)}function mF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Kn&&n.nodeType==1&&r<Mc(n)&&zl(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(zl(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(xC(n))break;{let l=n.previousSibling;for(;l&&zl(l,-1);)i=n.parentNode,s=ft(l),l=l.previousSibling;if(l)n=l,r=Mc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?um(t,n,r):i&&um(t,i,s)}function gF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Mc(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(zl(l,1))s=n,o=++r;else break}else{if(xC(n))break;{let l=n.nextSibling;for(;l&&zl(l,1);)s=l.parentNode,o=ft(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Mc(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&um(t,s,o)}function xC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yF(t,e){for(;t&&e==t.childNodes.length&&!Ra(t);)e=ft(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function xF(t,e){for(;t&&!e&&!Ra(t);)e=ft(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function um(t,e,n){if(e.nodeType!=3){let s,o;(o=yF(e,n))?(e=o,n=0):(s=xF(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Gd(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Or(t)},50)}function hv(t,e){let n=t.state.doc.resolve(e);if(!(Et||$3)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function pv(t,e,n){let r=t.state.selection;if(r instanceof Z&&!r.empty||n.indexOf("s")>-1||wn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=am(t.state,e);if(o&&o instanceof q)return Qr(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof _n?ne.near(o,e):ne.findFrom(o,e);return l?Qr(t,l):!1}return!1}function mv(t,e){if(!(t.state.selection instanceof Z))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function gv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function vF(t){if(!Lt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;gv(t,r,"true"),setTimeout(()=>gv(t,r,"false"),20)}return!1}function wF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function kF(t,e){let n=e.keyCode,r=wF(e);if(n==8||wn&&n==72&&r=="c")return mv(t,-1)||zs(t,-1);if(n==46&&!e.shiftKey||wn&&n==68&&r=="c")return mv(t,1)||zs(t,1);if(n==13||n==27)return!0;if(n==37||wn&&n==66&&r=="c"){let i=n==37?hv(t,t.state.selection.from)=="ltr"?-1:1:-1;return fv(t,i,r)||zs(t,i)}else if(n==39||wn&&n==70&&r=="c"){let i=n==39?hv(t,t.state.selection.from)=="ltr"?1:-1:1;return fv(t,i,r)||zs(t,i)}else{if(n==38||wn&&n==80&&r=="c")return pv(t,-1,r)||zs(t,-1);if(n==40||wn&&n==78&&r=="c")return vF(t)||pv(t,1,r)||zs(t,1);if(r==(wn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vC(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Ns.fromSchema(t.state.schema),l=CC(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=EC[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let m=l.createElement(c[h]);for(;a.firstChild;)m.appendChild(a.firstChild);a.appendChild(m),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function wC(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(r||s||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new B(j.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):B.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:h}=t.state,m=Ns.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=o.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=CF(n),La&&TF(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||wi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!bF.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=NF(yv(l,+c[1],+c[2]),c[4]);else if(l=B.maxOpen(SF(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=yv(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const bF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function SF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&s.length&&bC(a,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=SC(o[o.length-1],s.length));let c=kC(l,a);o.push(c),i=i.matchType(c.type),s=a}}),o)return j.from(o)}return t}function kC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,j.from(t));return t}function bC(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=bC(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(j.from(kC(n,t,i+1))))}}function SC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,SC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(j.empty,!0);return t.copy(n.append(r))}function cm(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=cm(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(j.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function yv(t,e,n){return e<t.openStart&&(t=new B(cm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new B(cm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const EC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let xv=null;function CC(){return xv||(xv=document.implementation.createHTMLDocument("title"))}let yh=null;function EF(t){let e=window.trustedTypes;return e?(yh||(yh=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),yh.createHTML(t)):t}function CF(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=CC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&EC[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=EF(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function TF(t){let e=t.querySelectorAll(Et?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function NF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=j.from(a.create(r[l+1],i)),s++,o++}return new B(i,s,o)}const Dt={},zt={},_F={touchstart:!0,touchmove:!0};class AF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function OF(t){for(let e in Dt){let n=Dt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{jF(t,r)&&!uy(t,r)&&(t.editable||!(r.type in zt))&&n(t,r)},_F[e]?{passive:!0}:void 0)}Lt&&t.dom.addEventListener("input",()=>null),dm(t)}function ui(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function MF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function dm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>uy(t,r))})}function uy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function jF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function PF(t,e){!uy(t,e)&&Dt[e.type]&&(t.editable||!(e.type in zt))&&Dt[e.type](t,e)}zt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!NC(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_r&&Et&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_o&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ji(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||kF(t,n)?n.preventDefault():ui(t,"key")};zt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zt.keypress=(t,e)=>{let n=e;if(NC(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||wn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Z)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Yd(t){return{left:t.clientX,top:t.clientY}}function IF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function cy(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function mo(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function RF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&q.isSelectable(r)?(mo(t,new q(n)),!0):!1}function LF(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof q&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(q.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(mo(t,q.create(t.state.doc,i)),!0):!1}function DF(t,e,n,r,i){return cy(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?LF(t,n):RF(t,n))}function zF(t,e,n,r){return cy(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function FF(t,e,n,r){return cy(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||$F(t,n,r)}function $F(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(mo(t,Z.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)mo(t,Z.create(r,l+1,l+1+o.content.size));else if(q.isSelectable(o))mo(t,q.create(r,l));else continue;return!0}}function dy(t){return jc(t)}const TC=wn?"metaKey":"ctrlKey";Dt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=dy(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&IF(n,t.input.lastClick)&&!n[TC]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Yd(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new BF(t,o,n,!!r)):(s=="doubleClick"?zF:FF)(t,o.pos,o.inside,n)?n.preventDefault():ui(t,"pointer"))};class BF{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[TC],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof q&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ui(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Or(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Yd(e))),this.updateAllowDefault(e),this.allowDefault||!n?ui(this.view,"pointer"):DF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Lt&&this.mightDrag&&!this.mightDrag.node.isAtom||Et&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(mo(this.view,ne.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ui(this.view,"pointer")}move(e){this.updateAllowDefault(e),ui(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Dt.touchstart=t=>{t.input.lastTouch=Date.now(),dy(t),ui(t,"pointer")};Dt.touchmove=t=>{t.input.lastTouch=Date.now(),ui(t,"pointer")};Dt.contextmenu=t=>dy(t);function NC(t,e){return t.composing?!0:Lt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const UF=_r?5e3:-1;zt.compositionstart=zt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Z&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),jc(t,!0),t.markCursor=null;else if(jc(t,!e.selection.empty),Kn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}_C(t,UF)};zt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,_C(t,20))};function _C(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>jc(t),e))}function AC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=VF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function HF(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=R3(e.focusNode,e.focusOffset),r=L3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function VF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function jc(t,e=!1){if(!(_r&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),AC(t),e||t.docView&&t.docView.dirty){let n=ly(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function WF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ya=tn&&ki<15||_o&&B3<604;Dt.copy=zt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=ya?null:n.clipboardData,o=r.content(),{dom:l,text:a}=vC(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):WF(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function KF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xa(t,r.value,null,i,e):xa(t,r.textContent,r.innerHTML,i,e)},50)}function xa(t,e,n,r,i){let s=wC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,s||B.empty)))return!0;if(!s)return!1;let o=qF(s),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function OC(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}zt.paste=(t,e)=>{let n=e;if(t.composing&&!_r)return;let r=ya?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&xa(t,OC(r),r.getData("text/html"),i,n)?n.preventDefault():KF(t,n)};class MC{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const jC=wn?"altKey":"ctrlKey";Dt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Yd(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof q?i.to-1:i.to))){if(r&&r.mightDrag)o=q.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=q.create(t.state.doc,d.posBefore))}}let l=(o||t.state.selection).content(),{dom:a,text:u,slice:c}=vC(t,l);(!n.dataTransfer.files.length||!Et||rC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ya?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",ya||n.dataTransfer.setData("text/plain",u),t.dragging=new MC(c,!n[jC],o)};Dt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zt.dragover=zt.dragenter=(t,e)=>e.preventDefault();zt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Yd(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=wC(t,OC(n.dataTransfer),ya?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[jC]);if(t.someProp("handleDrop",m=>m(t,n,o||B.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?JE(t.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let u=t.state.tr;if(l){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let c=u.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&q.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new q(h));else{let m=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((g,v,y,x)=>m=x),u.setSelection(ay(t,h,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Dt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Or(t)},20))};Dt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Dt.beforeinput=(t,e)=>{if(Et&&_r&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ji(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in zt)Dt[t]=zt[t];function va(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Pc{constructor(e,n){this.toDOM=e,this.spec=n||as,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Tn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Pc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&va(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Si{constructor(e,n){this.attrs=e,this.spec=n||as}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Tn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Si&&va(this.attrs,e.attrs)&&va(this.spec,e.spec)}static is(e){return e.type instanceof Si}destroy(){}}class fy{constructor(e,n){this.attrs=e,this.spec=n||as}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Tn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof fy&&va(this.attrs,e.attrs)&&va(this.spec,e.spec)}destroy(){}}class Tn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Tn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Tn(e,e,new Pc(n,r))}static inline(e,n,r,i){return new Tn(e,n,new Si(r,i))}static node(e,n,r,i){return new Tn(e,n,new fy(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Si}get widget(){return this.type instanceof Pc}}const Bs=[],as={};class Qe{constructor(e,n){this.local=e.length?e:Bs,this.children=n.length?n:Bs}static create(e,n){return n.length?Ic(n,e,0,as):kt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==kt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||as)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?JF(this.children,o||[],e,n,r,i,s):o?new Qe(o.sort(us),Bs):kt}add(e,n){return n.length?this==kt?Qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,a)=>{let u=a+r,c;if(c=IC(n,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,c,u+1):i.splice(s,0,a,a+l.nodeSize,Ic(c,l,u+1,as)),s+=3}});let o=PC(s?RC(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Qe(o.length?this.local.concat(o).sort(us):this.local,i||this.children)}remove(e){return e.length==0||this==kt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,a=r[s+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=kt?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Qe(i,r):kt}forChild(e,n){if(this==kt)return this;if(n.isLeaf)return Qe.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof Si){let u=Math.max(s,a.from)-s,c=Math.min(o,a.to)-s;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Qe(i.sort(us),Bs);return r?new ni([l,r]):l}return r||kt}eq(e){if(this==e)return!0;if(!(e instanceof Qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return hy(this.localsInner(e))}localsInner(e){if(this==kt)return Bs;if(e.inlineContent||!this.local.some(Si.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Si||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Qe.empty=new Qe([],[]);Qe.removeOverlap=hy;const kt=Qe.empty;class ni{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,as));return ni.from(r)}forChild(e,n){if(n.isLeaf)return Qe.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=kt&&(s instanceof ni?r=r.concat(s.members):r.push(s))}return ni.from(r)}eq(e){if(!(e instanceof ni)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?hy(r?n:n.sort(us)):Bs}static from(e){switch(e.length){case 0:return kt;case 1:return e[0];default:return new ni(e.every(n=>n instanceof Qe)?e:e.reduce((n,r)=>n.concat(r instanceof Qe?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function JF(t,e,n,r,i,s,o){let l=t.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,m,g)=>{let v=g-m-(h-f);for(let y=0;y<l.length;y+=3){let x=l[y+1];if(x<0||f>x+c-d)continue;let w=l[y]+c-d;h>=w?l[y+1]=f<=w?-2:-1:f>=c&&v&&(l[y]+=v,l[y+1]+=v)}d+=v}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+s),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+s,-1),h=f-i,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==h){let y=l[u+2].mapInner(n,v,c+1,t[u]+s+1,o);y!=kt?(l[u]=d,l[u+1]=h,l[u+2]=y):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=GF(l,t,e,n,i,s,o),c=Ic(u,r,0,o);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Qe(e.sort(us),l)}function PC(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Tn(i.from+e,i.to+e,i.type))}return n}function GF(t,e,n,r,i,s,o){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+s+1);return n}function IC(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function RC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ic(t,e,n,r){let i=[],s=!1;e.forEach((l,a)=>{let u=IC(t,l,a+n);if(u){s=!0;let c=Ic(u,l,n+a+1,r);c!=kt&&i.push(a,a+l.nodeSize,c)}});let o=PC(s?RC(t):t,-n).sort(us);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Qe(o,i):kt}function us(t,e){return t.from-e.from||t.to-e.to}function hy(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),vv(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),vv(e,i,r.copy(s.from,r.to)));break}}}return e}function vv(t,e,n){for(;e<t.length&&us(n,t[e])>0;)e++;t.splice(e,0,n)}function xh(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kt&&e.push(r)}),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),ni.from(e)}const QF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},YF=tn&&ki<=11;class XF{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ZF{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new XF,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);tn&&ki<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),YF&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,QF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dv(this.view)){if(this.suppressingSelectionUpdates)return Or(this.view);if(tn&&ki<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&xs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=ga(s))n.add(s);for(let s=e.anchorNode;s;s=ga(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&dv(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(l=!0))}if(Kn&&a.length){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||n5(e,d)!=h)&&f.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Gd(r)&&(u=ly(e))&&u.eq(ne.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Or(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),e5(e)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Or(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(tn&&ki<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?ft(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?ft(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let wv=new WeakMap,kv=!1;function e5(t){if(!wv.has(t)&&(wv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Kn,kv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kv=!0}}function bv(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return xs(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function t5(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return bv(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?bv(t,n):null}function n5(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function r5(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Gd(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Et&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let y=r.childNodes[v-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){s=v;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||wi.fromSchema(t.state.schema),h=d.resolve(o),m=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:i5,context:h});if(u&&u[0].pos!=null){let v=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=v),m={anchor:v+o,head:y+o}}return{doc:g,sel:m,from:o,to:l}}function i5(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Lt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Lt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const s5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function o5(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=ly(t,L);if(_&&!t.state.selection.eq(_)){if(Et&&_r&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",U=>U(t,Ji(13,"Enter"))))return;let D=t.state.tr.setSelection(_);L=="pointer"?D.setMeta("pointer",!0):L=="key"&&D.scrollIntoView(),s&&D.setMeta("composition",s),t.dispatch(D)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=r5(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=u5(d.content,u.doc.content,u.from,f,h);if(m&&t.input.domChangeCount++,(_o&&t.input.lastIOSEnter>Date.now()-225||_r)&&i.some(L=>L.nodeType==1&&!s5.test(L.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",L=>L(t,Ji(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&a instanceof Z&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let L=Sv(t,t.state.doc,u.sel);if(L&&!L.eq(t.state.selection)){let _=t.state.tr.setSelection(L);s&&_.setMeta("composition",s),t.dispatch(_)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Z&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),tn&&ki<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),v=u.doc.resolveNoCache(m.endB-u.from),y=c.resolve(m.start),x=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA,w;if((_o&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!x&&g.pos<u.doc.content.size&&!g.sameParent(v)&&(w=ne.findFrom(u.doc.resolve(g.pos+1),1,!0))&&w.head==v.pos)&&t.someProp("handleKeyDown",L=>L(t,Ji(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&a5(c,m.start,m.endA,g,v)&&t.someProp("handleKeyDown",L=>L(t,Ji(8,"Backspace")))){_r&&Et&&t.domObserver.suppressSelectionUpdates();return}Et&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),_r&&!x&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,v=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Ji(13,"Enter"))})},20));let E=m.start,C=m.endA,S,O,M;if(x){if(g.pos==v.pos)tn&&ki<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Or(t),20)),S=t.state.tr.delete(E,C),O=c.resolve(m.start).marksAcross(c.resolve(m.endA));else if(m.endA==m.endB&&(M=l5(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))S=t.state.tr,M.type=="add"?S.addMark(E,C,M.mark):S.removeMark(E,C,M.mark);else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let L=g.parent.textBetween(g.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",_=>_(t,E,C,L)))return;S=t.state.tr.insertText(L,E,C)}}if(S||(S=t.state.tr.replace(E,C,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let L=Sv(t,S.doc,u.sel);L&&!(Et&&t.composing&&L.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(L.head==E||L.head==S.mapping.map(C)-1)||tn&&L.empty&&L.head==E)&&S.setSelection(L)}O&&S.ensureMarks(O),s&&S.setMeta("composition",s),t.dispatch(S.scrollIntoView())}function Sv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ay(t,e.resolve(n.anchor),e.resolve(n.head))}function l5(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(j.from(u).eq(t))return{mark:l,type:o}}function a5(t,e,n,r,i){if(n-e<=i.pos-r.pos||vh(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(vh(s,!0,!0));return!o.parent.isTextblock||o.pos>n||vh(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function vh(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function u5(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&t.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&Ev(e.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<t.size&&Ev(t.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function Ev(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class c5{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new AF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Av),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Nv(this),Tv(this),this.nodeViews=_v(this),this.docView=sv(this.state.doc,Cv(this),xh(this),this.dom,this),this.domObserver=new ZF(this,(r,i,s,o)=>o5(this,r,i,s,o)),this.domObserver.start(),OF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&dm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Av),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(AC(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=_v(this);f5(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&dm(this),this.editable=Nv(this),Tv(this);let a=xh(this),u=Cv(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&V3(this);if(o){this.domObserver.stop();let h=d&&(tn||Et)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&d5(i.selection,e.selection);if(d){let m=Et?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=HF(this)),(s||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=sv(e.doc,u,a,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&pF(this))?Or(this,h):(gC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&W3(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof q){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Z1(this,n.getBoundingClientRect(),e)}else Z1(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new MC(e.slice,e.move,i<0?void 0:q.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(tn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&q3(this.dom),Or(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Y3(this,e)}coordsAtPos(e,n=1){return aC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return nF(this,n||this.state,e)}pasteHTML(e,n){return xa(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return xa(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(MF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,P3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return PF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Lt&&this.root.nodeType===11&&z3(this.dom.ownerDocument)==this.dom&&t5(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Cv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Tn.node(0,t.state.doc.content.size,e)]}function Tv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Tn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Nv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function d5(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function _v(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function f5(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Av(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ti={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},h5=typeof navigator<"u"&&/Mac/.test(navigator.platform),p5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ht=0;ht<10;ht++)Ti[48+ht]=Ti[96+ht]=String(ht);for(var ht=1;ht<=24;ht++)Ti[ht+111]="F"+ht;for(var ht=65;ht<=90;ht++)Ti[ht]=String.fromCharCode(ht+32),Rc[ht]=String.fromCharCode(ht);for(var wh in Ti)Rc.hasOwnProperty(wh)||(Rc[wh]=Ti[wh]);function m5(t){var e=h5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||p5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Rc:Ti)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const g5=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function y5(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))g5?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function x5(t){let e=Object.create(null);for(let n in t)e[y5(n)]=t[n];return e}function kh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function v5(t){return new yt({props:{handleKeyDown:LC(t)}})}function LC(t){let e=x5(t);return function(n,r){let i=m5(r),s,o=e[kh(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[kh(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Ti[r.keyCode])&&s!=i){let l=e[kh(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const w5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function DC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const k5=(t,e,n)=>{let r=DC(t,n);if(!r)return!1;let i=py(r);if(!i){let o=r.blockRange(),l=o&&Uo(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(BC(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ao(s,"end")||q.isSelectable(s)))for(let o=r.depth;;o--){let l=Kd(t.doc,r.before(o),r.after(o),B.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Ao(s,"end")?ne.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):q.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},b5=(t,e,n)=>{let r=DC(t,n);if(!r)return!1;let i=py(r);return i?zC(t,i,e):!1},S5=(t,e,n)=>{let r=FC(t,n);if(!r)return!1;let i=my(r);return i?zC(t,i,e):!1};function zC(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=Kd(t.doc,s,a,B.empty);if(!u||u.from!=s||u instanceof nt&&u.slice.size>=a-s)return!1;if(n){let c=t.tr.step(u);c.setSelection(Z.create(c.doc,s)),n(c.scrollIntoView())}return!0}function Ao(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const E5=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=py(r)}let o=s&&s.nodeBefore;return!o||!q.isSelectable(o)?!1:(e&&e(t.tr.setSelection(q.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function py(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function FC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const C5=(t,e,n)=>{let r=FC(t,n);if(!r)return!1;let i=my(r);if(!i)return!1;let s=i.nodeAfter;if(BC(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ao(s,"start")||q.isSelectable(s))){let o=Kd(t.doc,r.before(),r.after(),B.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ao(s,"start")?ne.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):q.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},T5=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=my(r)}let o=s&&s.nodeAfter;return!o||!q.isSelectable(o)?!1:(e&&e(t.tr.setSelection(q.create(t.doc,s.pos)).scrollIntoView()),!0)};function my(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const N5=(t,e)=>{let n=t.selection,r=n instanceof q,i;if(r){if(n.node.isTextblock||!ji(t.doc,n.from))return!1;i=n.from}else if(i=qd(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(q.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},_5=(t,e)=>{let n=t.selection,r;if(n instanceof q){if(n.node.isTextblock||!ji(t.doc,n.to))return!1;r=n.to}else if(r=qd(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},A5=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Uo(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},O5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function $C(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const M5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=$C(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(ne.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},j5=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof _n||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=$C(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(Z.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},P5=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ho(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Uo(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},I5=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(q.create(t.doc,i))),!0)};function R5(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ji(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function BC(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,a=i.type.spec.isolating||s.type.spec.isolating;if(!a&&R5(t,e,n))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,m=j.empty;for(let y=o.length-1;y>=0;y--)m=j.from(o[y].create(null,m));m=j.from(i.copy(m));let g=t.tr.step(new it(e.pos-1,h,e.pos,h,new B(m,1,0),o.length,!0)),v=g.doc.resolve(h+2*o.length);v.nodeAfter&&v.nodeAfter.type==i.type&&ji(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&a?null:ne.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&Uo(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(u&&Ao(s,"start",!0)&&Ao(i,"end")){let h=i,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=s,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let y=j.empty;for(let w=m.length-1;w>=0;w--)y=j.from(m[w].copy(y));let x=t.tr.step(new it(e.pos-m.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new B(y,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function UC(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Z.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const L5=UC(-1),D5=UC(1);function z5(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&iy(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Ov(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];s.setBlockType(l,a,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function F5(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let l=r?n.tr:null;return $5(l,o,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function $5(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=o.resolve(e.start-2);s=new _c(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new _c(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=iy(s,n,r,e);return l?(t&&B5(t,e,l,i,n),!0):!1}function B5(t,e,n,r,i){let s=j.empty;for(let c=n.length-1;c>=0;c--)s=j.from(n[c].type.create(n[c].attrs,s));t.step(new it(e.start-(r?2:0),e.end,e.start,e.end,new B(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let l=n.length-o,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&ho(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function U5(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?H5(e,n,t,s):V5(e,n,s):!0:!1}}function H5(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new it(s-1,o,s,o,new B(j.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new _c(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=Uo(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(s,-1)-1;return ji(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function V5(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(l?0:1),c+1,o.content.append(a?j.empty:j.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new it(d-(l?1:0),f+(a?1:0),d+1,f-1,new B((l?j.empty:j.from(i.copy(j.empty))).append(a?j.empty:j.from(i.copy(j.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function W5(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=j.from(u?t.create():null),d=new B(j.from(t.create(null,j.from(l.type.create(null,c)))),u?3:1,0),f=s.start,h=s.end;n(e.tr.step(new it(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Xd(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Zd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],a=!!e,u=e||s.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const v=this.buildProps(u,n),y=h(...g)(v);return l.push(y),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:Xd({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class q5{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function V(t,e,n){return t.config[e]===void 0&&t.parent?V(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?V(t.parent,e,n):null}):t.config[e]}function ef(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function HC(t){const e=[],{nodeExtensions:n,markExtensions:r}=ef(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},a=V(o,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...s,...h}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=V(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:c,attribute:f})})}),e}function ot(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function gt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?s.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else if(i==="style"){const l=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;a.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),l.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Lc(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>gt(n,r),{})}function VC(t){return typeof t=="function"}function oe(t,e=void 0,...n){return VC(t)?e?t.bind(e)(...n):t(...n):t}function K5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function J5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Mv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):J5(n.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function jv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&K5(n)?!1:n!=null))}function G5(t,e){var n;const r=HC(t),{nodeExtensions:i,markExtensions:s}=ef(t),o=(n=i.find(u=>V(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(y=>y.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((y,x)=>{const w=V(x,"extendNodeSchema",d);return{...y,...w?w(u):{}}},{}),h=jv({...f,content:oe(V(u,"content",d)),marks:oe(V(u,"marks",d)),group:oe(V(u,"group",d)),inline:oe(V(u,"inline",d)),atom:oe(V(u,"atom",d)),selectable:oe(V(u,"selectable",d)),draggable:oe(V(u,"draggable",d)),code:oe(V(u,"code",d)),whitespace:oe(V(u,"whitespace",d)),linebreakReplacement:oe(V(u,"linebreakReplacement",d)),defining:oe(V(u,"defining",d)),isolating:oe(V(u,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),m=oe(V(u,"parseHTML",d));m&&(h.parseDOM=m.map(y=>Mv(y,c)));const g=V(u,"renderHTML",d);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:Lc(y,c)}));const v=V(u,"renderText",d);return v&&(h.toText=v),[u.name,h]})),a=Object.fromEntries(s.map(u=>{const c=r.filter(v=>v.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((v,y)=>{const x=V(y,"extendMarkSchema",d);return{...v,...x?x(u):{}}},{}),h=jv({...f,inclusive:oe(V(u,"inclusive",d)),excludes:oe(V(u,"excludes",d)),group:oe(V(u,"group",d)),spanning:oe(V(u,"spanning",d)),code:oe(V(u,"code",d)),attrs:Object.fromEntries(c.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),m=oe(V(u,"parseHTML",d));m&&(h.parseDOM=m.map(v=>Mv(v,c)));const g=V(u,"renderHTML",d);return g&&(h.toDOM=v=>g({mark:v,HTMLAttributes:Lc(v,c)})),[u.name,h]}));return new DE({topNode:o,nodes:l,marks:a})}function bh(t,e){return e.nodes[t]||e.marks[t]||null}function Pv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function gy(t,e){const n=Ns.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const Q5=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-s))}),n};function yy(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class tf{constructor(e){this.find=e.find,this.handler=e.handler}}const Y5=(t,e)=>{if(yy(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function vu(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=Q5(u)+s;return o.forEach(f=>{if(c)return;const h=Y5(d,f.find);if(!h)return;const m=a.state.tr,g=Xd({state:a.state,transaction:m}),v={from:r-(h[0].length-s.length),to:i},{commands:y,chain:x,can:w}=new Zd({editor:n,state:g});f.handler({state:g,range:v,match:h,commands:y,chain:x,can:w})===null||!m.steps.length||(m.setMeta(l,{transform:m,from:r,to:i,text:s}),a.dispatch(m),c=!0)}),c}function X5(t){const{editor:e,rules:n}=t,r=new yt({state:{init(){return null},apply(i,s,o){const l=i.getMeta(r);if(l)return l;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:c}=a;typeof c=="string"?c=c:c=gy(j.from(c),o.schema);const{from:d}=a,f=d+c.length;vu({editor:e,from:d,to:f,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return vu({editor:e,from:s,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&vu({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?vu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Z5(t){return Object.prototype.toString.call(t).slice(8,-1)}function wu(t){return Z5(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function nf(t,e){const n={...t};return wu(t)&&wu(e)&&Object.keys(e).forEach(r=>{wu(e[r])&&wu(t[r])?n[r]=nf(t[r],e[r]):n[r]=e[r]}),n}class fr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=oe(V(this,"addOptions",{name:this.name}))),this.storage=oe(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>nf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new fr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=oe(V(n,"addOptions",{name:n.name})),n.storage=oe(V(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function e$(t){return typeof t=="number"}class t${constructor(e){this.find=e.find,this.handler=e.handler}}const n$=(t,e,n)=>{if(yy(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function r$(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:a,chain:u,can:c}=new Zd({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,m),v=Math.min(i,m+h.content.size),y=h.textBetween(g-m,v-m,void 0,"");n$(y,s.find,o).forEach(w=>{if(w.index===void 0)return;const E=g+w.index+1,C=E+w[0].length,S={from:n.tr.mapping.map(E),to:n.tr.mapping.map(C)},O=s.handler({state:n,range:S,match:w,commands:a,chain:u,can:c,pasteEvent:o,dropEvent:l});d.push(O)})}),d.every(h=>h!==null)}let ku=null;const i$=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function s$(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const a=({state:c,from:d,to:f,rule:h,pasteEvt:m})=>{const g=c.tr,v=Xd({state:c,transaction:g});if(!(!r$({editor:e,state:v,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:m,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(c=>new yt({view(d){const f=m=>{var g;r=!((g=d.dom.parentElement)===null||g===void 0)&&g.contains(m.target)?d.dom.parentElement:null,r&&(ku=e)},h=()=>{ku&&(ku=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=r===d.dom.parentElement,l=f,!s){const h=ku;h&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var h;const m=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,v=m.getMeta("uiEvent")==="drop"&&!s,y=m.getMeta("applyPasteRules"),x=!!y;if(!g&&!v&&!x)return;if(x){let{text:C}=y;typeof C=="string"?C=C:C=gy(j.from(C),h.schema);const{from:S}=y,O=S+C.length,M=i$(C);return a({rule:c,state:h,from:S,to:{b:O},pasteEvt:M})}const w=f.doc.content.findDiffStart(h.doc.content),E=f.doc.content.findDiffEnd(h.doc.content);if(!(!e$(w)||!E||w===E.b))return a({rule:c,state:h,from:w,to:E,pasteEvt:o})}}))}function o$(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class no{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=no.resolve(e),this.schema=G5(this.extensions,n),this.setupExtensions()}static resolve(e){const n=no.sort(no.flatten(e)),r=o$(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=V(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=V(r,"priority")||100,o=V(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:bh(n.name,this.schema)},i=V(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=no.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:bh(o.name,this.schema)},a=[],u=V(o,"addKeyboardShortcuts",l);let c={};if(o.type==="mark"&&V(o,"exitable",l)&&(c.ArrowRight=()=>fr.handleExit({editor:e,mark:o})),u){const g=Object.fromEntries(Object.entries(u()).map(([v,y])=>[v,()=>y({editor:e})]));c={...c,...g}}const d=v5(c);a.push(d);const f=V(o,"addInputRules",l);Pv(o,e.options.enableInputRules)&&f&&r.push(...f());const h=V(o,"addPasteRules",l);Pv(o,e.options.enablePasteRules)&&h&&i.push(...h());const m=V(o,"addProseMirrorPlugins",l);if(m){const g=m();a.push(...g)}return a}).flat();return[X5({editor:e,rules:r}),...s$({editor:e,rules:i}),...s]}get attributes(){return HC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ef(this.extensions);return Object.fromEntries(n.filter(r=>!!V(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:ot(r.name,this.schema)},o=V(r,"addNodeView",s);if(!o)return[];const l=(a,u,c,d,f)=>{const h=Lc(a,i);return o()({node:a,view:u,getPos:c,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:h})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:bh(e.name,this.schema)};e.type==="mark"&&(!((n=oe(V(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=V(e,"onBeforeCreate",r),s=V(e,"onCreate",r),o=V(e,"onUpdate",r),l=V(e,"onSelectionUpdate",r),a=V(e,"onTransaction",r),u=V(e,"onFocus",r),c=V(e,"onBlur",r),d=V(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class Tt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=oe(V(this,"addOptions",{name:this.name}))),this.storage=oe(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>nf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Tt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=oe(V(n,"addOptions",{name:n.name})),n.storage=oe(V(n,"addStorage",{name:n.name,options:n.options})),n}}function WC(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(r,i,(a,u,c,d)=>{var f;a.isBlock&&u>r&&(l+=s);const h=o==null?void 0:o[a.type.name];if(h)return c&&(l+=h({node:a,pos:u,parent:c,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),l}function qC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const l$=Tt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new yt({key:new mn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),l=Math.max(...s.map(c=>c.$to.pos)),a=qC(n);return WC(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),a$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),u$=(t=!1)=>({commands:e})=>e.setContent("",t),c$=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const m=Uo(h);if(l.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},d$=t=>e=>t(e),f$=()=>({state:t,dispatch:e})=>j5(t,e),h$=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Z(r.doc.resolve(o-1))),!0},p$=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),a=i.after(s);t.delete(l,a).scrollIntoView()}return!0}return!1},m$=t=>({tr:e,state:n,dispatch:r})=>{const i=ot(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),u=s.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},g$=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},y$=()=>({state:t,dispatch:e})=>w5(t,e),x$=()=>({commands:t})=>t.keyboardShortcut("Enter"),v$=()=>({state:t,dispatch:e})=>M5(t,e);function Dc(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:yy(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function KC(t,e,n={}){return t.find(r=>r.type===e&&Dc(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Iv(t,e,n={}){return!!KC(t,e,n)}function xy(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!KC([...i.node.marks],e,n)))return;let o=i.index,l=t.start()+i.offset,a=o+1,u=l+i.node.nodeSize;for(;o>0&&Iv([...t.parent.child(o-1).marks],e,n);)o-=1,l-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&Iv([...t.parent.child(a).marks],e,n);)u+=t.parent.child(a).nodeSize,a+=1;return{from:l,to:u}}function Ii(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const w$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Ii(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=xy(a,s,e);if(d&&d.from<=u&&d.to>=c){const f=Z.create(o,d.from,d.to);n.setSelection(f)}}return!0},k$=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function JC(t){return t instanceof Z}function ts(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function GC(t,e=null){if(!e)return null;const n=ne.atStart(t),r=ne.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Z.create(t,ts(0,i,s),ts(t.content.size,i,s)):Z.create(t,ts(e,i,s),ts(e,i,s))}const b$=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!JC(n.state.selection))return o(),!0;const l=GC(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return s&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},S$=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),E$=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),QC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&QC(r)}return t};function bu(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return QC(n)}function zc(t,e,n){if(t instanceof vi||t instanceof j)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return j.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),zc("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,l="";const a=new DE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?wi.fromSchema(a).parseSlice(bu(t),n.parseOptions):wi.fromSchema(a).parse(bu(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=wi.fromSchema(e);return n.slice?s.parseSlice(bu(t),n.parseOptions).content:s.parse(bu(t),n.parseOptions)}return zc("",e,n)}function C$(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof nt||i instanceof it))return;const s=t.mapping.maps[r];let o=0;s.forEach((l,a,u,c)=>{o===0&&(o=c)}),t.setSelection(ne.near(t.doc.resolve(o),n))}const T$=t=>!("type"in t),N$=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=zc(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(m){return s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0;if((T$(l)?l:[l]).forEach(m=>{m.check(),c=c?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),a===u&&d){const{parent:m}=r.doc.resolve(a);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(a-=1,u+=1)}let h;if(c){if(Array.isArray(e))h=e.map(m=>m.text||"").join("");else if(e instanceof j){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),h=m}else typeof e=="object"&&e&&e.text?h=e.text:h=e;r.insertText(h,a,u)}else h=l,r.replaceWith(a,u,h);n.updateSelection&&C$(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:h})}return!0},_$=()=>({state:t,dispatch:e})=>N5(t,e),A$=()=>({state:t,dispatch:e})=>_5(t,e),O$=()=>({state:t,dispatch:e})=>k5(t,e),M$=()=>({state:t,dispatch:e})=>C5(t,e),j$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=qd(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},P$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=qd(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},I$=()=>({state:t,dispatch:e})=>b5(t,e),R$=()=>({state:t,dispatch:e})=>S5(t,e);function vy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function YC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function L$(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))vy()||YC()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const D$=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=L$(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function wa(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?ot(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),m=Math.min(i,f+d.nodeSize);l.push({node:d,from:h,to:m})});const a=i-r,u=l.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Dc(d.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const z$=(t,e={})=>({state:n,dispatch:r})=>{const i=ot(t,n.schema);return wa(n,i,e)?A5(n,r):!1},F$=()=>({state:t,dispatch:e})=>P5(t,e),$$=t=>({state:e,dispatch:n})=>{const r=ot(t,e.schema);return U5(r)(e,n)},B$=()=>({state:t,dispatch:e})=>O5(t,e);function rf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Rv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const U$=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=rf(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=ot(t,r.schema)),l==="mark"&&(o=Ii(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,Rv(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(Rv(d.attrs,e)))})})}),!0):!1},H$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),V$=()=>({tr:t,dispatch:e})=>{if(e){const n=new _n(t.doc);t.setSelection(n)}return!0},W$=()=>({state:t,dispatch:e})=>E5(t,e),q$=()=>({state:t,dispatch:e})=>T5(t,e),K$=()=>({state:t,dispatch:e})=>I5(t,e),J$=()=>({state:t,dispatch:e})=>D5(t,e),G$=()=>({state:t,dispatch:e})=>L5(t,e);function fm(t,e,n={},r={}){return zc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Q$=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{var a,u;const{doc:c}=s;if(n.preserveWhitespace!=="full"){const d=fm(t,i.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function XC(t,e){const n=Ii(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function Y$(t,e){const n=new ZE(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function X$(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Z$(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function eB(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function wy(t){return e=>eB(e.$from,t)}function tB(t,e){const n={from:0,to:t.content.size};return WC(t,n,e)}function nB(t,e){const n=ot(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function ZC(t,e){const n=rf(typeof e=="string"?e:e.name,t.schema);return n==="node"?nB(t,e):n==="mark"?XC(t,e):{}}function rB(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function iB(t){const e=rB(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function sB(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((l,a)=>{o.push({from:l,to:a})});else{const{from:l,to:a}=n[s];if(l===void 0||a===void 0)return;o.push({from:l,to:a})}o.forEach(({from:l,to:a})=>{const u=e.slice(s).map(l,-1),c=e.slice(s).map(a),d=e.invert().map(u,-1),f=e.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),iB(r)}function ky(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=xy(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function Vu(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function hm(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Ii(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Dc(d.attrs,n,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,m=f.pos;t.doc.nodesBetween(h,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,v),x=Math.min(m,v+g.nodeSize),w=x-y;o+=w,l.push(...g.marks.map(E=>({mark:E,from:y,to:x})))})}),o===0)return!1;const a=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Dc(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=o}function oB(t,e,n={}){if(!e)return wa(t,null,n)||hm(t,null,n);const r=rf(e,t.schema);return r==="node"?wa(t,e,n):r==="mark"?hm(t,e,n):!1}function Lv(t,e){const{nodeExtensions:n}=ef(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=oe(V(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function by(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(by(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function lB(t){return t instanceof q}function aB(t,e,n){var r;const{selection:i}=e;let s=null;if(JC(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));u=h&&m}return!u}),u})}const uB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:l}=s,a=Ii(t,r.schema);if(i)if(o){const u=XC(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const m=Math.max(h,c),g=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===a)?f.marks.forEach(y=>{a===y.type&&n.addMark(m,g,a.create({...y.attrs,...e}))}):n.addMark(m,g,a.create(e))})});return aB(r,n,a)},cB=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),dB=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=ot(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>Ov(s,{...o,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Ov(s,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fB=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ts(t,0,r.content.size),s=q.create(r,i);e.setSelection(s)}return!0},hB=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Z.atStart(r).from,l=Z.atEnd(r).to,a=ts(i,o,l),u=ts(s,o,l),c=Z.create(r,a,u);e.setSelection(c)}return!0},pB=t=>({state:e,dispatch:n})=>{const r=ot(t,e.schema);return W5(r)(e,n)};function Dv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const mB=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:a}=s,u=i.extensionManager.attributes,c=Vu(u,l.node().type.name,l.node().attrs);if(s instanceof q&&s.node.isBlock)return!l.parentOffset||!ho(o,l.pos)?!1:(r&&(t&&Dv(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:X$(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,m=ho(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!m&&ho(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:c}]:void 0),r){if(m&&(s instanceof Z&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),v=e.doc.resolve(g);l.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&Dv(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},gB=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const l=ot(t,r.schema),{$from:a,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(u))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let y=j.empty;const x=a.index(-1)?1:a.index(-2)?2:3;for(let M=a.depth-x;M>=a.depth-3;M-=1)y=j.from(a.node(M).copy(y));const w=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,E={...Vu(f,a.node().type.name,a.node().attrs),...e},C=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(E))||void 0;y=y.append(j.from(l.createAndFill(null,C)||void 0));const S=a.before(a.depth-(x-1));n.replace(S,a.after(-w),new B(y,4-x,0));let O=-1;n.doc.nodesBetween(S,n.doc.content.size,(M,L)=>{if(O>-1)return!1;M.isTextblock&&M.content.size===0&&(O=L+1)}),O>-1&&n.setSelection(Z.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const h=u.pos===a.end()?d.contentMatchAt(0).defaultType:null,m={...Vu(f,d.type.name,d.attrs),...e},g={...Vu(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,u.pos);const v=h?[{type:l,attrs:m},{type:h,attrs:g}]:[{type:l,attrs:m}];if(!ho(n.doc,a.pos,2))return!1;if(i){const{selection:y,storedMarks:x}=r,{splittableMarks:w}=s.extensionManager,E=x||y.$to.parentOffset&&y.$from.marks();if(n.split(a.pos,2,v).scrollIntoView(),!E||!i)return!0;const C=E.filter(S=>w.includes(S.type.name));n.ensureMarks(C)}return!0},Sh=(t,e)=>{const n=wy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ji(t.doc,n.pos)&&t.join(n.pos),!0},Eh=(t,e)=>{const n=wy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ji(t.doc,r)&&t.join(r),!0},yB=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=ot(t,o.schema),m=ot(e,o.schema),{selection:g,storedMarks:v}=o,{$from:y,$to:x}=g,w=y.blockRange(x),E=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const C=wy(S=>Lv(S.type.name,d))(g);if(w.depth>=1&&C&&w.depth-C.depth<=1){if(C.node.type===h)return u.liftListItem(m);if(Lv(C.node.type.name,d)&&h.validContent(C.node.content)&&l)return a().command(()=>(s.setNodeMarkup(C.pos,h),!0)).command(()=>Sh(s,h)).command(()=>Eh(s,h)).run()}return!n||!E||!l?a().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>Sh(s,h)).command(()=>Eh(s,h)).run():a().command(()=>{const S=c().wrapInList(h,r),O=E.filter(M=>f.includes(M.type.name));return s.ensureMarks(O),S?!0:u.clearNodes()}).wrapInList(h,r).command(()=>Sh(s,h)).command(()=>Eh(s,h)).run()},xB=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Ii(t,r.schema);return hm(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},vB=(t,e,n={})=>({state:r,commands:i})=>{const s=ot(t,r.schema),o=ot(e,r.schema),l=wa(r,s,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),l?i.setNode(o,a):i.setNode(s,{...a,...n})},wB=(t,e={})=>({state:n,commands:r})=>{const i=ot(t,n.schema);return wa(n,i,e)?r.lift(i):r.wrapIn(i,e)},kB=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},bB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},SB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=Ii(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&o){let{from:f,to:h}=l;const m=(s=u.marks().find(v=>v.type===a))===null||s===void 0?void 0:s.attrs,g=xy(u,a,m);g&&(f=g.from,h=g.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},EB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=rf(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=ot(t,r.schema)),l==="mark"&&(o=Ii(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;let d,f,h,m;n.selection.empty?r.doc.nodesBetween(u,c,(g,v)=>{s&&s===g.type&&(h=Math.max(v,u),m=Math.min(v+g.nodeSize,c),d=v,f=g)}):r.doc.nodesBetween(u,c,(g,v)=>{v<u&&s&&s===g.type&&(h=Math.max(v,u),m=Math.min(v+g.nodeSize,c),d=v,f=g),v>=u&&v<=c&&(s&&s===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(y=>{if(o===y.type){const x=Math.max(v,u),w=Math.min(v+g.nodeSize,c);n.addMark(x,w,o.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&n.addMark(h,m,o.create({...g.attrs,...e}))}))}),!0):!1},CB=(t,e={})=>({state:n,dispatch:r})=>{const i=ot(t,n.schema);return z5(i,e)(n,r)},TB=(t,e={})=>({state:n,dispatch:r})=>{const i=ot(t,n.schema);return F5(i,e)(n,r)};var NB=Object.freeze({__proto__:null,blur:a$,clearContent:u$,clearNodes:c$,command:d$,createParagraphNear:f$,cut:h$,deleteCurrentNode:p$,deleteNode:m$,deleteRange:g$,deleteSelection:y$,enter:x$,exitCode:v$,extendMarkRange:w$,first:k$,focus:b$,forEach:S$,insertContent:E$,insertContentAt:N$,joinBackward:O$,joinDown:A$,joinForward:M$,joinItemBackward:j$,joinItemForward:P$,joinTextblockBackward:I$,joinTextblockForward:R$,joinUp:_$,keyboardShortcut:D$,lift:z$,liftEmptyBlock:F$,liftListItem:$$,newlineInCode:B$,resetAttributes:U$,scrollIntoView:H$,selectAll:V$,selectNodeBackward:W$,selectNodeForward:q$,selectParentNode:K$,selectTextblockEnd:J$,selectTextblockStart:G$,setContent:Q$,setMark:uB,setMeta:cB,setNode:dB,setNodeSelection:fB,setTextSelection:hB,sinkListItem:pB,splitBlock:mB,splitListItem:gB,toggleList:yB,toggleMark:xB,toggleNode:vB,toggleWrap:wB,undoInputRule:kB,unsetAllMarks:bB,unsetMark:SB,updateAttributes:EB,wrapIn:CB,wrapInList:TB});const _B=Tt.create({name:"commands",addCommands(){return{...NB}}}),AB=Tt.create({name:"drop",addProseMirrorPlugins(){return[new yt({key:new mn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),OB=Tt.create({name:"editable",addProseMirrorPlugins(){return[new yt({key:new mn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),MB=Tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new yt({key:new mn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),jB=Tt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:h}=d,m=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,v=d.pos-d.parentOffset,y=g&&m.parent.childCount===1?v===d.pos:ne.atStart(u).from===f;return!c||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return vy()||YC()?s:i},addProseMirrorPlugins(){return[new yt({key:new mn("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,a=ne.atStart(e.doc).from,u=ne.atEnd(e.doc).to;if(s||!(o===a&&l===u)||!by(n.doc))return;const f=n.tr,h=Xd({state:n,transaction:f}),{commands:m}=new Zd({editor:this.editor,state:h});if(m.clearNodes(),!!f.steps.length)return f}})]}}),PB=Tt.create({name:"paste",addProseMirrorPlugins(){return[new yt({key:new mn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),IB=Tt.create({name:"tabindex",addProseMirrorPlugins(){return[new yt({key:new mn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Gi{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Gi(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Gi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Gi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const a=new Gi(l,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),e.push(new Gi(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const a=o[l];if(s[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(a=>n[a]===o.node.attrs[a])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const RB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function LB(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class DB extends q5{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=LB(RB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=VC(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(l=>!l.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[OB,l$.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),_B,MB,jB,IB,AB,PB].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new no(i,this)}createCommandManager(){this.commandManager=new Zd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=fm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=fm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=GC(n,this.options.autofocus);this.view=new c5(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:to.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return ZC(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return oB(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gy(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return tB(this.state.doc,{blockSeparator:n,textSerializers:{...qC(this.schema),...r}})}get isEmpty(){return by(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Gi(n,this)}get $doc(){return this.$pos(0)}}function Oo(t){return new tf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=oe(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const a=l.search(/\S/),u=n.from+l.indexOf(o),c=u+o.length;if(ky(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&s.delete(c,n.to),u>n.from&&s.delete(n.from+a,u);const f=n.from+a+o.length;s.addMark(n.from+a,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function zB(t){return new tf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=oe(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=o+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(c,l,a)}else if(r[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()}})}function pm(t){return new tf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=oe(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function ka(t){return new tf({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=oe(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),u=a&&iy(a,t.type,s);if(!u)return null;if(o.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(v=>h.includes(v.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&ji(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}class Ft{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=oe(V(this,"addOptions",{name:this.name}))),this.storage=oe(V(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ft(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>nf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ft(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=oe(V(n,"addOptions",{name:n.name})),n.storage=oe(V(n,"addStorage",{name:n.name,options:n.options})),n}}function FB(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class $B{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,s,o,l,a;const{view:u}=this.editor,c=e.target,d=c.nodeType===3?(n=c.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(c)||!d)return;let f=0,h=0;if(this.dom!==d){const y=this.dom.getBoundingClientRect(),x=d.getBoundingClientRect(),w=(i=e.offsetX)!==null&&i!==void 0?i:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,E=(o=e.offsetY)!==null&&o!==void 0?o:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;f=x.x-y.x+w,h=x.y-y.y+E}(a=e.dataTransfer)===null||a===void 0||a.setDragImage(this.dom,f,h);const m=this.getPos();if(typeof m!="number")return;const g=q.create(u.state.doc,m),v=u.state.tr.setSelection(g);u.dispatch(v)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const s=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!s)return!0;const{isEditable:a}=this.editor,{isDragging:u}=this,c=!!this.node.type.spec.draggable,d=q.isSelectable(this.node),f=e.type==="copy",h=e.type==="paste",m=e.type==="cut",g=e.type==="mousedown";if(!c&&d&&s&&e.target===this.dom&&e.preventDefault(),c&&s&&!u&&e.target===this.dom)return e.preventDefault(),!1;if(c&&a&&!u&&g){const v=r.closest("[data-drag-handle]");v&&(this.dom===v||this.dom.contains(v))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||f||h||m||g&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(vy()||FB())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function ws(t){return new t$({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=oe(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],a=r[0];let u=n.to;if(l){const c=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(ky(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+c,d),u=n.from+c+l.length,o.addMark(n.from+c,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function BB(t){return t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eT={exports:{}},Ch={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function UB(){if(zv)return Ch;zv=1;var t=_e;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),g=m[0].inst,v=m[1];return s(function(){g.value=h,g.getSnapshot=f,a(g)&&v({inst:g})},[d,h,f]),i(function(){return a(g)&&v({inst:g}),d(function(){a(g)&&v({inst:g})})},[d]),o(h),h}function a(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Ch.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,Ch}eT.exports=UB();var Sy=eT.exports;const HB=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},VB=({contentComponent:t})=>{const e=Sy.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return _e.createElement(_e.Fragment,null,Object.values(e))};function WB(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Y_.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class qB extends _e.Component{constructor(e){var n;super(e),this.editorContentRef=_e.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=WB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return _e.createElement(_e.Fragment,null,_e.createElement("div",{ref:HB(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&_e.createElement(VB,{contentComponent:e.contentComponent}))}}const KB=N.forwardRef((t,e)=>{const n=_e.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return _e.createElement(qB,{key:n,innerRef:e,...t})}),JB=_e.memo(KB);var GB=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},QB=BB(GB),tT={exports:{}},Th={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function YB(){if(Fv)return Th;Fv=1;var t=_e,e=Sy;function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,a=t.useDebugValue;return Th.useSyncExternalStoreWithSelector=function(u,c,d,f,h){var m=s(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=l(function(){function y(S){if(!x){if(x=!0,w=S,S=f(S),h!==void 0&&g.hasValue){var O=g.value;if(h(O,S))return E=O}return E=S}if(O=E,r(w,S))return O;var M=f(S);return h!==void 0&&h(O,M)?O:(w=S,E=M)}var x=!1,w,E,C=d===void 0?null:d;return[function(){return y(c())},C===null?void 0:function(){return y(C())}]},[c,d,f,h]);var v=i(u,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),a(v),v},Th}tT.exports=YB();var XB=tT.exports;const ZB=typeof window<"u"?N.useLayoutEffect:N.useEffect;class e6{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function t6(t){var e;const[n]=N.useState(()=>new e6(t.editor)),r=XB.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:QB);return ZB(()=>n.watch(t.editor),[t.editor,n]),N.useDebugValue(r),r}const n6=!1,mm=typeof window>"u",r6=mm||!!(typeof window<"u"&&window.next);class i6{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?mm||r6?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new DB(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function s6(t={},e=[]){const n=N.useRef(t);n.current=t;const[r]=N.useState(()=>new i6(n)),i=Sy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(i),N.useEffect(r.onRender(e)),t6({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const o6=N.createContext({editor:null});o6.Consumer;const nT=N.createContext({onDragStart:void 0}),l6=()=>N.useContext(nT),a6=_e.forwardRef((t,e)=>{const{onDragStart:n}=l6(),r=t.as||"div";return _e.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function u6(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function c6(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class d6{constructor(e,{editor:n,props:r={},as:i="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?vg.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,r=this.props,i=this.editor;(u6(n)||c6(n))&&(r.ref=s=>{this.ref=s}),this.reactElement=_e.createElement(n,{...r}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class f6 extends $B{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(u={})=>this.updateAttributes(u),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const u=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=u(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&u.appendChild(this.contentDOMElement)}},s=this.component,o=_e.memo(u=>_e.createElement(nT.Provider,{value:i},_e.createElement(s,u)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new d6(o,{editor:this.editor,props:e,as:l,className:`node-${this.node.type.name} ${a}`.trim()}),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,r){const i=s=>{this.renderer.updateProps(s),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,o=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:s,oldDecorations:o,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:r,updateProps:()=>i({node:e,decorations:n,innerDecorations:r})})}return e===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=e,this.decorations=n,this.innerDecorations=r,i({node:e,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=Lc(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function h6(t,e){return n=>n.editor.contentComponent?new f6(t,n,e):{}}const p6=/^\s*>\s$/,m6=Ft.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ka({find:p6,type:this.type})]}}),g6=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,y6=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,x6=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,v6=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,w6=fr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Oo({find:g6,type:this.type}),Oo({find:x6,type:this.type})]},addPasteRules(){return[ws({find:y6,type:this.type}),ws({find:v6,type:this.type})]}}),k6="listItem",$v="textStyle",Bv=/^\s*([-+*])\s$/,b6=Ft.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(k6,this.editor.getAttributes($v)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ka({find:Bv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ka({find:Bv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes($v),editor:this.editor})),[t]}}),S6=/(^|[^`])`([^`]+)`(?!`)/,E6=/(^|[^`])`([^`]+)`(?!`)/g,C6=fr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Oo({find:S6,type:this.type})]},addPasteRules(){return[ws({find:E6,type:this.type})]}}),T6=/^```([a-z]+)?[\s\n]$/,N6=/^~~~([a-z]+)?[\s\n]$/,_6=Ft.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",gt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(ne.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[pm({find:T6,type:this.type,getAttributes:t=>({language:t[1]})}),pm({find:N6,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new yt({key:new mn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(Z.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),A6=Ft.create({name:"doc",topNode:!0,content:"block+"});function O6(t={}){return new yt({view(e){return new M6(e,t)}})}class M6{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=JE(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const j6=Tt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[O6(this.options)]}});class Ue extends ne{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ue.valid(r)?new Ue(r):ne.near(r)}content(){return B.empty}eq(e){return e instanceof Ue&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ue(e.resolve(n.pos))}getBookmark(){return new Ey(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!P6(e)||!I6(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ue.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let a=e.doc.resolve(i);if(Ue.valid(a))return a}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!q.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(Ue.valid(l))return l}return null}}}Ue.prototype.visible=!1;Ue.findFrom=Ue.findGapCursorFrom;ne.jsonID("gapcursor",Ue);class Ey{constructor(e){this.pos=e}map(e){return new Ey(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ue.valid(n)?new Ue(n):ne.near(n)}}function P6(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function I6(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function R6(){return new yt({props:{decorations:F6,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ue.valid(n)?new Ue(n):null},handleClick:D6,handleKeyDown:L6,handleDOMEvents:{beforeinput:z6}}})}const L6=LC({ArrowLeft:Su("horiz",-1),ArrowRight:Su("horiz",1),ArrowUp:Su("vert",-1),ArrowDown:Su("vert",1)});function Su(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof Z){if(!s.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Ue.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new Ue(u))),!0):!1}}function D6(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ue.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&q.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ue(r))),!0)}function z6(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ue))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=j.empty;for(let o=r.length-1;o>=0;o--)i=j.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new B(i,0,0));return s.setSelection(Z.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function F6(t){if(!(t.selection instanceof Ue))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qe.create(t.doc,[Tn.widget(t.selection.head,e,{key:"gapcursor"})])}const $6=Tt.create({name:"gapCursor",addProseMirrorPlugins(){return[R6()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=oe(V(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),B6=Ft.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",gt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&o){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),U6=Ft.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,gt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>pm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Fc=200,st=function(){};st.prototype.append=function(e){return e.length?(e=st.from(e),!this.length&&e||e.length<Fc&&this.leafAppend(e)||this.length<Fc&&e.leafPrepend(this)||this.appendInner(e)):this};st.prototype.prepend=function(e){return e.length?st.from(e).append(this):this};st.prototype.appendInner=function(e){return new H6(this,e)};st.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?st.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};st.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};st.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};st.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};st.from=function(e){return e instanceof st?e:e&&e.length?new rT(e):st.empty};var rT=function(t){function e(r){t.call(this),this.values=r}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Fc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Fc)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(st);st.empty=new rT([]);var H6=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(st);const V6=500;class Un{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new rr(d.map));let h=d.step.map(i.slice(s)),m;h&&o.maybeStep(h).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new rr(m,void 0,void 0,u.length+c.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(s)):d.selection,a=new Un(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new rr(e.mapping.maps[c],d,n),h;(h=a&&a.merge(f))&&(f=h,c?s.pop():l=l.slice(0,l.length-1)),s.push(f),n&&(o++,n=void 0),i||(a=f)}let u=o-r.depth;return u>q6&&(l=W6(l,u),o-=u),new Un(l.append(s),o)}remapping(e,n){let r=new fo;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Un(this.items.append(e.map(n=>new rr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let h=s.getMirror(--a);if(h==null)return;o=Math.min(o,h);let m=s.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),v=f.selection&&f.selection.map(s.slice(a+1,h));v&&l++,r.push(new rr(m,g,v))}else r.push(new rr(m))},i);let u=[];for(let f=n;f<o;f++)u.push(new rr(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Un(c,l);return d.emptyItemCount()>V6&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new rr(u.invert(),a,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Un(st.from(i.reverse()),s)}}Un.empty=new Un(st.empty,0);function W6(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class rr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new rr(n.getMap().invert(),n,this.selection)}}}class Yr{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const q6=20;function K6(t,e,n,r){let i=n.getMeta(cs),s;if(i)return i.historyState;n.getMeta(Q6)&&(t=new Yr(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(cs))return o.getMeta(cs).redo?new Yr(t.done.addTransform(n,void 0,r,Wu(e)),t.undone,Uv(n.mapping.maps),t.prevTime,t.prevComposition):new Yr(t.done,t.undone.addTransform(n,void 0,r,Wu(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!J6(n,t.prevRanges)),u=o?Nh(t.prevRanges,n.mapping):Uv(n.mapping.maps);return new Yr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Wu(e)),Un.empty,u,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Yr(t.done.rebased(n,s),t.undone.rebased(n,s),Nh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Yr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Nh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function J6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function Uv(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Nh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function G6(t,e,n){let r=Wu(e),i=cs.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),a=new Yr(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(cs,{redo:n,historyState:a})}let _h=!1,Hv=null;function Wu(t){let e=t.plugins;if(Hv!=e){_h=!1,Hv=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){_h=!0;break}}return _h}const cs=new mn("history"),Q6=new mn("closeHistory");function Y6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new yt({key:cs,state:{init(){return new Yr(Un.empty,Un.empty,null,0,-1)},apply(e,n,r){return K6(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?sT:r=="historyRedo"?oT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function iT(t,e){return(n,r)=>{let i=cs.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=G6(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const sT=iT(!1,!0),oT=iT(!0,!0),X6=Tt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>sT(t,e),redo:()=>({state:t,dispatch:e})=>oT(t,e)}},addProseMirrorPlugins(){return[Y6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Z6=Ft.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",gt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):lB(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var a;if(l){const{$to:u}=o.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(Z.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(q.create(o.doc,u.pos)):o.setSelection(Z.create(o.doc,u.pos));else{const d=(a=u.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(o.insert(c,d),o.setSelection(Z.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[zB({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),eU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,tU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,nU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,rU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,iU=fr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Oo({find:eU,type:this.type}),Oo({find:nU,type:this.type})]},addPasteRules(){return[ws({find:tU,type:this.type}),ws({find:rU,type:this.type})]}}),sU=Ft.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",gt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),oU="listItem",Vv="textStyle",Wv=/^(\d+)\.\s$/,lU=Ft.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",gt(this.options.HTMLAttributes,n),0]:["ol",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oU,this.editor.getAttributes(Vv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ka({find:Wv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ka({find:Wv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Vv)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),aU=Ft.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),uU=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cU=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,dU=fr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Oo({find:uU,type:this.type})]},addPasteRules(){return[ws({find:cU,type:this.type})]}}),fU=Ft.create({name:"text",group:"inline"}),hU=Tt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,l,a,u,c,d,f,h,m,g,v,y;const x=[];return this.options.bold!==!1&&x.push(w6.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&x.push(m6.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&x.push(b6.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&x.push(C6.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&x.push(_6.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&x.push(A6.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&x.push(j6.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&x.push($6.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&x.push(B6.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&x.push(U6.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&x.push(X6.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&x.push(Z6.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&x.push(iU.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&x.push(sU.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&x.push(lU.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&x.push(aU.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&x.push(dU.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&x.push(fU.configure((y=this.options)===null||y===void 0?void 0:y.text)),x}});function pU({alignment:t,onAlignmentChange:e}){return p.jsxs("div",{className:"absolute -top-8 left-0 right-0 hidden group-hover:flex items-center justify-center gap-2 bg-white shadow-sm rounded-t-md p-1",children:[p.jsx("button",{onClick:()=>e("left"),className:`p-1 rounded hover:bg-gray-100 ${t==="left"?"bg-gray-100":""}`,title:"Aligner  gauche",children:p.jsx(Qb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>e("center"),className:`p-1 rounded hover:bg-gray-100 ${t==="center"?"bg-gray-100":""}`,title:"Centrer",children:p.jsx(Gb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>e("right"),className:`p-1 rounded hover:bg-gray-100 ${t==="right"?"bg-gray-100":""}`,title:"Aligner  droite",children:p.jsx(Yb,{className:"w-4 h-4"})})]})}function mU({onResize:t}){const e=n=>{var l;n.preventDefault();const r=n.clientX,i=((l=n.currentTarget.parentElement)==null?void 0:l.getBoundingClientRect().width)||0,s=a=>{const u=a.clientX-r,c=Math.max(200,i+u);t(`${c}px`)},o=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)};return p.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize hidden group-hover:flex items-center justify-center bg-white rounded-tl shadow",onMouseDown:e,children:p.jsx(CM,{className:"w-4 h-4 text-gray-500"})})}function gU(t){const[e,n]=N.useState(t.node.attrs.width),[r,i]=N.useState(t.node.attrs.alignment),s=a=>{t.updateAttributes(a)},o=a=>{n(a),s({width:a})},l=a=>{i(a),s({alignment:a})};return p.jsx(a6,{children:p.jsx("div",{className:"relative group my-4",children:p.jsxs("div",{className:`image-align-${r}`,style:{width:e},children:[p.jsx("img",{src:t.node.attrs.src,alt:t.node.attrs.alt,className:"w-full h-auto rounded-lg"}),p.jsx(pU,{alignment:r,onAlignmentChange:l}),p.jsx(mU,{onResize:o})]})})})}const yU=Ft.create({name:"resizableImage",group:"block",draggable:!0,selectable:!0,addAttributes(){return{src:{default:null,parseHTML:t=>{var e;return(e=t.querySelector("img"))==null?void 0:e.getAttribute("src")}},alt:{default:null,parseHTML:t=>{var e;return(e=t.querySelector("img"))==null?void 0:e.getAttribute("alt")}},width:{default:"100%",parseHTML:t=>t.style.width},alignment:{default:"center",parseHTML:t=>{const n=t.className.split(" ").find(r=>r.startsWith("image-align-"));return n?n.replace("image-align-",""):"center"}}}},parseHTML(){return[{tag:'div[data-type="resizable-image"]'},{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),alt:t.getAttribute("alt")})}]},renderHTML({HTMLAttributes:t}){return["div",{"data-type":"resizable-image",class:`image-align-${t.alignment}`,style:`width: ${t.width}`},["img",{src:t.src,alt:t.alt,style:"width: 100%; height: auto;"}]]},addNodeView(){return h6(gU)},addCommands(){return{setImage:t=>({chain:e})=>e().insertContent({type:this.name,attrs:{...t,width:t.width||"100%",alignment:t.alignment||"center"}}).run()}}}),xU=fr.create({name:"textStyle",addAttributes(){return{color:{default:null,parseHTML:t=>t.style.color,renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}},fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}},parseHTML(){return[{style:"color"},{style:"font-size"}]},renderHTML({HTMLAttributes:t}){return["span",t,0]},addCommands(){return{setTextColor:t=>({chain:e})=>e().setMark(this.name,{color:t}).run(),setFontSize:t=>({chain:e})=>e().setMark(this.name,{fontSize:t}).run()}}}),vU=Tt.create({name:"textAlign",addOptions(){return{types:["paragraph","heading"],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>({style:`text-align: ${t.textAlign}`})}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.types.every(n=>e.updateAttributes(n,{textAlign:t}))}}}),wU="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",kU="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Mo=(t,e)=>{for(const n in e)t[n]=e[n];return t},gm="numeric",ym="ascii",xm="alpha",Fl="asciinumeric",kl="alphanumeric",vm="domain",lT="emoji",bU="scheme",SU="slashscheme",Ah="whitespace";function EU(t,e){return t in e||(e[t]=[]),e[t]}function ns(t,e,n){e[gm]&&(e[Fl]=!0,e[kl]=!0),e[ym]&&(e[Fl]=!0,e[xm]=!0),e[Fl]&&(e[kl]=!0),e[xm]&&(e[kl]=!0),e[kl]&&(e[vm]=!0),e[lT]&&(e[vm]=!0);for(const r in e){const i=EU(r,n);i.indexOf(t)<0&&i.push(t)}}function CU(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Qt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Qt.groups={};Qt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Qt.groups;let i;return e&&e.j?i=e:(i=new Qt(e),n&&r&&ns(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Qt.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,l=i.go(t);if(l?(o=new Qt,Mo(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Qt,s){if(r)if(o.t&&typeof o.t=="string"){const a=Mo(CU(o.t,r),n);ns(s,a,r)}else n&&ns(s,n,r);o.t=s}return i.j[t]=o,o}};const ie=(t,e,n,r,i)=>t.ta(e,n,r,i),$e=(t,e,n,r,i)=>t.tr(e,n,r,i),qv=(t,e,n,r,i)=>t.ts(e,n,r,i),P=(t,e,n,r,i)=>t.tt(e,n,r,i),kr="WORD",wm="UWORD",aT="ASCIINUMERICAL",uT="ALPHANUMERICAL",ba="LOCALHOST",km="TLD",bm="UTLD",qu="SCHEME",Us="SLASH_SCHEME",Cy="NUM",Sm="WS",Ty="NL",$l="OPENBRACE",Bl="CLOSEBRACE",$c="OPENBRACKET",Bc="CLOSEBRACKET",Uc="OPENPAREN",Hc="CLOSEPAREN",Vc="OPENANGLEBRACKET",Wc="CLOSEANGLEBRACKET",qc="FULLWIDTHLEFTPAREN",Kc="FULLWIDTHRIGHTPAREN",Jc="LEFTCORNERBRACKET",Gc="RIGHTCORNERBRACKET",Qc="LEFTWHITECORNERBRACKET",Yc="RIGHTWHITECORNERBRACKET",Xc="FULLWIDTHLESSTHAN",Zc="FULLWIDTHGREATERTHAN",ed="AMPERSAND",Ny="APOSTROPHE",td="ASTERISK",Xr="AT",nd="BACKSLASH",rd="BACKTICK",id="CARET",ri="COLON",_y="COMMA",sd="DOLLAR",ir="DOT",od="EQUALS",Ay="EXCLAMATION",vn="HYPHEN",Ul="PERCENT",ld="PIPE",ad="PLUS",ud="POUND",Hl="QUERY",Oy="QUOTE",cT="FULLWIDTHMIDDLEDOT",My="SEMI",sr="SLASH",Vl="TILDE",cd="UNDERSCORE",dT="EMOJI",dd="SYM";var fT=Object.freeze({__proto__:null,WORD:kr,UWORD:wm,ASCIINUMERICAL:aT,ALPHANUMERICAL:uT,LOCALHOST:ba,TLD:km,UTLD:bm,SCHEME:qu,SLASH_SCHEME:Us,NUM:Cy,WS:Sm,NL:Ty,OPENBRACE:$l,CLOSEBRACE:Bl,OPENBRACKET:$c,CLOSEBRACKET:Bc,OPENPAREN:Uc,CLOSEPAREN:Hc,OPENANGLEBRACKET:Vc,CLOSEANGLEBRACKET:Wc,FULLWIDTHLEFTPAREN:qc,FULLWIDTHRIGHTPAREN:Kc,LEFTCORNERBRACKET:Jc,RIGHTCORNERBRACKET:Gc,LEFTWHITECORNERBRACKET:Qc,RIGHTWHITECORNERBRACKET:Yc,FULLWIDTHLESSTHAN:Xc,FULLWIDTHGREATERTHAN:Zc,AMPERSAND:ed,APOSTROPHE:Ny,ASTERISK:td,AT:Xr,BACKSLASH:nd,BACKTICK:rd,CARET:id,COLON:ri,COMMA:_y,DOLLAR:sd,DOT:ir,EQUALS:od,EXCLAMATION:Ay,HYPHEN:vn,PERCENT:Ul,PIPE:ld,PLUS:ad,POUND:ud,QUERY:Hl,QUOTE:Oy,FULLWIDTHMIDDLEDOT:cT,SEMI:My,SLASH:sr,TILDE:Vl,UNDERSCORE:cd,EMOJI:dT,SYM:dd});const vr=/[a-z]/,fl=new RegExp("\\p{L}","u"),Oh=new RegExp("\\p{Emoji}","u"),wr=/\d/,Mh=/\s/,Kv="\r",jh=`
`,TU="",NU="",Ph="";let Eu=null,Cu=null;function _U(t=[]){const e={};Qt.groups=e;const n=new Qt;Eu==null&&(Eu=Jv(wU)),Cu==null&&(Cu=Jv(kU)),P(n,"'",Ny),P(n,"{",$l),P(n,"}",Bl),P(n,"[",$c),P(n,"]",Bc),P(n,"(",Uc),P(n,")",Hc),P(n,"<",Vc),P(n,">",Wc),P(n,"",qc),P(n,"",Kc),P(n,"",Jc),P(n,"",Gc),P(n,"",Qc),P(n,"",Yc),P(n,"",Xc),P(n,"",Zc),P(n,"&",ed),P(n,"*",td),P(n,"@",Xr),P(n,"`",rd),P(n,"^",id),P(n,":",ri),P(n,",",_y),P(n,"$",sd),P(n,".",ir),P(n,"=",od),P(n,"!",Ay),P(n,"-",vn),P(n,"%",Ul),P(n,"|",ld),P(n,"+",ad),P(n,"#",ud),P(n,"?",Hl),P(n,'"',Oy),P(n,"/",sr),P(n,";",My),P(n,"~",Vl),P(n,"_",cd),P(n,"\\",nd),P(n,"",cT);const r=$e(n,wr,Cy,{[gm]:!0});$e(r,wr,r);const i=$e(r,vr,aT,{[Fl]:!0}),s=$e(r,fl,uT,{[kl]:!0}),o=$e(n,vr,kr,{[ym]:!0});$e(o,wr,i),$e(o,vr,o),$e(i,wr,i),$e(i,vr,i);const l=$e(n,fl,wm,{[xm]:!0});$e(l,vr),$e(l,wr,s),$e(l,fl,l),$e(s,wr,s),$e(s,vr),$e(s,fl,s);const a=P(n,jh,Ty,{[Ah]:!0}),u=P(n,Kv,Sm,{[Ah]:!0}),c=$e(n,Mh,Sm,{[Ah]:!0});P(n,Ph,c),P(u,jh,a),P(u,Ph,c),$e(u,Mh,c),P(c,Kv),P(c,jh),$e(c,Mh,c),P(c,Ph,c);const d=$e(n,Oh,dT,{[lT]:!0});P(d,"#"),$e(d,Oh,d),P(d,TU,d);const f=P(d,NU);P(f,"#"),$e(f,Oh,d);const h=[[vr,o],[wr,i]],m=[[vr,null],[fl,l],[wr,s]];for(let g=0;g<Eu.length;g++)Hr(n,Eu[g],km,kr,h);for(let g=0;g<Cu.length;g++)Hr(n,Cu[g],bm,wm,m);ns(km,{tld:!0,ascii:!0},e),ns(bm,{utld:!0,alpha:!0},e),Hr(n,"file",qu,kr,h),Hr(n,"mailto",qu,kr,h),Hr(n,"http",Us,kr,h),Hr(n,"https",Us,kr,h),Hr(n,"ftp",Us,kr,h),Hr(n,"ftps",Us,kr,h),ns(qu,{scheme:!0,ascii:!0},e),ns(Us,{slashscheme:!0,ascii:!0},e),t=t.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<t.length;g++){const v=t[g][0],x=t[g][1]?{[bU]:!0}:{[SU]:!0};v.indexOf("-")>=0?x[vm]=!0:vr.test(v)?wr.test(v)?x[Fl]=!0:x[ym]=!0:x[gm]=!0,qv(n,v,v,x)}return qv(n,"localhost",ba,{ascii:!0}),n.jd=new Qt(dd),{start:n,tokens:Mo({groups:e},fT)}}function hT(t,e){const n=AU(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let l=t,a=null,u=0,c=null,d=-1,f=-1;for(;o<r&&(a=l.go(n[o]));)l=a,l.accepts()?(d=0,f=0,c=l):d>=0&&(d+=n[o].length,f++),u+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,u-=d,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function AU(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Hr(t,e,n,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const a=e[l];t.j[a]?s=t.j[a]:(s=new Qt(r),s.jr=i.slice(),t.j[a]=s),t=s}return s=new Qt(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function Jv(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Sa={defaultProtocol:"http",events:null,format:Gv,formatHref:Gv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jy(t,e=null){let n=Mo({},Sa);t&&(n=Mo(n,t instanceof jy?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}jy.prototype={o:Sa,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Sa[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Gv(t){return t}function pT(t,e){this.t="token",this.v=t,this.tk=e}pT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Sa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},l=t.get("className",n,e),a=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,l&&(o.class=l),a&&(o.target=a),u&&(o.rel=u),c&&Mo(o,c),{tagName:i,attributes:o,content:s,eventListeners:d}}};function sf(t,e){class n extends pT{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Qv=sf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Yv=sf("text"),OU=sf("nl"),Tu=sf("url",{isLink:!0,toHref(t=Sa.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ba&&t[1].t===ri}}),xn=t=>new Qt(t);function MU({groups:t}){const e=t.domain.concat([ed,td,Xr,nd,rd,id,sd,od,vn,Cy,Ul,ld,ad,ud,sr,dd,Vl,cd]),n=[ri,_y,ir,Ay,Ul,Hl,Oy,My,Vc,Wc,$l,Bl,Bc,$c,Uc,Hc,qc,Kc,Jc,Gc,Qc,Yc,Xc,Zc],r=[ed,Ny,td,nd,rd,id,sd,od,vn,$l,Bl,Ul,ld,ad,ud,Hl,sr,dd,Vl,cd],i=xn(),s=P(i,Vl);ie(s,r,s),ie(s,t.domain,s);const o=xn(),l=xn(),a=xn();ie(i,t.domain,o),ie(i,t.scheme,l),ie(i,t.slashscheme,a),ie(o,r,s),ie(o,t.domain,o);const u=P(o,Xr);P(s,Xr,u),P(l,Xr,u),P(a,Xr,u);const c=P(s,ir);ie(c,r,s),ie(c,t.domain,s);const d=xn();ie(u,t.domain,d),ie(d,t.domain,d);const f=P(d,ir);ie(f,t.domain,d);const h=xn(Qv);ie(f,t.tld,h),ie(f,t.utld,h),P(u,ba,h);const m=P(d,vn);P(m,vn,m),ie(m,t.domain,d),ie(h,t.domain,d),P(h,ir,f),P(h,vn,m);const g=P(h,ri);ie(g,t.numeric,Qv);const v=P(o,vn),y=P(o,ir);P(v,vn,v),ie(v,t.domain,o),ie(y,r,s),ie(y,t.domain,o);const x=xn(Tu);ie(y,t.tld,x),ie(y,t.utld,x),ie(x,t.domain,o),ie(x,r,s),P(x,ir,y),P(x,vn,v),P(x,Xr,u);const w=P(x,ri),E=xn(Tu);ie(w,t.numeric,E);const C=xn(Tu),S=xn();ie(C,e,C),ie(C,n,S),ie(S,e,C),ie(S,n,S),P(x,sr,C),P(E,sr,C);const O=P(l,ri),M=P(a,ri),L=P(M,sr),_=P(L,sr);ie(l,t.domain,o),P(l,ir,y),P(l,vn,v),ie(a,t.domain,o),P(a,ir,y),P(a,vn,v),ie(O,t.domain,C),P(O,sr,C),P(O,Hl,C),ie(_,t.domain,C),ie(_,e,C),P(_,sr,C);const D=[[$l,Bl],[$c,Bc],[Uc,Hc],[Vc,Wc],[qc,Kc],[Jc,Gc],[Qc,Yc],[Xc,Zc]];for(let U=0;U<D.length;U++){const[re,he]=D[U],ee=P(C,re);P(S,re,ee),P(ee,he,C);const we=xn(Tu);ie(ee,e,we);const ke=xn();ie(ee,n),ie(we,e,we),ie(we,n,ke),ie(ke,e,we),ie(ke,n,ke),P(we,he,C),P(ke,he,C)}return P(i,ba,x),P(i,Ty,OU),{start:i,tokens:fT}}function jU(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let l=t,a=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(a=l.go(n[i].t));)o.push(n[i++]);for(;i<r&&(u=a||l.go(n[i].t));)a=null,l=u,l.accepts()?(f=0,d=l):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(Ih(Yv,e,o)),o=[]),i-=f,c-=f;const h=d.t,m=n.slice(i-c,i);s.push(Ih(h,e,m))}}return o.length>0&&s.push(Ih(Yv,e,o)),s}function Ih(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const PU=typeof console<"u"&&console&&console.warn||(()=>{}),IU="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Me={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RU(){return Qt.groups={},Me.scanner=null,Me.parser=null,Me.tokenQueue=[],Me.pluginQueue=[],Me.customSchemes=[],Me.initialized=!1,Me}function Xv(t,e=!1){if(Me.initialized&&PU(`linkifyjs: already initialized - will not register custom scheme "${t}" ${IU}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Me.customSchemes.push([t,e])}function LU(){Me.scanner=_U(Me.customSchemes);for(let t=0;t<Me.tokenQueue.length;t++)Me.tokenQueue[t][1]({scanner:Me.scanner});Me.parser=MU(Me.scanner.tokens);for(let t=0;t<Me.pluginQueue.length;t++)Me.pluginQueue[t][1]({scanner:Me.scanner,parser:Me.parser});return Me.initialized=!0,Me}function Py(t){return Me.initialized||LU(),jU(Me.parser.start,t,hT(Me.scanner.start,t))}Py.scan=hT;function mT(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new jy(n),i=Py(t),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}function DU(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function zU(t){return new yt({key:new mn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,l=Y$(n.doc,[...e]);if(sB(l).forEach(({newRange:u})=>{const c=Z$(r.doc,u,h=>h.isTextblock);let d,f;if(c.length>1?(d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")),d&&f){const h=f.split(" ").filter(y=>y!=="");if(h.length<=0)return!1;const m=h[h.length-1],g=d.pos+f.lastIndexOf(m);if(!m)return!1;const v=Py(m).map(y=>y.toObject(t.defaultProtocol));if(!DU(v))return!1;v.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{ky(y.from,y.to,r.doc).some(x=>x.mark.type===t.type)||o.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function FU(t){return new yt({key:new mn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const l=[];for(;o.nodeName!=="DIV";)l.push(o),o=o.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=ZC(e.state,t.type.name),u=r.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:a.href,d=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:a.target;return u&&c?(window.open(c,d),!0):!1}}})}function $U(t){return new yt({key:new mn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const a=mT(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!a?!1:(t.editor.commands.setMark(t.type,{href:a.href}),!0)}}})}const BU=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Bi(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(BU,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const UU=fr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Xv(t);return}Xv(t.scheme,t.optionalSlashes)})},onDestroy(){RU()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Bi(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Bi(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Bi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gt(this.options.HTMLAttributes,t),0]:["a",gt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Bi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Bi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ws({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=mT(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Bi(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(zU({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Bi(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(FU({type:this.type})),this.options.linkOnPaste&&t.push($U({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),HU=[{label:"Noir",value:"#000000"},{label:"Gris",value:"#666666"},{label:"Rouge",value:"#FF0000"},{label:"Bleu",value:"#0000FF"},{label:"Vert",value:"#008000"}];function VU({editor:t}){const[e,n]=N.useState(!1);return p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>n(!e),className:"p-2 rounded hover:bg-gray-200",title:"Couleur du texte",children:p.jsx(TM,{className:"w-4 h-4"})}),e&&p.jsx("div",{className:"absolute z-10 top-full left-0 mt-1 bg-white rounded-lg shadow-lg p-2",children:p.jsx("div",{className:"grid grid-cols-5 gap-1",children:HU.map(r=>p.jsx("button",{onClick:()=>{t.chain().focus().setTextColor(r.value).run(),n(!1)},className:"w-6 h-6 rounded border border-gray-200",style:{backgroundColor:r.value},title:r.label},r.value))})})]})}const WU=[{label:"Normal",value:"1rem"},{label:"Petit",value:"0.875rem"},{label:"Grand",value:"1.25rem"},{label:"Trs grand",value:"1.5rem"}];function qU({editor:t}){const[e,n]=N.useState(!1);return p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>n(!e),className:"p-2 rounded hover:bg-gray-200",title:"Taille du texte",children:p.jsx(RM,{className:"w-4 h-4"})}),e&&p.jsx("div",{className:"absolute z-10 top-full left-0 mt-1 bg-white rounded-lg shadow-lg p-2 min-w-[120px]",children:WU.map(r=>p.jsx("button",{onClick:()=>{t.chain().focus().setFontSize(r.value).run(),n(!1)},className:"w-full text-left px-2 py-1 hover:bg-gray-100 rounded",children:r.label},r.value))})]})}function KU({editor:t}){return p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive({textAlign:"left"})?"bg-gray-200":""}`,title:"Aligner  gauche",children:p.jsx(Qb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive({textAlign:"center"})?"bg-gray-200":""}`,title:"Centrer",children:p.jsx(Gb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive({textAlign:"right"})?"bg-gray-200":""}`,title:"Aligner  droite",children:p.jsx(Yb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive({textAlign:"justify"})?"bg-gray-200":""}`,title:"Justifier",children:p.jsx(mM,{className:"w-4 h-4"})})]})}function JU({editor:t}){const{uploadImage:e}=ty(),n=async i=>{var o;const s=(o=i.target.files)==null?void 0:o[0];if(s)try{const l=await e(s);l&&t.chain().focus().setResizableImage({src:l}).run()}catch(l){console.error("Error uploading image:",l)}finally{i.target.value=""}},r=()=>{const i=window.prompt("URL:");i&&t.chain().focus().setLink({href:i}).run()};return p.jsxs("div",{className:"border-b border-gray-300 bg-gray-50 p-2 flex flex-wrap gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[p.jsx(qU,{editor:t}),p.jsx(VU,{editor:t})]}),p.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[p.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bold")?"bg-gray-200":""}`,children:p.jsx(gM,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("italic")?"bg-gray-200":""}`,children:p.jsx(xM,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:p.jsx(KU,{editor:t})}),p.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[p.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bulletList")?"bg-gray-200":""}`,children:p.jsx(kM,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("orderedList")?"bg-gray-200":""}`,children:p.jsx(wM,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[p.jsxs("label",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:[p.jsx(rS,{className:"w-4 h-4"}),p.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:n})]}),p.jsx("button",{onClick:r,className:`p-2 rounded hover:bg-gray-200 ${t.isActive("link")?"bg-gray-200":""}`,children:p.jsx(vM,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("blockquote")?"bg-gray-200":""}`,children:p.jsx(_M,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),className:"p-2 rounded hover:bg-gray-200 disabled:opacity-50",children:p.jsx(LM,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),className:"p-2 rounded hover:bg-gray-200 disabled:opacity-50",children:p.jsx(AM,{className:"w-4 h-4"})})]})]})}function GU({content:t,onChange:e}){const n=s6({extensions:[hU,yU,xU,vU.configure({types:["paragraph","heading"]}),UU.configure({openOnClick:!1})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())}});return n?p.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:[p.jsx(JU,{editor:n}),p.jsx("div",{className:"px-4 py-3 min-h-[400px] prose prose-lg max-w-none",children:p.jsx(JB,{editor:n})})]}):null}function QU({initialData:t,onSubmit:e}){const{categories:n}=ey(),[r,i]=N.useState({title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",excerpt:(t==null?void 0:t.excerpt)||"",featured_image:(t==null?void 0:t.featured_image)||"",status:(t==null?void 0:t.status)||"draft",category_id:(t==null?void 0:t.category_id)||null}),s=async o=>{o.preventDefault(),await e(r)};return p.jsxs("form",{onSubmit:s,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catgorie"}),p.jsxs("select",{value:r.category_id||"",onChange:o=>i(l=>({...l,category_id:o.target.value||null})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[p.jsx("option",{value:"",children:"Slectionner une catgorie"}),n.map(o=>p.jsx("option",{value:o.id,children:o.name},o.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image  la une"}),p.jsx("div",{className:"mt-1",children:p.jsx(kE,{onUploadComplete:o=>{i(l=>({...l,featured_image:o}))},currentImage:r.featured_image,previewSize:"lg"})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),p.jsx("input",{type:"text",value:r.title,onChange:o=>i(l=>({...l,title:o.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Extrait"}),p.jsx("textarea",{value:r.excerpt,onChange:o=>i(l=>({...l,excerpt:o.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenu"}),p.jsx(GU,{content:r.content,onChange:o=>i(l=>({...l,content:o}))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),p.jsxs("select",{value:r.status,onChange:o=>i(l=>({...l,status:o.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[p.jsx("option",{value:"draft",children:"Brouillon"}),p.jsx("option",{value:"published",children:"Publi"})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(be,{type:"submit",children:t?"Mettre  jour":"Crer l'article"})})]})}function gT(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")}async function YU(t,e){let n=gT(t),r=n,i=1,s=!1;for(;!s;){const{data:o,error:l}=await ae.from("articles").select("slug").eq("slug",r).not("slug","eq",e).maybeSingle();if(l)throw l;o?(r=`${n}-${i}`,i++):s=!0}return r}function XU(t){const[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{if(!t){i(!1);return}async function a(){try{const{data:u,error:c}=await ae.from("articles").select("*").eq("slug",t).single();if(c)throw c;n(u)}catch(u){o(u instanceof Error?u:new Error("Une erreur est survenue"))}finally{i(!1)}}a()},[t]),{article:e,loading:r,error:s,saveArticle:async a=>{try{const u=await YU(a.title,t),{data:c}=await ae.from("articles").select("display_order").order("display_order",{ascending:!1}).limit(1).single(),d=c?c.display_order+1:1;if(t){const{error:f}=await ae.from("articles").update({...a,slug:u,updated_at:new Date().toISOString()}).eq("slug",t);if(f)throw f}else{const{error:f}=await ae.from("articles").insert([{...a,slug:u,display_order:d,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(f)throw f}}catch(u){throw console.error("Erreur lors de la sauvegarde:",u),u instanceof Error?u:new Error("Une erreur est survenue lors de la sauvegarde")}}}}function Zv(){const{slug:t}=Eg(),e=Do(),{article:n,loading:r,error:i,saveArticle:s}=XU(t);return r?p.jsx("div",{children:"Chargement..."}):i?p.jsxs("div",{children:["Erreur: ",i.message]}):p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:t?"Modifier l'article":"Nouvel article"}),p.jsx(QU,{initialData:n,onSubmit:async o=>{await s(o),e("/admin/articles")}})]})}function ZU(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null);async function o(){try{const{data:a,error:u}=await ae.from("events").select("*").order("date",{ascending:!0});if(u)throw u;e(a)}catch(a){s(a instanceof Error?a:new Error("Une erreur est survenue"))}finally{r(!1)}}return N.useEffect(()=>{o()},[]),{events:t,loading:n,error:i,deleteEvent:async a=>{try{const{error:u}=await ae.from("events").delete().eq("id",a);if(u)throw u;await o()}catch(u){throw s(u instanceof Error?u:new Error("Une erreur est survenue")),u}}}}function e8(){const{events:t,loading:e,error:n,deleteEvent:r}=ZU();return e?p.jsx("div",{children:"Chargement..."}):n?p.jsxs("div",{children:["Erreur: ",n.message]}):p.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"vnement"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lieu"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.title})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[p.jsx(zd,{className:"h-4 w-4 mr-2"}),Zg(i.date)]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[p.jsx(Mg,{className:"h-4 w-4 mr-2"}),i.location]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Pe,{to:`/admin/events/${i.id}/edit`,children:p.jsx(be,{variant:"secondary",size:"sm",children:p.jsx(Ig,{className:"h-4 w-4"})})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>{window.confirm("tes-vous sr de vouloir supprimer cet vnement ?")&&r(i.id)},children:p.jsx(Fd,{className:"h-4 w-4 text-red-500"})})]})})]},i.id))})]})})})}function t8(){return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des vnements"}),p.jsx(Pe,{to:"/admin/events/new",children:p.jsxs(be,{children:[p.jsx(jg,{className:"h-4 w-4 mr-2"}),"Nouvel vnement"]})})]}),p.jsx(e8,{})]})}function n8({initialData:t,onSubmit:e}){const[n,r]=N.useState({title:(t==null?void 0:t.title)||"",date:(t==null?void 0:t.date)||"",time:(t==null?void 0:t.time)||"",location:(t==null?void 0:t.location)||"",description:(t==null?void 0:t.description)||"",image:(t==null?void 0:t.image)||""}),i=async s=>{s.preventDefault(),await e(n)};return p.jsxs("form",{onSubmit:i,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image"}),p.jsxs("div",{className:"mt-1",children:[p.jsx(kE,{onUploadComplete:s=>{r(o=>({...o,image:s}))}}),n.image&&p.jsx("div",{className:"mt-2",children:p.jsx("img",{src:n.image,alt:"Aperu de l'vnement",className:"w-full h-48 object-cover rounded-lg"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),p.jsx("input",{type:"text",value:n.title,onChange:s=>r(o=>({...o,title:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),p.jsx("input",{type:"date",value:n.date,onChange:s=>r(o=>({...o,date:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure"}),p.jsx("input",{type:"time",value:n.time,onChange:s=>r(o=>({...o,time:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lieu"}),p.jsx("input",{type:"text",value:n.location,onChange:s=>r(o=>({...o,location:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),p.jsx("textarea",{value:n.description,onChange:s=>r(o=>({...o,description:s.target.value})),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(be,{type:"submit",children:t?"Mettre  jour":"Crer l'vnement"})})]})}function r8(t){const[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{if(!t){i(!1);return}async function a(){try{const{data:u,error:c}=await ae.from("events").select("*").eq("id",t).single();if(c)throw c;n(u)}catch(u){o(u instanceof Error?u:new Error("Une erreur est survenue"))}finally{i(!1)}}a()},[t]),{event:e,loading:r,error:s,saveEvent:async a=>{try{if(t){const{error:u}=await ae.from("events").update(a).eq("id",t);if(u)throw u}else{const{error:u}=await ae.from("events").insert([a]);if(u)throw u}}catch(u){throw o(u instanceof Error?u:new Error("Une erreur est survenue")),u}}}}function ew(){const{id:t}=Eg(),e=Do(),{event:n,loading:r,error:i,saveEvent:s}=r8(t);return r?p.jsx("div",{children:"Chargement..."}):i?p.jsxs("div",{children:["Erreur: ",i.message]}):p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:t?"Modifier l'vnement":"Nouvel vnement"}),p.jsx(n8,{initialData:n,onSubmit:async o=>{await s(o),e("/admin/events")}})]})}function i8(){const[t,e]=N.useState(!1);return{createCategory:async o=>{e(!0);try{const l=await gT(o.name||""),{error:a}=await ae.from("article_categories").insert([{...o,slug:l}]);if(a)throw a}catch(l){throw console.error("Error creating category:",l),l}finally{e(!1)}},updateCategory:async(o,l)=>{e(!0);try{const{error:a}=await ae.from("article_categories").update(l).eq("id",o);if(a)throw a}catch(a){throw console.error("Error updating category:",a),a}finally{e(!1)}},deleteCategory:async o=>{e(!0);try{const{error:l}=await ae.from("article_categories").delete().eq("id",o);if(l)throw l}catch(l){throw console.error("Error deleting category:",l),l}finally{e(!1)}},reorderCategory:async(o,l)=>{e(!0);try{const{data:a}=await ae.from("article_categories").select("display_order").eq("id",o).single();if(!a)throw new Error("Category not found");await ae.rpc("reorder_categories",{category_id:o,new_order:l,current_order:a.display_order})}catch(a){throw console.error("Error reordering category:",a),a}finally{e(!1)}},updating:t}}function s8({categories:t,onEdit:e,onDelete:n,onOrderChange:r,onToggleActive:i}){return p.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordre"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((s,o)=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>r(s.id,s.display_order-1),disabled:o===0,children:p.jsx(Og,{className:"w-4 h-4"})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>r(s.id,s.display_order+1),disabled:o===t.length-1,children:p.jsx(Ag,{className:"w-4 h-4"})})]})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),p.jsx("div",{className:"text-sm text-gray-500",children:s.description})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("button",{onClick:()=>i(s.id,!s.is_active),className:`px-2 py-1 text-xs font-semibold rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Actif":"Inactif"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>e(s),children:p.jsx(Ig,{className:"w-4 h-4"})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>n(s.id),children:p.jsx(Fd,{className:"w-4 h-4 text-red-500"})})]})})]},s.id))})]})})}function o8({initialData:t,onSubmit:e,onCancel:n}){const[r,i]=N.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",is_active:(t==null?void 0:t.is_active)??!0}),s=async o=>{o.preventDefault(),await e(r)};return p.jsxs("form",{onSubmit:s,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom de la catgorie"}),p.jsx("input",{type:"text",value:r.name,onChange:o=>i(l=>({...l,name:o.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),p.jsx("textarea",{value:r.description,onChange:o=>i(l=>({...l,description:o.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"is_active",checked:r.is_active,onChange:o=>i(l=>({...l,is_active:o.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),p.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Catgorie active"})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(be,{type:"button",variant:"secondary",onClick:n,children:"Annuler"}),p.jsx(be,{type:"submit",children:t?"Mettre  jour":"Crer"})]})]})}function l8(){const{categories:t,loading:e,error:n}=ey(),{createCategory:r,updateCategory:i,deleteCategory:s,reorderCategory:o,updating:l}=i8(),[a,u]=N.useState(!1),[c,d]=N.useState(null),f=async v=>{try{c?await i(c.id,v):await r(v),u(!1),d(null),window.location.reload()}catch(y){console.error("Error saving category:",y),alert("Une erreur est survenue lors de la sauvegarde de la catgorie")}},h=async v=>{if(window.confirm("tes-vous sr de vouloir supprimer cette catgorie ?"))try{await s(v),window.location.reload()}catch(y){console.error("Error deleting category:",y),alert("Une erreur est survenue lors de la suppression de la catgorie")}},m=async(v,y)=>{try{await o(v,y),window.location.reload()}catch(x){console.error("Error reordering category:",x),alert("Une erreur est survenue lors du rordonnancement de la catgorie")}},g=async(v,y)=>{try{await i(v,{is_active:y}),window.location.reload()}catch(x){console.error("Error toggling category:",x),alert("Une erreur est survenue lors de la modification du statut de la catgorie")}};return e?p.jsx("div",{children:"Chargement..."}):n?p.jsxs("div",{children:["Erreur: ",n.message]}):p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des catgories"}),p.jsxs(be,{onClick:()=>u(!0),disabled:l,children:[p.jsx(jg,{className:"h-4 w-4 mr-2"}),"Nouvelle catgorie"]})]}),(a||c)&&p.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm p-6",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:c?"Modifier la catgorie":"Nouvelle catgorie"}),p.jsx(o8,{initialData:c||void 0,onSubmit:f,onCancel:()=>{u(!1),d(null)}})]}),p.jsx(s8,{categories:t,onEdit:d,onDelete:h,onOrderChange:m,onToggleActive:g})]})}function yT(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),o=async()=>{try{const{data:c,error:d}=await ae.from("carousel_images").select("*").order("order");if(d)throw d;e(c||[])}catch(c){s(c instanceof Error?c:new Error("Erreur lors du chargement des images"))}finally{r(!1)}},l=async c=>{try{const{error:d}=await ae.from("carousel_images").insert([c]);if(d)throw d;await o()}catch(d){throw d instanceof Error?d:new Error("Erreur lors de l'ajout de l'image")}},a=async(c,d)=>{try{const{error:f}=await ae.from("carousel_images").update(d).eq("id",c);if(f)throw f;await o()}catch(f){throw f instanceof Error?f:new Error("Erreur lors de la mise  jour de l'image")}},u=async c=>{try{const{error:d}=await ae.from("carousel_images").delete().eq("id",c);if(d)throw d;await o()}catch(d){throw d instanceof Error?d:new Error("Erreur lors de la suppression de l'image")}};return N.useEffect(()=>{o()},[]),{images:t,loading:n,error:i,addImage:l,updateImage:a,deleteImage:u,refresh:o}}function fd({children:t,className:e=""}){return p.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${e}`,children:t})}function a8({src:t,alt:e}){return p.jsx("img",{src:t,alt:e,className:"w-full h-48 object-cover"})}function u8({children:t,className:e=""}){return p.jsx("div",{className:`p-6 ${e}`,children:t})}function c8(){const{images:t,loading:e,addImage:n,updateImage:r,deleteImage:i}=yT(),{uploadImage:s,uploading:o}=ty(),[l,a]=N.useState({title:"",alt:""}),u=async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];if(h)try{const g=await s(h);g&&(await n({title:l.title||h.name,alt:l.alt||h.name,url:g,order:t.length}),a({title:"",alt:""}))}catch{alert("Erreur lors de l'upload de l'image")}},c=async f=>{if(window.confirm("tes-vous sr de vouloir supprimer cette image ?"))try{await i(f)}catch{alert("Erreur lors de la suppression de l'image")}},d=async(f,h)=>{const m=t.findIndex(v=>v.id===f.id),g=h==="up"?m-1:m+1;if(!(g<0||g>=t.length))try{await r(f.id,{order:g}),await r(t[g].id,{order:m})}catch{alert("Erreur lors du rordonnancement")}};return e?p.jsx("div",{children:"Chargement..."}):p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Gestion du carrousel d'images"}),p.jsxs(fd,{className:"p-6 mb-8",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Ajouter une nouvelle image"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),p.jsx("input",{type:"text",value:l.title,onChange:f=>a(h=>({...h,title:f.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte alternatif"}),p.jsx("input",{type:"text",value:l.alt,onChange:f=>a(h=>({...h,alt:f.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:u,disabled:o,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]})]}),p.jsx("div",{className:"space-y-4",children:t.map((f,h)=>p.jsx(fd,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:f.url,alt:f.alt,className:"w-32 h-20 object-cover rounded"}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h3",{className:"font-medium",children:f.title}),p.jsx("p",{className:"text-sm text-gray-500",children:f.alt})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>d(f,"up"),disabled:h===0,children:p.jsx(Og,{className:"w-4 h-4"})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>d(f,"down"),disabled:h===t.length-1,children:p.jsx(Ag,{className:"w-4 h-4"})}),p.jsx(be,{variant:"secondary",size:"sm",onClick:()=>c(f.id),children:p.jsx(Fd,{className:"w-4 h-4 text-red-500"})})]})]})},f.id))})]})}function d8(){const{profile:t,loading:e}=Cs(),{updateProfile:n,updating:r}=aS(),[i,s]=_e.useState({username:"",full_name:""});if(_e.useEffect(()=>{t&&s({username:t.username,full_name:t.full_name||""})},[t]),e)return p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"text-gray-500",children:"Chargement..."})});const o=async l=>{l.preventDefault();try{await n(i),alert("Paramtres mis  jour avec succs")}catch{alert("Erreur lors de la mise  jour des paramtres")}};return p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Paramtres administrateur"}),p.jsx(fd,{className:"p-6",children:p.jsxs("form",{onSubmit:o,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),p.jsx("input",{type:"text",value:i.username,onChange:l=>s(a=>({...a,username:l.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),p.jsx("input",{type:"text",value:i.full_name,onChange:l=>s(a=>({...a,full_name:l.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),p.jsx(be,{type:"submit",disabled:r,children:r?"Enregistrement...":"Enregistrer les modifications"})]})})]})}function f8(){return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("img",{src:"https://lbeelrqqjthmwyxbdpej.supabase.co/storage/v1/object/public/media/leo-souriant.jpg?t=2025-01-04T15%3A19%3A04.930Z",alt:"Lo souriant, tenant les mains de ses parents",className:"w-64 h-64 object-cover rounded-lg mx-auto mb-8 shadow-lg"}),p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Voici Lo !"})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-16",children:p.jsxs("div",{className:"prose prose-lg max-w-none",children:[p.jsx("p",{children:"Ce petit champion est n le 4 mars 2014. Sa date de naissance n'est pas forcment le plus beau souvenir qui soit car Lo a failli mourir ce jour-l suite  un problme de placenta. Mais il s'est battu comme un chef, contre les pronostics et le handicap."}),p.jsx("p",{children:"Aujourd'hui, ce petit bonhomme pate les gens par son sourire et ses prouesses. Il a appris  marcher aprs de nombreuses sances de rducation, parle avec ses mains, tente mme des cascades."}),p.jsx("p",{children:"Mais, il a aussi besoin de rducations, 5 sances par semaine, d'un sige coque, de chaussures spciales... Nous, ses parents, devons l'entourer d'normment d'attention et de soutien."}),p.jsx("p",{children:"Le premier combat que nous avons men, c'est celui de l'alimentation. Lo a d tre nourri par sonde, et nous avons tout tent pour lui apprendre  manger. C'est la clinique Notube en Autriche qui nous a aid  faire manger Lo, et surtout  devenir gourmand !"}),p.jsx("p",{children:"La suite, c'est la marche autonome. Lo a encore besoin d'une poussette pour les longs trajets, et de coques et chaussures spcialises pour la marche. Il va aussi avoir besoin d'un tricycle pour se muscler et amliorer son tonus."}),p.jsx("p",{children:"Enfin, notre dernier combat est le plus compliqu : apprendre  s'exprimer pour aller  l'cole comme tout le monde. Pour cela, nous avons appris avec Lo le langage des signes, nous lui apprenons  communiquer par tablette, et nous faisons tous les jours une rducation  la parole de la mthode Talk Tools."}),p.jsx("p",{children:"Tout cela, est financ par l'association, grce  laquelle Lo avance chaque jour un peu plus !"})]})}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"text-center p-6",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(yM,{className:"w-8 h-8 text-blue-600"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Notre Mission"}),p.jsx("p",{className:"text-gray-600",children:"Soutenir Lo dans son dveloppement et son panouissement quotidien."})]}),p.jsxs("div",{className:"text-center p-6",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(Dp,{className:"w-8 h-8 text-blue-600"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Notre quipe"}),p.jsx("p",{className:"text-gray-600",children:"Une quipe dvoue de bnvoles et de professionnels engags."})]}),p.jsxs("div",{className:"text-center p-6",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(PM,{className:"w-8 h-8 text-blue-600"})}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nos Objectifs"}),p.jsx("p",{className:"text-gray-600",children:"Permettre  Lo d'accder  l'autonomie et  une vie panouie."})]})]})]})}function tw({title:t,name:e,address:n,email:r,phone:i,description:s}){return p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:t}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"font-medium",children:e}),n&&p.jsxs("div",{className:"flex items-start",children:[p.jsx(Mg,{className:"w-5 h-5 text-blue-600 mt-1 mr-3"}),p.jsx("div",{children:n.map((o,l)=>p.jsx("p",{className:"text-gray-600",children:o},l))})]}),r&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(sS,{className:"w-5 h-5 text-blue-600 mr-3"}),p.jsx("a",{href:`mailto:${r}`,className:"text-gray-600 hover:text-blue-600",children:r})]}),i&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(NM,{className:"w-5 h-5 text-blue-600 mr-3"}),p.jsx("a",{href:`tel:${i}`,className:"text-gray-600 hover:text-blue-600",children:i})]}),s&&p.jsx("p",{className:"text-gray-600 mt-2",children:s})]})]})}function h8(){const t=e=>{e.preventDefault()};return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contactez-Nous"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Nous sommes l pour rpondre  vos questions et vous accompagner dans votre dmarche."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[p.jsx(tw,{title:"Prsidente de l'association",name:"SCHAGENE Yolande",address:["102 Grand rue","68820 KRUTH"],email:"yolande.hipp@wanadoo.fr"}),p.jsx(tw,{title:"Renseignements sur les rducations",name:"KLEIN Julie",phone:"0749343996",email:"julie_984@hotmail.fr"})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Envoyez-nous un message"}),p.jsxs("form",{onSubmit:t,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),p.jsx("input",{type:"text",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),p.jsx("textarea",{rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p.jsx(be,{type:"submit",className:"w-full",children:"Envoyer le message"})]})]})]})}function p8(t){const[e,n]=N.useState(0),[r,i]=N.useState(!0),s=N.useCallback(()=>{n(a=>a===t-1?0:a+1)},[t]),o=N.useCallback(()=>{n(a=>a===0?t-1:a-1)},[t]),l=N.useCallback(a=>{n(a)},[]);return N.useEffect(()=>{if(!r)return;const a=setInterval(s,5e3);return()=>clearInterval(a)},[r,s]),{currentIndex:e,isPlaying:r,setIsPlaying:i,nextSlide:s,prevSlide:o,goToSlide:l}}function m8({onPrevClick:t,onNextClick:e,showControls:n}){return n?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:t,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-gray-100/80 hover:bg-gray-200/80 text-gray-700 transition-all","aria-label":"Image prcdente",children:p.jsx(Xb,{size:24})}),p.jsx("button",{onClick:e,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-gray-100/80 hover:bg-gray-200/80 text-gray-700 transition-all","aria-label":"Image suivante",children:p.jsx(Zb,{size:24})})]}):null}function g8({image:t,isActive:e}){return p.jsxs("div",{className:`absolute inset-0 transition-opacity duration-500 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-white/10"}),p.jsx("img",{src:t.url,alt:t.alt,className:"w-full h-full object-contain bg-white",loading:"lazy"})]})}function y8({total:t,current:e,onChange:n}){return p.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-30",children:Array.from({length:t}).map((r,i)=>p.jsx("button",{onClick:()=>n(i),className:`h-2 rounded-full transition-all ${i===e?"w-8 bg-gray-800":"w-2 bg-gray-400 hover:bg-gray-600"}`,"aria-label":`Aller  l'image ${i+1}`,"aria-current":i===e},i))})}function x8(t){const[e,n]=N.useState(!1);return N.useEffect(()=>{const r=window.matchMedia(t);n(r.matches);const i=s=>n(s.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[t]),e}function v8(){const{images:t,loading:e}=yT(),n=x8("(max-width: 768px)"),{currentIndex:r,isPlaying:i,setIsPlaying:s,nextSlide:o,prevSlide:l,goToSlide:a}=p8(t.length);return e?p.jsx("div",{className:"relative aspect-[4/1] w-full bg-gray-100 animate-pulse",children:p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:"Chargement..."})}):t.length===0?null:p.jsxs("div",{className:"relative aspect-[4/1] w-full overflow-hidden bg-white",onMouseEnter:()=>s(!1),onMouseLeave:()=>s(!0),children:[t.map((u,c)=>p.jsx(g8,{image:{url:u.url,alt:u.alt,title:u.title},isActive:c===r,isMobile:n},u.id)),p.jsx(m8,{onPrevClick:l,onNextClick:o,showControls:!n}),p.jsx(y8,{total:t.length,current:r,onChange:a})]})}function w8(){return p.jsx("div",{className:"bg-white",children:p.jsx(v8,{})})}function k8({title:t,excerpt:e,imageUrl:n,link:r="#"}){return p.jsxs(fd,{children:[p.jsx(a8,{src:n,alt:t}),p.jsxs(u8,{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),p.jsx("p",{className:"text-gray-600",children:e}),p.jsx(Pe,{to:r,className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Lire la suite "})]})]})}const b8=[{id:1,title:"Notre Mission",excerpt:"Dcouvrez comment nous soutenons la recherche et l'accompagnement...",imageUrl:"https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?auto=format&fit=crop&q=80&w=800",link:"/projects"},{id:2,title:"vnements  Venir",excerpt:"Rejoignez-nous pour nos prochains vnements de sensibilisation...",imageUrl:"https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?auto=format&fit=crop&q=80&w=800",link:"/events"},{id:3,title:"Comment Nous Aider",excerpt:"Votre soutien est prcieux. Dcouvrez comment vous pouvez contribuer...",imageUrl:"https://images.unsplash.com/photo-1469571486292-0ba58a3f068b?auto=format&fit=crop&q=80&w=800",link:"/contact"}];function S8(){return p.jsx("section",{className:"py-12 bg-gray-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Articles  la Une"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:b8.map(t=>p.jsx(k8,{...t},t.id))})]})})}function E8(){return p.jsxs(U2,{children:[p.jsx(He,{path:"/login",element:p.jsx(ZM,{})}),p.jsx(He,{path:"/register",element:p.jsx(tj,{})}),p.jsx(He,{path:"/about",element:p.jsx(Ze,{children:p.jsx(f8,{})})}),p.jsx(He,{path:"/contact",element:p.jsx(Ze,{children:p.jsx(h8,{})})}),p.jsx(He,{path:"/articles",element:p.jsx(Ze,{children:p.jsx(yz,{})})}),p.jsx(He,{path:"/articles/:slug",element:p.jsx(Ze,{children:p.jsx(az,{})})}),p.jsx(He,{path:"/projects",element:p.jsx(Ze,{children:p.jsx(kz,{})})}),p.jsx(He,{path:"/events",element:p.jsx(Ze,{children:p.jsx(vz,{})})}),p.jsx(He,{path:"/settings",element:p.jsx(uM,{children:p.jsx(Ze,{children:p.jsx(nj,{})})})}),p.jsx(He,{path:"/admin/dashboard",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(Sz,{})})})}),p.jsx(He,{path:"/admin/articles",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(_z,{})})})}),p.jsx(He,{path:"/admin/articles/new",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(Zv,{})})})}),p.jsx(He,{path:"/admin/articles/:slug/edit",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(Zv,{})})})}),p.jsx(He,{path:"/admin/categories",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(l8,{})})})}),p.jsx(He,{path:"/admin/events",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(t8,{})})})}),p.jsx(He,{path:"/admin/events/new",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(ew,{})})})}),p.jsx(He,{path:"/admin/events/:id/edit",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(ew,{})})})}),p.jsx(He,{path:"/admin/carousel",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(c8,{})})})}),p.jsx(He,{path:"/admin/settings",element:p.jsx(Zn,{children:p.jsx(Ze,{children:p.jsx(d8,{})})})}),p.jsx(He,{path:"/",element:p.jsxs(Ze,{children:[p.jsx(w8,{}),p.jsx(S8,{})]})})]})}pb(document.getElementById("root")).render(p.jsx(N.StrictMode,{children:p.jsx(G2,{children:p.jsx(aM,{children:p.jsx(E8,{})})})}));export{Em as g};
